function Dm(e,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const p=Object.getOwnPropertyDescriptor(r,a);p&&Object.defineProperty(e,a,p.get?p:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function i(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(a){if(a.ep)return;a.ep=!0;const p=i(a);fetch(a.href,p)}})();function ga(e,t){const i=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)i[r[a]]=!0;return t?a=>!!i[a.toLowerCase()]:a=>!!i[a]}const wt={},$i=[],Be=()=>{},Om=()=>!1,Rm=/^on[^a-z]/,ho=e=>Rm.test(e),Ca=e=>e.startsWith("onUpdate:"),Bt=Object.assign,xa=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Nm=Object.prototype.hasOwnProperty,rt=(e,t)=>Nm.call(e,t),Q=Array.isArray,qs=e=>mo(e)==="[object Map]",Im=e=>mo(e)==="[object Set]",tt=e=>typeof e=="function",zt=e=>typeof e=="string",Pa=e=>typeof e=="symbol",Ot=e=>e!==null&&typeof e=="object",op=e=>Ot(e)&&tt(e.then)&&tt(e.catch),Bm=Object.prototype.toString,mo=e=>Bm.call(e),jm=e=>mo(e).slice(8,-1),Fm=e=>mo(e)==="[object Object]",ya=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wr=ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},zm=/-(\w)/g,Je=vo(e=>e.replace(zm,(t,i)=>i?i.toUpperCase():"")),$m=/\B([A-Z])/g,Qi=vo(e=>e.replace($m,"-$1").toLowerCase()),fo=vo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Il=vo(e=>e?`on${fo(e)}`:""),Xs=(e,t)=>!Object.is(e,t),Bl=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},no=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},Km=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let eu;const ta=()=>eu||(eu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Js(e){if(Q(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],a=zt(r)?Gm(r):Js(r);if(a)for(const p in a)t[p]=a[p]}return t}else{if(zt(e))return e;if(Ot(e))return e}}const Um=/;(?![^(]*\))/g,Hm=/:([^]+)/,qm=/\/\*[^]*?\*\//g;function Gm(e){const t={};return e.replace(qm,"").split(Um).forEach(i=>{if(i){const r=i.split(Hm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ea(e){let t="";if(zt(e))t=e;else if(Q(e))for(let i=0;i<e.length;i++){const r=Ea(e[i]);r&&(t+=r+" ")}else if(Ot(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Ym="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wm=ga(Ym);function lp(e){return!!e||e===""}let Oe;class Xm{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Oe,!t&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=Oe;try{return Oe=this,t()}finally{Oe=i}}}on(){Oe=this}off(){Oe=this.parent}stop(t){if(this._active){let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.scopes)for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Jm(e,t=Oe){t&&t.active&&t.effects.push(e)}function Zm(){return Oe}const ka=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ap=e=>(e.w&Un)>0,cp=e=>(e.n&Un)>0,Qm=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Un},tv=e=>{const{deps:t}=e;if(t.length){let i=0;for(let r=0;r<t.length;r++){const a=t[r];ap(a)&&!cp(a)?a.delete(e):t[i++]=a,a.w&=~Un,a.n&=~Un}t.length=i}},ea=new WeakMap;let Us=0,Un=1;const na=30;let Re;const fi=Symbol(""),ia=Symbol("");class Va{constructor(t,i=null,r){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Jm(this,r)}run(){if(!this.active)return this.fn();let t=Re,i=zn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Re,Re=this,zn=!0,Un=1<<++Us,Us<=na?Qm(this):nu(this),this.fn()}finally{Us<=na&&tv(this),Un=1<<--Us,Re=this.parent,zn=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Re===this?this.deferStop=!0:this.active&&(nu(this),this.onStop&&this.onStop(),this.active=!1)}}function nu(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let zn=!0;const up=[];function ts(){up.push(zn),zn=!1}function es(){const e=up.pop();zn=e===void 0?!0:e}function ce(e,t,i){if(zn&&Re){let r=ea.get(e);r||ea.set(e,r=new Map);let a=r.get(i);a||r.set(i,a=ka()),pp(a)}}function pp(e,t){let i=!1;Us<=na?cp(e)||(e.n|=Un,i=!ap(e)):i=!e.has(Re),i&&(e.add(Re),Re.deps.push(e))}function _n(e,t,i,r,a,p){const v=ea.get(e);if(!v)return;let f=[];if(t==="clear")f=[...v.values()];else if(i==="length"&&Q(e)){const w=Number(r);v.forEach((C,k)=>{(k==="length"||k>=w)&&f.push(C)})}else switch(i!==void 0&&f.push(v.get(i)),t){case"add":Q(e)?ya(i)&&f.push(v.get("length")):(f.push(v.get(fi)),qs(e)&&f.push(v.get(ia)));break;case"delete":Q(e)||(f.push(v.get(fi)),qs(e)&&f.push(v.get(ia)));break;case"set":qs(e)&&f.push(v.get(fi));break}if(f.length===1)f[0]&&sa(f[0]);else{const w=[];for(const C of f)C&&w.push(...C);sa(ka(w))}}function sa(e,t){const i=Q(e)?e:[...e];for(const r of i)r.computed&&iu(r);for(const r of i)r.computed||iu(r)}function iu(e,t){(e!==Re||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ev=ga("__proto__,__v_isRef,__isVue"),hp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pa)),nv=Sa(),iv=Sa(!1,!0),sv=Sa(!0),su=rv();function rv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const r=pt(this);for(let p=0,v=this.length;p<v;p++)ce(r,"get",p+"");const a=r[t](...i);return a===-1||a===!1?r[t](...i.map(pt)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){ts();const r=pt(this)[t].apply(this,i);return es(),r}}),e}function ov(e){const t=pt(this);return ce(t,"has",e),t.hasOwnProperty(e)}function Sa(e=!1,t=!1){return function(r,a,p){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&p===(e?t?xv:bp:t?fp:vp).get(r))return r;const v=Q(r);if(!e){if(v&&rt(su,a))return Reflect.get(su,a,p);if(a==="hasOwnProperty")return ov}const f=Reflect.get(r,a,p);return(Pa(a)?hp.has(a):ev(a))||(e||ce(r,"get",a),t)?f:Xt(f)?v&&ya(a)?f:f.value:Ot(f)?e?_p(f):Aa(f):f}}const lv=dp(),av=dp(!0);function dp(e=!1){return function(i,r,a,p){let v=i[r];if(Yi(v)&&Xt(v)&&!Xt(a))return!1;if(!e&&(!io(a)&&!Yi(a)&&(v=pt(v),a=pt(a)),!Q(i)&&Xt(v)&&!Xt(a)))return v.value=a,!0;const f=Q(i)&&ya(r)?Number(r)<i.length:rt(i,r),w=Reflect.set(i,r,a,p);return i===pt(p)&&(f?Xs(a,v)&&_n(i,"set",r,a):_n(i,"add",r,a)),w}}function cv(e,t){const i=rt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&_n(e,"delete",t,void 0),r}function uv(e,t){const i=Reflect.has(e,t);return(!Pa(t)||!hp.has(t))&&ce(e,"has",t),i}function pv(e){return ce(e,"iterate",Q(e)?"length":fi),Reflect.ownKeys(e)}const mp={get:nv,set:lv,deleteProperty:cv,has:uv,ownKeys:pv},hv={get:sv,set(e,t){return!0},deleteProperty(e,t){return!0}},dv=Bt({},mp,{get:iv,set:av}),La=e=>e,bo=e=>Reflect.getPrototypeOf(e);function $r(e,t,i=!1,r=!1){e=e.__v_raw;const a=pt(e),p=pt(t);i||(t!==p&&ce(a,"get",t),ce(a,"get",p));const{has:v}=bo(a),f=r?La:i?Da:Zs;if(v.call(a,t))return f(e.get(t));if(v.call(a,p))return f(e.get(p));e!==a&&e.get(t)}function Kr(e,t=!1){const i=this.__v_raw,r=pt(i),a=pt(e);return t||(e!==a&&ce(r,"has",e),ce(r,"has",a)),e===a?i.has(e):i.has(e)||i.has(a)}function Ur(e,t=!1){return e=e.__v_raw,!t&&ce(pt(e),"iterate",fi),Reflect.get(e,"size",e)}function ru(e){e=pt(e);const t=pt(this);return bo(t).has.call(t,e)||(t.add(e),_n(t,"add",e,e)),this}function ou(e,t){t=pt(t);const i=pt(this),{has:r,get:a}=bo(i);let p=r.call(i,e);p||(e=pt(e),p=r.call(i,e));const v=a.call(i,e);return i.set(e,t),p?Xs(t,v)&&_n(i,"set",e,t):_n(i,"add",e,t),this}function lu(e){const t=pt(this),{has:i,get:r}=bo(t);let a=i.call(t,e);a||(e=pt(e),a=i.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return a&&_n(t,"delete",e,void 0),p}function au(){const e=pt(this),t=e.size!==0,i=e.clear();return t&&_n(e,"clear",void 0,void 0),i}function Hr(e,t){return function(r,a){const p=this,v=p.__v_raw,f=pt(v),w=t?La:e?Da:Zs;return!e&&ce(f,"iterate",fi),v.forEach((C,k)=>r.call(a,w(C),w(k),p))}}function qr(e,t,i){return function(...r){const a=this.__v_raw,p=pt(a),v=qs(p),f=e==="entries"||e===Symbol.iterator&&v,w=e==="keys"&&v,C=a[e](...r),k=i?La:t?Da:Zs;return!t&&ce(p,"iterate",w?ia:fi),{next(){const{value:E,done:R}=C.next();return R?{value:E,done:R}:{value:f?[k(E[0]),k(E[1])]:k(E),done:R}},[Symbol.iterator](){return this}}}}function Rn(e){return function(...t){return e==="delete"?!1:this}}function mv(){const e={get(p){return $r(this,p)},get size(){return Ur(this)},has:Kr,add:ru,set:ou,delete:lu,clear:au,forEach:Hr(!1,!1)},t={get(p){return $r(this,p,!1,!0)},get size(){return Ur(this)},has:Kr,add:ru,set:ou,delete:lu,clear:au,forEach:Hr(!1,!0)},i={get(p){return $r(this,p,!0)},get size(){return Ur(this,!0)},has(p){return Kr.call(this,p,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:Hr(!0,!1)},r={get(p){return $r(this,p,!0,!0)},get size(){return Ur(this,!0)},has(p){return Kr.call(this,p,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:Hr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=qr(p,!1,!1),i[p]=qr(p,!0,!1),t[p]=qr(p,!1,!0),r[p]=qr(p,!0,!0)}),[e,i,t,r]}const[vv,fv,bv,_v]=mv();function Ma(e,t){const i=t?e?_v:bv:e?fv:vv;return(r,a,p)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(rt(i,a)&&a in r?i:r,a,p)}const wv={get:Ma(!1,!1)},gv={get:Ma(!1,!0)},Cv={get:Ma(!0,!1)},vp=new WeakMap,fp=new WeakMap,bp=new WeakMap,xv=new WeakMap;function Pv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yv(e){return e.__v_skip||!Object.isExtensible(e)?0:Pv(jm(e))}function Aa(e){return Yi(e)?e:Ta(e,!1,mp,wv,vp)}function Ev(e){return Ta(e,!1,dv,gv,fp)}function _p(e){return Ta(e,!0,hv,Cv,bp)}function Ta(e,t,i,r,a){if(!Ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=a.get(e);if(p)return p;const v=yv(e);if(v===0)return e;const f=new Proxy(e,v===2?r:i);return a.set(e,f),f}function Ki(e){return Yi(e)?Ki(e.__v_raw):!!(e&&e.__v_isReactive)}function Yi(e){return!!(e&&e.__v_isReadonly)}function io(e){return!!(e&&e.__v_isShallow)}function wp(e){return Ki(e)||Yi(e)}function pt(e){const t=e&&e.__v_raw;return t?pt(t):e}function gp(e){return no(e,"__v_skip",!0),e}const Zs=e=>Ot(e)?Aa(e):e,Da=e=>Ot(e)?_p(e):e;function Cp(e){zn&&Re&&(e=pt(e),pp(e.dep||(e.dep=ka())))}function xp(e,t){e=pt(e);const i=e.dep;i&&sa(i)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function cu(e){return kv(e,!1)}function kv(e,t){return Xt(e)?e:new Vv(e,t)}class Vv{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:pt(t),this._value=i?t:Zs(t)}get value(){return Cp(this),this._value}set value(t){const i=this.__v_isShallow||io(t)||Yi(t);t=i?t:pt(t),Xs(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Zs(t),xp(this))}}function Sv(e){return Xt(e)?e.value:e}const Lv={get:(e,t,i)=>Sv(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const a=e[t];return Xt(a)&&!Xt(i)?(a.value=i,!0):Reflect.set(e,t,i,r)}};function Pp(e){return Ki(e)?e:new Proxy(e,Lv)}class Mv{constructor(t,i,r,a){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Va(t,()=>{this._dirty||(this._dirty=!0,xp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=pt(this);return Cp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Av(e,t,i=!1){let r,a;const p=tt(e);return p?(r=e,a=Be):(r=e.get,a=e.set),new Mv(r,a,p||!a,i)}function $n(e,t,i,r){let a;try{a=r?e(...r):e()}catch(p){_o(p,t,i)}return a}function je(e,t,i,r){if(tt(e)){const p=$n(e,t,i,r);return p&&op(p)&&p.catch(v=>{_o(v,t,i)}),p}const a=[];for(let p=0;p<e.length;p++)a.push(je(e[p],t,i,r));return a}function _o(e,t,i,r=!0){const a=t?t.vnode:null;if(t){let p=t.parent;const v=t.proxy,f=i;for(;p;){const C=p.ec;if(C){for(let k=0;k<C.length;k++)if(C[k](e,v,f)===!1)return}p=p.parent}const w=t.appContext.config.errorHandler;if(w){$n(w,null,10,[e,v,f]);return}}Tv(e,i,a,r)}function Tv(e,t,i,r=!0){console.error(e)}let Qs=!1,ra=!1;const Wt=[];let Xe=0;const Ui=[];let vn=null,mi=0;const yp=Promise.resolve();let Oa=null;function Ep(e){const t=Oa||yp;return e?t.then(this?e.bind(this):e):t}function Dv(e){let t=Xe+1,i=Wt.length;for(;t<i;){const r=t+i>>>1;tr(Wt[r])<e?t=r+1:i=r}return t}function Ra(e){(!Wt.length||!Wt.includes(e,Qs&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?Wt.push(e):Wt.splice(Dv(e.id),0,e),kp())}function kp(){!Qs&&!ra&&(ra=!0,Oa=yp.then(Sp))}function Ov(e){const t=Wt.indexOf(e);t>Xe&&Wt.splice(t,1)}function Rv(e){Q(e)?Ui.push(...e):(!vn||!vn.includes(e,e.allowRecurse?mi+1:mi))&&Ui.push(e),kp()}function uu(e,t=Qs?Xe+1:0){for(;t<Wt.length;t++){const i=Wt[t];i&&i.pre&&(Wt.splice(t,1),t--,i())}}function Vp(e){if(Ui.length){const t=[...new Set(Ui)];if(Ui.length=0,vn){vn.push(...t);return}for(vn=t,vn.sort((i,r)=>tr(i)-tr(r)),mi=0;mi<vn.length;mi++)vn[mi]();vn=null,mi=0}}const tr=e=>e.id==null?1/0:e.id,Nv=(e,t)=>{const i=tr(e)-tr(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function Sp(e){ra=!1,Qs=!0,Wt.sort(Nv);const t=Be;try{for(Xe=0;Xe<Wt.length;Xe++){const i=Wt[Xe];i&&i.active!==!1&&$n(i,null,14)}}finally{Xe=0,Wt.length=0,Vp(),Qs=!1,Oa=null,(Wt.length||Ui.length)&&Sp()}}function Iv(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||wt;let a=i;const p=t.startsWith("update:"),v=p&&t.slice(7);if(v&&v in r){const k=`${v==="modelValue"?"model":v}Modifiers`,{number:E,trim:R}=r[k]||wt;R&&(a=i.map(G=>zt(G)?G.trim():G)),E&&(a=i.map(Km))}let f,w=r[f=Il(t)]||r[f=Il(Je(t))];!w&&p&&(w=r[f=Il(Qi(t))]),w&&je(w,e,6,a);const C=r[f+"Once"];if(C){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,je(C,e,6,a)}}function Lp(e,t,i=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const p=e.emits;let v={},f=!1;if(!tt(e)){const w=C=>{const k=Lp(C,t,!0);k&&(f=!0,Bt(v,k))};!i&&t.mixins.length&&t.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}return!p&&!f?(Ot(e)&&r.set(e,null),null):(Q(p)?p.forEach(w=>v[w]=null):Bt(v,p),Ot(e)&&r.set(e,v),v)}function wo(e,t){return!e||!ho(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,Qi(t))||rt(e,t))}let Ne=null,go=null;function so(e){const t=Ne;return Ne=e,go=e&&e.type.__scopeId||null,t}function Bv(e){go=e}function jv(){go=null}function Fv(e,t=Ne,i){if(!t||e._n)return e;const r=(...a)=>{r._d&&xu(-1);const p=so(t);let v;try{v=e(...a)}finally{so(p),r._d&&xu(1)}return v};return r._n=!0,r._c=!0,r._d=!0,r}function jl(e){const{type:t,vnode:i,proxy:r,withProxy:a,props:p,propsOptions:[v],slots:f,attrs:w,emit:C,render:k,renderCache:E,data:R,setupState:G,ctx:mt,inheritAttrs:I}=e;let ht,kt;const X=so(e);try{if(i.shapeFlag&4){const j=a||r;ht=We(k.call(j,j,E,p,G,R,mt)),kt=w}else{const j=t;ht=We(j.length>1?j(p,{attrs:w,slots:f,emit:C}):j(p,null)),kt=t.props?w:zv(w)}}catch(j){Ys.length=0,_o(j,e,1),ht=le(_i)}let Vt=ht;if(kt&&I!==!1){const j=Object.keys(kt),{shapeFlag:we}=Vt;j.length&&we&7&&(v&&j.some(Ca)&&(kt=$v(kt,v)),Vt=Wi(Vt,kt))}return i.dirs&&(Vt=Wi(Vt),Vt.dirs=Vt.dirs?Vt.dirs.concat(i.dirs):i.dirs),i.transition&&(Vt.transition=i.transition),ht=Vt,so(X),ht}const zv=e=>{let t;for(const i in e)(i==="class"||i==="style"||ho(i))&&((t||(t={}))[i]=e[i]);return t},$v=(e,t)=>{const i={};for(const r in e)(!Ca(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function Kv(e,t,i){const{props:r,children:a,component:p}=e,{props:v,children:f,patchFlag:w}=t,C=p.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&w>=0){if(w&1024)return!0;if(w&16)return r?pu(r,v,C):!!v;if(w&8){const k=t.dynamicProps;for(let E=0;E<k.length;E++){const R=k[E];if(v[R]!==r[R]&&!wo(C,R))return!0}}}else return(a||f)&&(!f||!f.$stable)?!0:r===v?!1:r?v?pu(r,v,C):!0:!!v;return!1}function pu(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const p=r[a];if(t[p]!==e[p]&&!wo(i,p))return!0}return!1}function Uv({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const Hv=e=>e.__isSuspense;function qv(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Rv(e)}const Gr={};function Fl(e,t,i){return Mp(e,t,i)}function Mp(e,t,{immediate:i,deep:r,flush:a,onTrack:p,onTrigger:v}=wt){var f;const w=Zm()===((f=Ft)==null?void 0:f.scope)?Ft:null;let C,k=!1,E=!1;if(Xt(e)?(C=()=>e.value,k=io(e)):Ki(e)?(C=()=>e,r=!0):Q(e)?(E=!0,k=e.some(j=>Ki(j)||io(j)),C=()=>e.map(j=>{if(Xt(j))return j.value;if(Ki(j))return zi(j);if(tt(j))return $n(j,w,2)})):tt(e)?t?C=()=>$n(e,w,2):C=()=>{if(!(w&&w.isUnmounted))return R&&R(),je(e,w,3,[G])}:C=Be,t&&r){const j=C;C=()=>zi(j())}let R,G=j=>{R=X.onStop=()=>{$n(j,w,4)}},mt;if(nr)if(G=Be,t?i&&je(t,w,3,[C(),E?[]:void 0,G]):C(),a==="sync"){const j=Uf();mt=j.__watcherHandles||(j.__watcherHandles=[])}else return Be;let I=E?new Array(e.length).fill(Gr):Gr;const ht=()=>{if(!!X.active)if(t){const j=X.run();(r||k||(E?j.some((we,sn)=>Xs(we,I[sn])):Xs(j,I)))&&(R&&R(),je(t,w,3,[j,I===Gr?void 0:E&&I[0]===Gr?[]:I,G]),I=j)}else X.run()};ht.allowRecurse=!!t;let kt;a==="sync"?kt=ht:a==="post"?kt=()=>oe(ht,w&&w.suspense):(ht.pre=!0,w&&(ht.id=w.uid),kt=()=>Ra(ht));const X=new Va(C,kt);t?i?ht():I=X.run():a==="post"?oe(X.run.bind(X),w&&w.suspense):X.run();const Vt=()=>{X.stop(),w&&w.scope&&xa(w.scope.effects,X)};return mt&&mt.push(Vt),Vt}function Gv(e,t,i){const r=this.proxy,a=zt(e)?e.includes(".")?Ap(r,e):()=>r[e]:e.bind(r,r);let p;tt(t)?p=t:(p=t.handler,i=t);const v=Ft;Xi(this);const f=Mp(a,p.bind(r),i);return v?Xi(v):bi(),f}function Ap(e,t){const i=t.split(".");return()=>{let r=e;for(let a=0;a<i.length&&r;a++)r=r[i[a]];return r}}function zi(e,t){if(!Ot(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Xt(e))zi(e.value,t);else if(Q(e))for(let i=0;i<e.length;i++)zi(e[i],t);else if(Im(e)||qs(e))e.forEach(i=>{zi(i,t)});else if(Fm(e))for(const i in e)zi(e[i],t);return e}function pi(e,t,i,r){const a=e.dirs,p=t&&t.dirs;for(let v=0;v<a.length;v++){const f=a[v];p&&(f.oldValue=p[v].value);let w=f.dir[r];w&&(ts(),je(w,i,8,[e.el,f,e,t]),es())}}function Na(e,t){return tt(e)?(()=>Bt({name:e.name},t,{setup:e}))():e}const Xr=e=>!!e.type.__asyncLoader,Tp=e=>e.type.__isKeepAlive;function Yv(e,t){Dp(e,"a",t)}function Wv(e,t){Dp(e,"da",t)}function Dp(e,t,i=Ft){const r=e.__wdc||(e.__wdc=()=>{let a=i;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Co(t,r,i),i){let a=i.parent;for(;a&&a.parent;)Tp(a.parent.vnode)&&Xv(r,t,i,a),a=a.parent}}function Xv(e,t,i,r){const a=Co(t,e,r,!0);Rp(()=>{xa(r[t],a)},i)}function Co(e,t,i=Ft,r=!1){if(i){const a=i[e]||(i[e]=[]),p=t.__weh||(t.__weh=(...v)=>{if(i.isUnmounted)return;ts(),Xi(i);const f=je(t,i,e,v);return bi(),es(),f});return r?a.unshift(p):a.push(p),p}}const gn=e=>(t,i=Ft)=>(!nr||e==="sp")&&Co(e,(...r)=>t(...r),i),Jv=gn("bm"),Op=gn("m"),Zv=gn("bu"),Qv=gn("u"),tf=gn("bum"),Rp=gn("um"),ef=gn("sp"),nf=gn("rtg"),sf=gn("rtc");function rf(e,t=Ft){Co("ec",e,t)}const Np="components";function hu(e,t){return lf(Np,e,!0,t)||e}const of=Symbol.for("v-ndc");function lf(e,t,i=!0,r=!1){const a=Ne||Ft;if(a){const p=a.type;if(e===Np){const f=Ff(p,!1);if(f&&(f===t||f===Je(t)||f===fo(Je(t))))return p}const v=du(a[e]||p[e],t)||du(a.appContext[e],t);return!v&&r?p:v}}function du(e,t){return e&&(e[t]||e[Je(t)]||e[fo(Je(t))])}const oa=e=>e?Gp(e)?za(e)||e.proxy:oa(e.parent):null,Gs=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$emit:e=>e.emit,$options:e=>Ia(e),$forceUpdate:e=>e.f||(e.f=()=>Ra(e.update)),$nextTick:e=>e.n||(e.n=Ep.bind(e.proxy)),$watch:e=>Gv.bind(e)}),zl=(e,t)=>e!==wt&&!e.__isScriptSetup&&rt(e,t),af={get({_:e},t){const{ctx:i,setupState:r,data:a,props:p,accessCache:v,type:f,appContext:w}=e;let C;if(t[0]!=="$"){const G=v[t];if(G!==void 0)switch(G){case 1:return r[t];case 2:return a[t];case 4:return i[t];case 3:return p[t]}else{if(zl(r,t))return v[t]=1,r[t];if(a!==wt&&rt(a,t))return v[t]=2,a[t];if((C=e.propsOptions[0])&&rt(C,t))return v[t]=3,p[t];if(i!==wt&&rt(i,t))return v[t]=4,i[t];la&&(v[t]=0)}}const k=Gs[t];let E,R;if(k)return t==="$attrs"&&ce(e,"get",t),k(e);if((E=f.__cssModules)&&(E=E[t]))return E;if(i!==wt&&rt(i,t))return v[t]=4,i[t];if(R=w.config.globalProperties,rt(R,t))return R[t]},set({_:e},t,i){const{data:r,setupState:a,ctx:p}=e;return zl(a,t)?(a[t]=i,!0):r!==wt&&rt(r,t)?(r[t]=i,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:a,propsOptions:p}},v){let f;return!!i[v]||e!==wt&&rt(e,v)||zl(t,v)||(f=p[0])&&rt(f,v)||rt(r,v)||rt(Gs,v)||rt(a.config.globalProperties,v)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:rt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function mu(e){return Q(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let la=!0;function cf(e){const t=Ia(e),i=e.proxy,r=e.ctx;la=!1,t.beforeCreate&&vu(t.beforeCreate,e,"bc");const{data:a,computed:p,methods:v,watch:f,provide:w,inject:C,created:k,beforeMount:E,mounted:R,beforeUpdate:G,updated:mt,activated:I,deactivated:ht,beforeDestroy:kt,beforeUnmount:X,destroyed:Vt,unmounted:j,render:we,renderTracked:sn,renderTriggered:Kt,errorCaptured:St,serverPrefetch:Ut,expose:et,inheritAttrs:Se,components:Fe,directives:Cn,filters:Ht}=t;if(C&&uf(C,r,null),v)for(const W in v){const z=v[W];tt(z)&&(r[W]=z.bind(i))}if(a){const W=a.call(i,i);Ot(W)&&(e.data=Aa(W))}if(la=!0,p)for(const W in p){const z=p[W],Le=tt(z)?z.bind(i,i):tt(z.get)?z.get.bind(i,i):Be,ze=!tt(z)&&tt(z.set)?z.set.bind(i):Be,Me=$f({get:Le,set:ze});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>Me.value,set:gt=>Me.value=gt})}if(f)for(const W in f)Ip(f[W],r,i,W);if(w){const W=tt(w)?w.call(i):w;Reflect.ownKeys(W).forEach(z=>{ff(z,W[z])})}k&&vu(k,e,"c");function _t(W,z){Q(z)?z.forEach(Le=>W(Le.bind(i))):z&&W(z.bind(i))}if(_t(Jv,E),_t(Op,R),_t(Zv,G),_t(Qv,mt),_t(Yv,I),_t(Wv,ht),_t(rf,St),_t(sf,sn),_t(nf,Kt),_t(tf,X),_t(Rp,j),_t(ef,Ut),Q(et))if(et.length){const W=e.exposed||(e.exposed={});et.forEach(z=>{Object.defineProperty(W,z,{get:()=>i[z],set:Le=>i[z]=Le})})}else e.exposed||(e.exposed={});we&&e.render===Be&&(e.render=we),Se!=null&&(e.inheritAttrs=Se),Fe&&(e.components=Fe),Cn&&(e.directives=Cn)}function uf(e,t,i=Be){Q(e)&&(e=aa(e));for(const r in e){const a=e[r];let p;Ot(a)?"default"in a?p=Jr(a.from||r,a.default,!0):p=Jr(a.from||r):p=Jr(a),Xt(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:v=>p.value=v}):t[r]=p}}function vu(e,t,i){je(Q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function Ip(e,t,i,r){const a=r.includes(".")?Ap(i,r):()=>i[r];if(zt(e)){const p=t[e];tt(p)&&Fl(a,p)}else if(tt(e))Fl(a,e.bind(i));else if(Ot(e))if(Q(e))e.forEach(p=>Ip(p,t,i,r));else{const p=tt(e.handler)?e.handler.bind(i):t[e.handler];tt(p)&&Fl(a,p,e)}}function Ia(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:a,optionsCache:p,config:{optionMergeStrategies:v}}=e.appContext,f=p.get(t);let w;return f?w=f:!a.length&&!i&&!r?w=t:(w={},a.length&&a.forEach(C=>ro(w,C,v,!0)),ro(w,t,v)),Ot(t)&&p.set(t,w),w}function ro(e,t,i,r=!1){const{mixins:a,extends:p}=t;p&&ro(e,p,i,!0),a&&a.forEach(v=>ro(e,v,i,!0));for(const v in t)if(!(r&&v==="expose")){const f=pf[v]||i&&i[v];e[v]=f?f(e[v],t[v]):t[v]}return e}const pf={data:fu,props:bu,emits:bu,methods:Hs,computed:Hs,beforeCreate:te,created:te,beforeMount:te,mounted:te,beforeUpdate:te,updated:te,beforeDestroy:te,beforeUnmount:te,destroyed:te,unmounted:te,activated:te,deactivated:te,errorCaptured:te,serverPrefetch:te,components:Hs,directives:Hs,watch:df,provide:fu,inject:hf};function fu(e,t){return t?e?function(){return Bt(tt(e)?e.call(this,this):e,tt(t)?t.call(this,this):t)}:t:e}function hf(e,t){return Hs(aa(e),aa(t))}function aa(e){if(Q(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function te(e,t){return e?[...new Set([].concat(e,t))]:t}function Hs(e,t){return e?Bt(Object.create(null),e,t):t}function bu(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Bt(Object.create(null),mu(e),mu(t!=null?t:{})):t}function df(e,t){if(!e)return t;if(!t)return e;const i=Bt(Object.create(null),e);for(const r in t)i[r]=te(e[r],t[r]);return i}function Bp(){return{app:null,config:{isNativeTag:Om,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mf=0;function vf(e,t){return function(r,a=null){tt(r)||(r=Bt({},r)),a!=null&&!Ot(a)&&(a=null);const p=Bp(),v=new Set;let f=!1;const w=p.app={_uid:mf++,_component:r,_props:a,_container:null,_context:p,_instance:null,version:Hf,get config(){return p.config},set config(C){},use(C,...k){return v.has(C)||(C&&tt(C.install)?(v.add(C),C.install(w,...k)):tt(C)&&(v.add(C),C(w,...k))),w},mixin(C){return p.mixins.includes(C)||p.mixins.push(C),w},component(C,k){return k?(p.components[C]=k,w):p.components[C]},directive(C,k){return k?(p.directives[C]=k,w):p.directives[C]},mount(C,k,E){if(!f){const R=le(r,a);return R.appContext=p,k&&t?t(R,C):e(R,C,E),f=!0,w._container=C,C.__vue_app__=w,za(R.component)||R.component.proxy}},unmount(){f&&(e(null,w._container),delete w._container.__vue_app__)},provide(C,k){return p.provides[C]=k,w},runWithContext(C){oo=w;try{return C()}finally{oo=null}}};return w}}let oo=null;function ff(e,t){if(Ft){let i=Ft.provides;const r=Ft.parent&&Ft.parent.provides;r===i&&(i=Ft.provides=Object.create(r)),i[e]=t}}function Jr(e,t,i=!1){const r=Ft||Ne;if(r||oo){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:oo._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return i&&tt(t)?t.call(r&&r.proxy):t}}function bf(e,t,i,r=!1){const a={},p={};no(p,Po,1),e.propsDefaults=Object.create(null),jp(e,t,a,p);for(const v in e.propsOptions[0])v in a||(a[v]=void 0);i?e.props=r?a:Ev(a):e.type.props?e.props=a:e.props=p,e.attrs=p}function _f(e,t,i,r){const{props:a,attrs:p,vnode:{patchFlag:v}}=e,f=pt(a),[w]=e.propsOptions;let C=!1;if((r||v>0)&&!(v&16)){if(v&8){const k=e.vnode.dynamicProps;for(let E=0;E<k.length;E++){let R=k[E];if(wo(e.emitsOptions,R))continue;const G=t[R];if(w)if(rt(p,R))G!==p[R]&&(p[R]=G,C=!0);else{const mt=Je(R);a[mt]=ca(w,f,mt,G,e,!1)}else G!==p[R]&&(p[R]=G,C=!0)}}}else{jp(e,t,a,p)&&(C=!0);let k;for(const E in f)(!t||!rt(t,E)&&((k=Qi(E))===E||!rt(t,k)))&&(w?i&&(i[E]!==void 0||i[k]!==void 0)&&(a[E]=ca(w,f,E,void 0,e,!0)):delete a[E]);if(p!==f)for(const E in p)(!t||!rt(t,E)&&!0)&&(delete p[E],C=!0)}C&&_n(e,"set","$attrs")}function jp(e,t,i,r){const[a,p]=e.propsOptions;let v=!1,f;if(t)for(let w in t){if(Wr(w))continue;const C=t[w];let k;a&&rt(a,k=Je(w))?!p||!p.includes(k)?i[k]=C:(f||(f={}))[k]=C:wo(e.emitsOptions,w)||(!(w in r)||C!==r[w])&&(r[w]=C,v=!0)}if(p){const w=pt(i),C=f||wt;for(let k=0;k<p.length;k++){const E=p[k];i[E]=ca(a,w,E,C[E],e,!rt(C,E))}}return v}function ca(e,t,i,r,a,p){const v=e[i];if(v!=null){const f=rt(v,"default");if(f&&r===void 0){const w=v.default;if(v.type!==Function&&!v.skipFactory&&tt(w)){const{propsDefaults:C}=a;i in C?r=C[i]:(Xi(a),r=C[i]=w.call(null,t),bi())}else r=w}v[0]&&(p&&!f?r=!1:v[1]&&(r===""||r===Qi(i))&&(r=!0))}return r}function Fp(e,t,i=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const p=e.props,v={},f=[];let w=!1;if(!tt(e)){const k=E=>{w=!0;const[R,G]=Fp(E,t,!0);Bt(v,R),G&&f.push(...G)};!i&&t.mixins.length&&t.mixins.forEach(k),e.extends&&k(e.extends),e.mixins&&e.mixins.forEach(k)}if(!p&&!w)return Ot(e)&&r.set(e,$i),$i;if(Q(p))for(let k=0;k<p.length;k++){const E=Je(p[k]);_u(E)&&(v[E]=wt)}else if(p)for(const k in p){const E=Je(k);if(_u(E)){const R=p[k],G=v[E]=Q(R)||tt(R)?{type:R}:Bt({},R);if(G){const mt=Cu(Boolean,G.type),I=Cu(String,G.type);G[0]=mt>-1,G[1]=I<0||mt<I,(mt>-1||rt(G,"default"))&&f.push(E)}}}const C=[v,f];return Ot(e)&&r.set(e,C),C}function _u(e){return e[0]!=="$"}function wu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function gu(e,t){return wu(e)===wu(t)}function Cu(e,t){return Q(t)?t.findIndex(i=>gu(i,e)):tt(t)&&gu(t,e)?0:-1}const zp=e=>e[0]==="_"||e==="$stable",Ba=e=>Q(e)?e.map(We):[We(e)],wf=(e,t,i)=>{if(t._n)return t;const r=Fv((...a)=>Ba(t(...a)),i);return r._c=!1,r},$p=(e,t,i)=>{const r=e._ctx;for(const a in e){if(zp(a))continue;const p=e[a];if(tt(p))t[a]=wf(a,p,r);else if(p!=null){const v=Ba(p);t[a]=()=>v}}},Kp=(e,t)=>{const i=Ba(t);e.slots.default=()=>i},gf=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=pt(t),no(t,"_",i)):$p(t,e.slots={})}else e.slots={},t&&Kp(e,t);no(e.slots,Po,1)},Cf=(e,t,i)=>{const{vnode:r,slots:a}=e;let p=!0,v=wt;if(r.shapeFlag&32){const f=t._;f?i&&f===1?p=!1:(Bt(a,t),!i&&f===1&&delete a._):(p=!t.$stable,$p(t,a)),v=t}else t&&(Kp(e,t),v={default:1});if(p)for(const f in a)!zp(f)&&!(f in v)&&delete a[f]};function ua(e,t,i,r,a=!1){if(Q(e)){e.forEach((R,G)=>ua(R,t&&(Q(t)?t[G]:t),i,r,a));return}if(Xr(r)&&!a)return;const p=r.shapeFlag&4?za(r.component)||r.component.proxy:r.el,v=a?null:p,{i:f,r:w}=e,C=t&&t.r,k=f.refs===wt?f.refs={}:f.refs,E=f.setupState;if(C!=null&&C!==w&&(zt(C)?(k[C]=null,rt(E,C)&&(E[C]=null)):Xt(C)&&(C.value=null)),tt(w))$n(w,f,12,[v,k]);else{const R=zt(w),G=Xt(w);if(R||G){const mt=()=>{if(e.f){const I=R?rt(E,w)?E[w]:k[w]:w.value;a?Q(I)&&xa(I,p):Q(I)?I.includes(p)||I.push(p):R?(k[w]=[p],rt(E,w)&&(E[w]=k[w])):(w.value=[p],e.k&&(k[e.k]=w.value))}else R?(k[w]=v,rt(E,w)&&(E[w]=v)):G&&(w.value=v,e.k&&(k[e.k]=v))};v?(mt.id=-1,oe(mt,i)):mt()}}}const oe=qv;function xf(e){return Pf(e)}function Pf(e,t){const i=ta();i.__VUE__=!0;const{insert:r,remove:a,patchProp:p,createElement:v,createText:f,createComment:w,setText:C,setElementText:k,parentNode:E,nextSibling:R,setScopeId:G=Be,insertStaticContent:mt}=e,I=(g,x,S,M=null,L=null,D=null,F=!1,O=null,B=!!x.dynamicChildren)=>{if(g===x)return;g&&!js(g,x)&&(M=rn(g),gt(g,L,D,!0),g=null),x.patchFlag===-2&&(B=!1,x.dynamicChildren=null);const{type:A,ref:U,shapeFlag:$}=x;switch(A){case xo:ht(g,x,S,M);break;case _i:kt(g,x,S,M);break;case $l:g==null&&X(x,S,M,F);break;case Ye:Fe(g,x,S,M,L,D,F,O,B);break;default:$&1?we(g,x,S,M,L,D,F,O,B):$&6?Cn(g,x,S,M,L,D,F,O,B):($&64||$&128)&&A.process(g,x,S,M,L,D,F,O,B,pe)}U!=null&&L&&ua(U,g&&g.ref,D,x||g,!x)},ht=(g,x,S,M)=>{if(g==null)r(x.el=f(x.children),S,M);else{const L=x.el=g.el;x.children!==g.children&&C(L,x.children)}},kt=(g,x,S,M)=>{g==null?r(x.el=w(x.children||""),S,M):x.el=g.el},X=(g,x,S,M)=>{[g.el,g.anchor]=mt(g.children,x,S,M,g.el,g.anchor)},Vt=({el:g,anchor:x},S,M)=>{let L;for(;g&&g!==x;)L=R(g),r(g,S,M),g=L;r(x,S,M)},j=({el:g,anchor:x})=>{let S;for(;g&&g!==x;)S=R(g),a(g),g=S;a(x)},we=(g,x,S,M,L,D,F,O,B)=>{F=F||x.type==="svg",g==null?sn(x,S,M,L,D,F,O,B):Ut(g,x,L,D,F,O,B)},sn=(g,x,S,M,L,D,F,O)=>{let B,A;const{type:U,props:$,shapeFlag:K,transition:H,dirs:J}=g;if(B=g.el=v(g.type,D,$&&$.is,$),K&8?k(B,g.children):K&16&&St(g.children,B,null,M,L,D&&U!=="foreignObject",F,O),J&&pi(g,null,M,"created"),Kt(B,g,g.scopeId,F,M),$){for(const st in $)st!=="value"&&!Wr(st)&&p(B,st,null,$[st],D,g.children,M,L,qt);"value"in $&&p(B,"value",null,$.value),(A=$.onVnodeBeforeMount)&&Ge(A,M,g)}J&&pi(g,null,M,"beforeMount");const ct=(!L||L&&!L.pendingBranch)&&H&&!H.persisted;ct&&H.beforeEnter(B),r(B,x,S),((A=$&&$.onVnodeMounted)||ct||J)&&oe(()=>{A&&Ge(A,M,g),ct&&H.enter(B),J&&pi(g,null,M,"mounted")},L)},Kt=(g,x,S,M,L)=>{if(S&&G(g,S),M)for(let D=0;D<M.length;D++)G(g,M[D]);if(L){let D=L.subTree;if(x===D){const F=L.vnode;Kt(g,F,F.scopeId,F.slotScopeIds,L.parent)}}},St=(g,x,S,M,L,D,F,O,B=0)=>{for(let A=B;A<g.length;A++){const U=g[A]=O?jn(g[A]):We(g[A]);I(null,U,x,S,M,L,D,F,O)}},Ut=(g,x,S,M,L,D,F)=>{const O=x.el=g.el;let{patchFlag:B,dynamicChildren:A,dirs:U}=x;B|=g.patchFlag&16;const $=g.props||wt,K=x.props||wt;let H;S&&hi(S,!1),(H=K.onVnodeBeforeUpdate)&&Ge(H,S,x,g),U&&pi(x,g,S,"beforeUpdate"),S&&hi(S,!0);const J=L&&x.type!=="foreignObject";if(A?et(g.dynamicChildren,A,O,S,M,J,D):F||z(g,x,O,null,S,M,J,D,!1),B>0){if(B&16)Se(O,x,$,K,S,M,L);else if(B&2&&$.class!==K.class&&p(O,"class",null,K.class,L),B&4&&p(O,"style",$.style,K.style,L),B&8){const ct=x.dynamicProps;for(let st=0;st<ct.length;st++){const ft=ct[st],Mt=$[ft],ge=K[ft];(ge!==Mt||ft==="value")&&p(O,ft,Mt,ge,L,g.children,S,M,qt)}}B&1&&g.children!==x.children&&k(O,x.children)}else!F&&A==null&&Se(O,x,$,K,S,M,L);((H=K.onVnodeUpdated)||U)&&oe(()=>{H&&Ge(H,S,x,g),U&&pi(x,g,S,"updated")},M)},et=(g,x,S,M,L,D,F)=>{for(let O=0;O<x.length;O++){const B=g[O],A=x[O],U=B.el&&(B.type===Ye||!js(B,A)||B.shapeFlag&70)?E(B.el):S;I(B,A,U,null,M,L,D,F,!0)}},Se=(g,x,S,M,L,D,F)=>{if(S!==M){if(S!==wt)for(const O in S)!Wr(O)&&!(O in M)&&p(g,O,S[O],null,F,x.children,L,D,qt);for(const O in M){if(Wr(O))continue;const B=M[O],A=S[O];B!==A&&O!=="value"&&p(g,O,A,B,F,x.children,L,D,qt)}"value"in M&&p(g,"value",S.value,M.value)}},Fe=(g,x,S,M,L,D,F,O,B)=>{const A=x.el=g?g.el:f(""),U=x.anchor=g?g.anchor:f("");let{patchFlag:$,dynamicChildren:K,slotScopeIds:H}=x;H&&(O=O?O.concat(H):H),g==null?(r(A,S,M),r(U,S,M),St(x.children,S,U,L,D,F,O,B)):$>0&&$&64&&K&&g.dynamicChildren?(et(g.dynamicChildren,K,S,L,D,F,O),(x.key!=null||L&&x===L.subTree)&&Up(g,x,!0)):z(g,x,S,U,L,D,F,O,B)},Cn=(g,x,S,M,L,D,F,O,B)=>{x.slotScopeIds=O,g==null?x.shapeFlag&512?L.ctx.activate(x,S,M,F,B):Ht(x,S,M,L,D,F,B):qn(g,x,B)},Ht=(g,x,S,M,L,D,F)=>{const O=g.component=Rf(g,M,L);if(Tp(g)&&(O.ctx.renderer=pe),Nf(O),O.asyncDep){if(L&&L.registerDep(O,_t),!g.el){const B=O.subTree=le(_i);kt(null,B,x,S)}return}_t(O,g,x,S,L,D,F)},qn=(g,x,S)=>{const M=x.component=g.component;if(Kv(g,x,S))if(M.asyncDep&&!M.asyncResolved){W(M,x,S);return}else M.next=x,Ov(M.update),M.update();else x.el=g.el,M.vnode=x},_t=(g,x,S,M,L,D,F)=>{const O=()=>{if(g.isMounted){let{next:U,bu:$,u:K,parent:H,vnode:J}=g,ct=U,st;hi(g,!1),U?(U.el=J.el,W(g,U,F)):U=J,$&&Bl($),(st=U.props&&U.props.onVnodeBeforeUpdate)&&Ge(st,H,U,J),hi(g,!0);const ft=jl(g),Mt=g.subTree;g.subTree=ft,I(Mt,ft,E(Mt.el),rn(Mt),g,L,D),U.el=ft.el,ct===null&&Uv(g,ft.el),K&&oe(K,L),(st=U.props&&U.props.onVnodeUpdated)&&oe(()=>Ge(st,H,U,J),L)}else{let U;const{el:$,props:K}=x,{bm:H,m:J,parent:ct}=g,st=Xr(x);if(hi(g,!1),H&&Bl(H),!st&&(U=K&&K.onVnodeBeforeMount)&&Ge(U,ct,x),hi(g,!0),$&&Gt){const ft=()=>{g.subTree=jl(g),Gt($,g.subTree,g,L,null)};st?x.type.__asyncLoader().then(()=>!g.isUnmounted&&ft()):ft()}else{const ft=g.subTree=jl(g);I(null,ft,S,M,g,L,D),x.el=ft.el}if(J&&oe(J,L),!st&&(U=K&&K.onVnodeMounted)){const ft=x;oe(()=>Ge(U,ct,ft),L)}(x.shapeFlag&256||ct&&Xr(ct.vnode)&&ct.vnode.shapeFlag&256)&&g.a&&oe(g.a,L),g.isMounted=!0,x=S=M=null}},B=g.effect=new Va(O,()=>Ra(A),g.scope),A=g.update=()=>B.run();A.id=g.uid,hi(g,!0),A()},W=(g,x,S)=>{x.component=g;const M=g.vnode.props;g.vnode=x,g.next=null,_f(g,x.props,M,S),Cf(g,x.children,S),ts(),uu(),es()},z=(g,x,S,M,L,D,F,O,B=!1)=>{const A=g&&g.children,U=g?g.shapeFlag:0,$=x.children,{patchFlag:K,shapeFlag:H}=x;if(K>0){if(K&128){ze(A,$,S,M,L,D,F,O,B);return}else if(K&256){Le(A,$,S,M,L,D,F,O,B);return}}H&8?(U&16&&qt(A,L,D),$!==A&&k(S,$)):U&16?H&16?ze(A,$,S,M,L,D,F,O,B):qt(A,L,D,!0):(U&8&&k(S,""),H&16&&St($,S,M,L,D,F,O,B))},Le=(g,x,S,M,L,D,F,O,B)=>{g=g||$i,x=x||$i;const A=g.length,U=x.length,$=Math.min(A,U);let K;for(K=0;K<$;K++){const H=x[K]=B?jn(x[K]):We(x[K]);I(g[K],H,S,null,L,D,F,O,B)}A>U?qt(g,L,D,!0,!1,$):St(x,S,M,L,D,F,O,B,$)},ze=(g,x,S,M,L,D,F,O,B)=>{let A=0;const U=x.length;let $=g.length-1,K=U-1;for(;A<=$&&A<=K;){const H=g[A],J=x[A]=B?jn(x[A]):We(x[A]);if(js(H,J))I(H,J,S,null,L,D,F,O,B);else break;A++}for(;A<=$&&A<=K;){const H=g[$],J=x[K]=B?jn(x[K]):We(x[K]);if(js(H,J))I(H,J,S,null,L,D,F,O,B);else break;$--,K--}if(A>$){if(A<=K){const H=K+1,J=H<U?x[H].el:M;for(;A<=K;)I(null,x[A]=B?jn(x[A]):We(x[A]),S,J,L,D,F,O,B),A++}}else if(A>K)for(;A<=$;)gt(g[A],L,D,!0),A++;else{const H=A,J=A,ct=new Map;for(A=J;A<=K;A++){const Pt=x[A]=B?jn(x[A]):We(x[A]);Pt.key!=null&&ct.set(Pt.key,A)}let st,ft=0;const Mt=K-J+1;let ge=!1,$e=0;const he=new Array(Mt);for(A=0;A<Mt;A++)he[A]=0;for(A=H;A<=$;A++){const Pt=g[A];if(ft>=Mt){gt(Pt,L,D,!0);continue}let Rt;if(Pt.key!=null)Rt=ct.get(Pt.key);else for(st=J;st<=K;st++)if(he[st-J]===0&&js(Pt,x[st])){Rt=st;break}Rt===void 0?gt(Pt,L,D,!0):(he[Rt-J]=A+1,Rt>=$e?$e=Rt:ge=!0,I(Pt,x[Rt],S,null,L,D,F,O,B),ft++)}const xi=ge?yf(he):$i;for(st=xi.length-1,A=Mt-1;A>=0;A--){const Pt=J+A,Rt=x[Pt],Ke=Pt+1<U?x[Pt+1].el:M;he[A]===0?I(null,Rt,S,Ke,L,D,F,O,B):ge&&(st<0||A!==xi[st]?Me(Rt,S,Ke,2):st--)}}},Me=(g,x,S,M,L=null)=>{const{el:D,type:F,transition:O,children:B,shapeFlag:A}=g;if(A&6){Me(g.component.subTree,x,S,M);return}if(A&128){g.suspense.move(x,S,M);return}if(A&64){F.move(g,x,S,pe);return}if(F===Ye){r(D,x,S);for(let $=0;$<B.length;$++)Me(B[$],x,S,M);r(g.anchor,x,S);return}if(F===$l){Vt(g,x,S);return}if(M!==2&&A&1&&O)if(M===0)O.beforeEnter(D),r(D,x,S),oe(()=>O.enter(D),L);else{const{leave:$,delayLeave:K,afterLeave:H}=O,J=()=>r(D,x,S),ct=()=>{$(D,()=>{J(),H&&H()})};K?K(D,J,ct):ct()}else r(D,x,S)},gt=(g,x,S,M=!1,L=!1)=>{const{type:D,props:F,ref:O,children:B,dynamicChildren:A,shapeFlag:U,patchFlag:$,dirs:K}=g;if(O!=null&&ua(O,null,S,g,!0),U&256){x.ctx.deactivate(g);return}const H=U&1&&K,J=!Xr(g);let ct;if(J&&(ct=F&&F.onVnodeBeforeUnmount)&&Ge(ct,x,g),U&6)xt(g.component,S,M);else{if(U&128){g.suspense.unmount(S,M);return}H&&pi(g,null,x,"beforeUnmount"),U&64?g.type.remove(g,x,S,L,pe,M):A&&(D!==Ye||$>0&&$&64)?qt(A,x,S,!1,!0):(D===Ye&&$&384||!L&&U&16)&&qt(B,x,S),M&&ue(g)}(J&&(ct=F&&F.onVnodeUnmounted)||H)&&oe(()=>{ct&&Ge(ct,x,g),H&&pi(g,null,x,"unmounted")},S)},ue=g=>{const{type:x,el:S,anchor:M,transition:L}=g;if(x===Ye){vt(S,M);return}if(x===$l){j(g);return}const D=()=>{a(S),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(g.shapeFlag&1&&L&&!L.persisted){const{leave:F,delayLeave:O}=L,B=()=>F(S,D);O?O(g.el,D,B):B()}else D()},vt=(g,x)=>{let S;for(;g!==x;)S=R(g),a(g),g=S;a(x)},xt=(g,x,S)=>{const{bum:M,scope:L,update:D,subTree:F,um:O}=g;M&&Bl(M),L.stop(),D&&(D.active=!1,gt(F,g,x,S)),O&&oe(O,x),oe(()=>{g.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},qt=(g,x,S,M=!1,L=!1,D=0)=>{for(let F=D;F<g.length;F++)gt(g[F],x,S,M,L)},rn=g=>g.shapeFlag&6?rn(g.component.subTree):g.shapeFlag&128?g.suspense.next():R(g.anchor||g.el),Lt=(g,x,S)=>{g==null?x._vnode&&gt(x._vnode,null,null,!0):I(x._vnode||null,g,x,null,null,null,S),uu(),Vp(),x._vnode=g},pe={p:I,um:gt,m:Me,r:ue,mt:Ht,mc:St,pc:z,pbc:et,n:rn,o:e};let xn,Gt;return t&&([xn,Gt]=t(pe)),{render:Lt,hydrate:xn,createApp:vf(Lt,xn)}}function hi({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function Up(e,t,i=!1){const r=e.children,a=t.children;if(Q(r)&&Q(a))for(let p=0;p<r.length;p++){const v=r[p];let f=a[p];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=a[p]=jn(a[p]),f.el=v.el),i||Up(v,f)),f.type===xo&&(f.el=v.el)}}function yf(e){const t=e.slice(),i=[0];let r,a,p,v,f;const w=e.length;for(r=0;r<w;r++){const C=e[r];if(C!==0){if(a=i[i.length-1],e[a]<C){t[r]=a,i.push(r);continue}for(p=0,v=i.length-1;p<v;)f=p+v>>1,e[i[f]]<C?p=f+1:v=f;C<e[i[p]]&&(p>0&&(t[r]=i[p-1]),i[p]=r)}}for(p=i.length,v=i[p-1];p-- >0;)i[p]=v,v=t[v];return i}const Ef=e=>e.__isTeleport,Ye=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),_i=Symbol.for("v-cmt"),$l=Symbol.for("v-stc"),Ys=[];let Ie=null;function Hi(e=!1){Ys.push(Ie=e?null:[])}function kf(){Ys.pop(),Ie=Ys[Ys.length-1]||null}let er=1;function xu(e){er+=e}function Hp(e){return e.dynamicChildren=er>0?Ie||$i:null,kf(),er>0&&Ie&&Ie.push(e),e}function Ws(e,t,i,r,a,p){return Hp(be(e,t,i,r,a,p,!0))}function Vf(e,t,i,r,a){return Hp(le(e,t,i,r,a,!0))}function Sf(e){return e?e.__v_isVNode===!0:!1}function js(e,t){return e.type===t.type&&e.key===t.key}const Po="__vInternal",qp=({key:e})=>e!=null?e:null,Zr=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||Xt(e)||tt(e)?{i:Ne,r:e,k:t,f:!!i}:e:null);function be(e,t=null,i=null,r=0,a=null,p=e===Ye?0:1,v=!1,f=!1){const w={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qp(t),ref:t&&Zr(t),scopeId:go,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ne};return f?(ja(w,i),p&128&&e.normalize(w)):i&&(w.shapeFlag|=zt(i)?8:16),er>0&&!v&&Ie&&(w.patchFlag>0||p&6)&&w.patchFlag!==32&&Ie.push(w),w}const le=Lf;function Lf(e,t=null,i=null,r=0,a=null,p=!1){if((!e||e===of)&&(e=_i),Sf(e)){const f=Wi(e,t,!0);return i&&ja(f,i),er>0&&!p&&Ie&&(f.shapeFlag&6?Ie[Ie.indexOf(e)]=f:Ie.push(f)),f.patchFlag|=-2,f}if(zf(e)&&(e=e.__vccOpts),t){t=Mf(t);let{class:f,style:w}=t;f&&!zt(f)&&(t.class=Ea(f)),Ot(w)&&(wp(w)&&!Q(w)&&(w=Bt({},w)),t.style=Js(w))}const v=zt(e)?1:Hv(e)?128:Ef(e)?64:Ot(e)?4:tt(e)?2:0;return be(e,t,i,r,a,v,p,!0)}function Mf(e){return e?wp(e)||Po in e?Bt({},e):e:null}function Wi(e,t,i=!1){const{props:r,ref:a,patchFlag:p,children:v}=e,f=t?Tf(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&qp(f),ref:t&&t.ref?i&&a?Q(a)?a.concat(Zr(t)):[a,Zr(t)]:Zr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:v,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wi(e.ssContent),ssFallback:e.ssFallback&&Wi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Af(e=" ",t=0){return le(xo,null,e,t)}function Pu(e="",t=!1){return t?(Hi(),Vf(_i,null,e)):le(_i,null,e)}function We(e){return e==null||typeof e=="boolean"?le(_i):Q(e)?le(Ye,null,e.slice()):typeof e=="object"?jn(e):le(xo,null,String(e))}function jn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wi(e)}function ja(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Q(t))i=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),ja(e,a()),a._c&&(a._d=!0));return}else{i=32;const a=t._;!a&&!(Po in t)?t._ctx=Ne:a===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else tt(t)?(t={default:t,_ctx:Ne},i=32):(t=String(t),r&64?(i=16,t=[Af(t)]):i=8);e.children=t,e.shapeFlag|=i}function Tf(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Ea([t.class,r.class]));else if(a==="style")t.style=Js([t.style,r.style]);else if(ho(a)){const p=t[a],v=r[a];v&&p!==v&&!(Q(p)&&p.includes(v))&&(t[a]=p?[].concat(p,v):v)}else a!==""&&(t[a]=r[a])}return t}function Ge(e,t,i,r=null){je(e,t,7,[i,r])}const Df=Bp();let Of=0;function Rf(e,t,i){const r=e.type,a=(t?t.appContext:e.appContext)||Df,p={uid:Of++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fp(r,a),emitsOptions:Lp(r,a),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:r.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Iv.bind(null,p),e.ce&&e.ce(p),p}let Ft=null,Fa,Bi,yu="__VUE_INSTANCE_SETTERS__";(Bi=ta()[yu])||(Bi=ta()[yu]=[]),Bi.push(e=>Ft=e),Fa=e=>{Bi.length>1?Bi.forEach(t=>t(e)):Bi[0](e)};const Xi=e=>{Fa(e),e.scope.on()},bi=()=>{Ft&&Ft.scope.off(),Fa(null)};function Gp(e){return e.vnode.shapeFlag&4}let nr=!1;function Nf(e,t=!1){nr=t;const{props:i,children:r}=e.vnode,a=Gp(e);bf(e,i,a,t),gf(e,r);const p=a?If(e,t):void 0;return nr=!1,p}function If(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=gp(new Proxy(e.ctx,af));const{setup:r}=i;if(r){const a=e.setupContext=r.length>1?jf(e):null;Xi(e),ts();const p=$n(r,e,0,[e.props,a]);if(es(),bi(),op(p)){if(p.then(bi,bi),t)return p.then(v=>{Eu(e,v,t)}).catch(v=>{_o(v,e,0)});e.asyncDep=p}else Eu(e,p,t)}else Yp(e,t)}function Eu(e,t,i){tt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ot(t)&&(e.setupState=Pp(t)),Yp(e,i)}let ku;function Yp(e,t,i){const r=e.type;if(!e.render){if(!t&&ku&&!r.render){const a=r.template||Ia(e).template;if(a){const{isCustomElement:p,compilerOptions:v}=e.appContext.config,{delimiters:f,compilerOptions:w}=r,C=Bt(Bt({isCustomElement:p,delimiters:f},v),w);r.render=ku(a,C)}}e.render=r.render||Be}Xi(e),ts(),cf(e),es(),bi()}function Bf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return ce(e,"get","$attrs"),t[i]}}))}function jf(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return Bf(e)},slots:e.slots,emit:e.emit,expose:t}}function za(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Pp(gp(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Gs)return Gs[i](e)},has(t,i){return i in t||i in Gs}}))}function Ff(e,t=!0){return tt(e)?e.displayName||e.name:e.name||t&&e.__name}function zf(e){return tt(e)&&"__vccOpts"in e}const $f=(e,t)=>Av(e,t,nr),Kf=Symbol.for("v-scx"),Uf=()=>Jr(Kf),Hf="3.3.4",qf="http://www.w3.org/2000/svg",vi=typeof document<"u"?document:null,Vu=vi&&vi.createElement("template"),Gf={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const a=t?vi.createElementNS(qf,e):vi.createElement(e,i?{is:i}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>vi.createTextNode(e),createComment:e=>vi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,a,p){const v=i?i.previousSibling:t.lastChild;if(a&&(a===p||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),i),!(a===p||!(a=a.nextSibling)););else{Vu.innerHTML=r?`<svg>${e}</svg>`:e;const f=Vu.content;if(r){const w=f.firstChild;for(;w.firstChild;)f.appendChild(w.firstChild);f.removeChild(w)}t.insertBefore(f,i)}return[v?v.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function Yf(e,t,i){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function Wf(e,t,i){const r=e.style,a=zt(i);if(i&&!a){if(t&&!zt(t))for(const p in t)i[p]==null&&pa(r,p,"");for(const p in i)pa(r,p,i[p])}else{const p=r.display;a?t!==i&&(r.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=p)}}const Su=/\s*!important$/;function pa(e,t,i){if(Q(i))i.forEach(r=>pa(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=Xf(e,t);Su.test(i)?e.setProperty(Qi(r),i.replace(Su,""),"important"):e[r]=i}}const Lu=["Webkit","Moz","ms"],Kl={};function Xf(e,t){const i=Kl[t];if(i)return i;let r=Je(t);if(r!=="filter"&&r in e)return Kl[t]=r;r=fo(r);for(let a=0;a<Lu.length;a++){const p=Lu[a]+r;if(p in e)return Kl[t]=p}return t}const Mu="http://www.w3.org/1999/xlink";function Jf(e,t,i,r,a){if(r&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(Mu,t.slice(6,t.length)):e.setAttributeNS(Mu,t,i);else{const p=Wm(t);i==null||p&&!lp(i)?e.removeAttribute(t):e.setAttribute(t,p?"":i)}}function Zf(e,t,i,r,a,p,v){if(t==="innerHTML"||t==="textContent"){r&&v(r,a,p),e[t]=i==null?"":i;return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){e._value=i;const C=f==="OPTION"?e.getAttribute("value"):e.value,k=i==null?"":i;C!==k&&(e.value=k),i==null&&e.removeAttribute(t);return}let w=!1;if(i===""||i==null){const C=typeof e[t];C==="boolean"?i=lp(i):i==null&&C==="string"?(i="",w=!0):C==="number"&&(i=0,w=!0)}try{e[t]=i}catch{}w&&e.removeAttribute(t)}function Qf(e,t,i,r){e.addEventListener(t,i,r)}function tb(e,t,i,r){e.removeEventListener(t,i,r)}function eb(e,t,i,r,a=null){const p=e._vei||(e._vei={}),v=p[t];if(r&&v)v.value=r;else{const[f,w]=nb(t);if(r){const C=p[t]=rb(r,a);Qf(e,f,C,w)}else v&&(tb(e,f,v,w),p[t]=void 0)}}const Au=/(?:Once|Passive|Capture)$/;function nb(e){let t;if(Au.test(e)){t={};let r;for(;r=e.match(Au);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qi(e.slice(2)),t]}let Ul=0;const ib=Promise.resolve(),sb=()=>Ul||(ib.then(()=>Ul=0),Ul=Date.now());function rb(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;je(ob(r,i.value),t,5,[r])};return i.value=e,i.attached=sb(),i}function ob(e,t){if(Q(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const Tu=/^on[a-z]/,lb=(e,t,i,r,a=!1,p,v,f,w)=>{t==="class"?Yf(e,r,a):t==="style"?Wf(e,i,r):ho(t)?Ca(t)||eb(e,t,i,r,v):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ab(e,t,r,a))?Zf(e,t,r,p,v,f,w):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Jf(e,t,r,a))};function ab(e,t,i,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Tu.test(t)&&tt(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Tu.test(t)&&zt(i)?!1:t in e}const cb=Bt({patchProp:lb},Gf);let Du;function ub(){return Du||(Du=xf(cb))}const pb=(...e)=>{const t=ub().createApp(...e),{mount:i}=t;return t.mount=r=>{const a=hb(r);if(!a)return;const p=t._component;!tt(p)&&!p.render&&!p.template&&(p.template=a.innerHTML),a.innerHTML="";const v=i(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),v},t};function hb(e){return zt(e)?document.querySelector(e):e}/*!
 * v-github-icon v3.1.1
 * (c) 2023 Vinayak Kulkarni
 * @license MIT
 */const db=Na({name:"VGithubIcon",props:{url:{type:String,required:!0,default:""},position:{type:String,required:!1,default:"top-right"},bgColor:{type:String,required:!1,default:"#FFFFFF"},fillColor:{type:String,required:!1,default:"#151513"}}}),mb=(e,t)=>{const i=e.__vccOpts||e;for(const[r,a]of t)i[r]=a;return i},ns=e=>(Bv("data-v-6c7dc248"),e=e(),jv(),e),vb=["href"],fb=ns(()=>be("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),bb=ns(()=>be("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),_b=ns(()=>be("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),wb=[fb,bb,_b],gb=ns(()=>be("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),Cb=ns(()=>be("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),xb=ns(()=>be("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),Pb=[gb,Cb,xb];function yb(e,t,i,r,a,p){return Hi(),Ws("a",{href:e.url,class:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},[e.position==="top-left"?(Hi(),Ws("svg",{key:0,width:"80",height:"80",viewBox:"0 0 250 250",style:Js([{fill:e.fillColor,color:e.bgColor},{position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"}]),"aria-hidden":"true"},wb,4)):Pu("",!0),e.position==="top-right"?(Hi(),Ws("svg",{key:1,width:"80",height:"80",viewBox:"0 0 250 250",style:Js([{fill:e.fillColor,color:e.bgColor},{position:"absolute",top:"0",border:"0",right:"0"}]),"aria-hidden":"true"},Pb,4)):Pu("",!0)],8,vb)}const Eb=mb(db,[["render",yb],["__scopeId","data-v-6c7dc248"]]);var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ha={exports:{}};/*! Tweakpane 3.1.10 (c) 2016 cocopon, licensed under the MIT license. */(function(e,t){(function(i,r){r(t)})(Wp,function(i){class r{constructor(n){const[s,c]=n.split("-"),m=s.split(".");this.major=parseInt(m[0],10),this.minor=parseInt(m[1],10),this.patch=parseInt(m[2],10),this.prerelease=c!=null?c:null}toString(){const n=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[n,this.prerelease].join("-"):n}}class a{constructor(n){this.controller_=n}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(n){this.controller_.viewProps.set("disabled",n)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(n){this.controller_.viewProps.set("hidden",n)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class p{constructor(n){this.target=n}}class v extends p{constructor(n,s,c,m){super(n),this.value=s,this.presetKey=c,this.last=m!=null?m:!0}}class f extends p{constructor(n,s,c){super(n),this.value=s,this.presetKey=c}}class w extends p{constructor(n,s){super(n),this.expanded=s}}class C extends p{constructor(n,s){super(n),this.index=s}}function k(o){return o}function E(o){return o==null}function R(o,n){if(o.length!==n.length)return!1;for(let s=0;s<o.length;s++)if(o[s]!==n[s])return!1;return!0}function G(o,n){let s=o;do{const c=Object.getOwnPropertyDescriptor(s,n);if(c&&(c.set!==void 0||c.writable===!0))return!0;s=Object.getPrototypeOf(s)}while(s!==null);return!1}const mt={alreadydisposed:()=>"View has been already disposed",invalidparams:o=>`Invalid parameters for '${o.name}'`,nomatchingcontroller:o=>`No matching controller for '${o.key}'`,nomatchingview:o=>`No matching view for '${JSON.stringify(o.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:o=>`Property '${o.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class I{static alreadyDisposed(){return new I({type:"alreadydisposed"})}static notBindable(){return new I({type:"notbindable"})}static propertyNotFound(n){return new I({type:"propertynotfound",context:{name:n}})}static shouldNeverHappen(){return new I({type:"shouldneverhappen"})}constructor(n){var s;this.message=(s=mt[n.type](n.context))!==null&&s!==void 0?s:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=n.type}}class ht{constructor(n,s,c){this.obj_=n,this.key_=s,this.presetKey_=c!=null?c:s}static isBindable(n){return!(n===null||typeof n!="object"&&typeof n!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(n){this.obj_[this.key_]=n}writeProperty(n,s){const c=this.read();if(!ht.isBindable(c))throw I.notBindable();if(!(n in c))throw I.propertyNotFound(n);c[n]=s}}class kt extends a{get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get title(){var n;return(n=this.controller_.valueController.props.get("title"))!==null&&n!==void 0?n:""}set title(n){this.controller_.valueController.props.set("title",n)}on(n,s){const c=s.bind(this);return this.controller_.valueController.emitter.on(n,()=>{c(new p(this))}),this}}class X{constructor(){this.observers_={}}on(n,s){let c=this.observers_[n];return c||(c=this.observers_[n]=[]),c.push({handler:s}),this}off(n,s){const c=this.observers_[n];return c&&(this.observers_[n]=c.filter(m=>m.handler!==s)),this}emit(n,s){const c=this.observers_[n];!c||c.forEach(m=>{m.handler(s)})}}const Vt="tp";function j(o){return(s,c)=>[Vt,"-",o,"v",s?`_${s}`:"",c?`-${c}`:""].join("")}function we(o,n){return s=>n(o(s))}function sn(o){return o.rawValue}function Kt(o,n){o.emitter.on("change",we(sn,n)),n(o.rawValue)}function St(o,n,s){Kt(o.value(n),s)}function Ut(o,n,s){s?o.classList.add(n):o.classList.remove(n)}function et(o,n){return s=>{Ut(o,n,s)}}function Se(o,n){Kt(o,s=>{n.textContent=s!=null?s:""})}const Fe=j("btn");class Cn{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(Fe()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("button");c.classList.add(Fe("b")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.buttonElement=c;const m=n.createElement("div");m.classList.add(Fe("t")),Se(s.props.value("title"),m),this.buttonElement.appendChild(m)}}class Ht{constructor(n,s){this.emitter=new X,this.onClick_=this.onClick_.bind(this),this.props=s.props,this.viewProps=s.viewProps,this.view=new Cn(n,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class qn{constructor(n,s){var c;this.constraint_=s==null?void 0:s.constraint,this.equals_=(c=s==null?void 0:s.equals)!==null&&c!==void 0?c:(m,_)=>m===_,this.emitter=new X,this.rawValue_=n}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(n){this.setRawValue(n,{forceEmit:!1,last:!0})}setRawValue(n,s){const c=s!=null?s:{forceEmit:!1,last:!0},m=this.constraint_?this.constraint_.constrain(n):n,_=this.rawValue_;!!this.equals_(_,m)&&!c.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=m,this.emitter.emit("change",{options:c,previousRawValue:_,rawValue:m,sender:this}))}}class _t{constructor(n){this.emitter=new X,this.value_=n}get rawValue(){return this.value_}set rawValue(n){this.setRawValue(n,{forceEmit:!1,last:!0})}setRawValue(n,s){const c=s!=null?s:{forceEmit:!1,last:!0},m=this.value_;m===n&&!c.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=n,this.emitter.emit("change",{options:c,previousRawValue:m,rawValue:this.value_,sender:this}))}}function W(o,n){const s=n==null?void 0:n.constraint,c=n==null?void 0:n.equals;return!s&&!c?new _t(o):new qn(o,n)}class z{constructor(n){this.emitter=new X,this.valMap_=n;for(const s in this.valMap_)this.valMap_[s].emitter.on("change",()=>{this.emitter.emit("change",{key:s,sender:this})})}static createCore(n){return Object.keys(n).reduce((c,m)=>Object.assign(c,{[m]:W(n[m])}),{})}static fromObject(n){const s=this.createCore(n);return new z(s)}get(n){return this.valMap_[n].rawValue}set(n,s){this.valMap_[n].rawValue=s}value(n){return this.valMap_[n]}}function Le(o,n){const c=Object.keys(n).reduce((m,_)=>{if(m===void 0)return;const y=n[_],T=y(o[_]);return T.succeeded?Object.assign(Object.assign({},m),{[_]:T.value}):void 0},{});return c}function ze(o,n){return o.reduce((s,c)=>{if(s===void 0)return;const m=n(c);if(!(!m.succeeded||m.value===void 0))return[...s,m.value]},[])}function Me(o){return o===null?!1:typeof o=="object"}function gt(o){return n=>s=>{if(!n&&s===void 0)return{succeeded:!1,value:void 0};if(n&&s===void 0)return{succeeded:!0,value:void 0};const c=o(s);return c!==void 0?{succeeded:!0,value:c}:{succeeded:!1,value:void 0}}}function ue(o){return{custom:n=>gt(n)(o),boolean:gt(n=>typeof n=="boolean"?n:void 0)(o),number:gt(n=>typeof n=="number"?n:void 0)(o),string:gt(n=>typeof n=="string"?n:void 0)(o),function:gt(n=>typeof n=="function"?n:void 0)(o),constant:n=>gt(s=>s===n?n:void 0)(o),raw:gt(n=>n)(o),object:n=>gt(s=>{if(!!Me(s))return Le(s,n)})(o),array:n=>gt(s=>{if(!!Array.isArray(s))return ze(s,n)})(o)}}const vt={optional:ue(!0),required:ue(!1)};function xt(o,n){const s=vt.required.object(n)(o);return s.succeeded?s.value:void 0}function qt(o){console.warn([`Missing '${o.key}' of ${o.target} in ${o.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function rn(o){return o&&o.parentElement&&o.parentElement.removeChild(o),null}class Lt{constructor(n){this.value_=n}static create(n){return[new Lt(n),(s,c)=>{n.setRawValue(s,c)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const pe=j("");function xn(o,n){return et(o,pe(void 0,n))}class Gt extends z{constructor(n){var s;super(n),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Lt.create(W(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(s=this.get("parent"))===null||s===void 0||s.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(n){var s,c,m;const _=n!=null?n:{};return new Gt(z.createCore({disabled:(s=_.disabled)!==null&&s!==void 0?s:!1,disposed:!1,hidden:(c=_.hidden)!==null&&c!==void 0?c:!1,parent:(m=_.parent)!==null&&m!==void 0?m:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(n){Kt(this.globalDisabled_,xn(n,"disabled")),St(this,"hidden",xn(n,"hidden"))}bindDisabled(n){Kt(this.globalDisabled_,s=>{n.disabled=s})}bindTabIndex(n){Kt(this.globalDisabled_,s=>{n.tabIndex=s?-1:0})}handleDispose(n){this.value("disposed").emitter.on("change",s=>{s&&n()})}getGlobalDisabled_(){const n=this.get("parent");return(n?n.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(n){var s;const c=n.previousRawValue;c==null||c.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(s=this.get("parent"))===null||s===void 0||s.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function g(){return["veryfirst","first","last","verylast"]}const x=j(""),S={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class M{constructor(n){this.parent_=null,this.blade=n.blade,this.view=n.view,this.viewProps=n.viewProps;const s=this.view.element;this.blade.value("positions").emitter.on("change",()=>{g().forEach(c=>{s.classList.remove(x(void 0,S[c]))}),this.blade.get("positions").forEach(c=>{s.classList.add(x(void 0,S[c]))})}),this.viewProps.handleDispose(()=>{rn(s)})}get parent(){return this.parent_}set parent(n){if(this.parent_=n,!("parent"in this.viewProps.valMap_)){qt({key:"parent",target:Gt.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const L="http://www.w3.org/2000/svg";function D(o){o.offsetHeight}function F(o,n){const s=o.style.transition;o.style.transition="none",n(),o.style.transition=s}function O(o){return o.ontouchstart!==void 0}function B(){return globalThis}function A(){return B().document}function U(o){const n=o.ownerDocument.defaultView;return n&&"document"in n?o.getContext("2d",{willReadFrequently:!0}):null}const $={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function K(o,n){const s=o.createElementNS(L,"svg");return s.innerHTML=$[n],s}function H(o,n,s){o.insertBefore(n,o.children[s])}function J(o){o.parentElement&&o.parentElement.removeChild(o)}function ct(o){for(;o.children.length>0;)o.removeChild(o.children[0])}function st(o){for(;o.childNodes.length>0;)o.removeChild(o.childNodes[0])}function ft(o){return o.relatedTarget?o.relatedTarget:"explicitOriginalTarget"in o?o.explicitOriginalTarget:null}const Mt=j("lbl");function ge(o,n){const s=o.createDocumentFragment();return n.split(`
`).map(m=>o.createTextNode(m)).forEach((m,_)=>{_>0&&s.appendChild(o.createElement("br")),s.appendChild(m)}),s}class $e{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(Mt()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(Mt("l")),St(s.props,"label",_=>{E(_)?this.element.classList.add(Mt(void 0,"nol")):(this.element.classList.remove(Mt(void 0,"nol")),st(c),c.appendChild(ge(n,_)))}),this.element.appendChild(c),this.labelElement=c;const m=n.createElement("div");m.classList.add(Mt("v")),this.element.appendChild(m),this.valueElement=m}}class he extends M{constructor(n,s){const c=s.valueController.viewProps;super(Object.assign(Object.assign({},s),{view:new $e(n,{props:s.props,viewProps:c}),viewProps:c})),this.props=s.props,this.valueController=s.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const xi={id:"button",type:"blade",accept(o){const n=vt,s=xt(o,{title:n.required.string,view:n.required.constant("button"),label:n.optional.string});return s?{params:s}:null},controller(o){return new he(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:new Ht(o.document,{props:z.fromObject({title:o.params.title}),viewProps:o.viewProps})})},api(o){return!(o.controller instanceof he)||!(o.controller.valueController instanceof Ht)?null:new kt(o.controller)}};class Pt extends M{constructor(n){super(n),this.value=n.value}}function Rt(){return new z({positions:W([],{equals:R})})}class Ke extends z{constructor(n){super(n)}static create(n){const s={completed:!0,expanded:n,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},c=z.createCore(s);return new Ke(c)}get styleExpanded(){var n;return(n=this.get("temporaryExpanded"))!==null&&n!==void 0?n:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const n=this.get("expandedHeight");return this.get("shouldFixHeight")&&!E(n)?`${n}px`:"auto"}bindExpandedClass(n,s){const c=()=>{this.styleExpanded?n.classList.add(s):n.classList.remove(s)};St(this,"expanded",c),St(this,"temporaryExpanded",c)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Oo(o,n){let s=0;return F(n,()=>{o.set("expandedHeight",null),o.set("temporaryExpanded",!0),D(n),s=n.clientHeight,o.set("temporaryExpanded",null),D(n)}),s}function pr(o,n){n.style.height=o.styleHeight}function ls(o,n){o.value("expanded").emitter.on("beforechange",()=>{if(o.set("completed",!1),E(o.get("expandedHeight"))){const s=Oo(o,n);s>0&&o.set("expandedHeight",s)}o.set("shouldFixHeight",!0),D(n)}),o.emitter.on("change",()=>{pr(o,n)}),pr(o,n),n.addEventListener("transitionend",s=>{s.propertyName==="height"&&o.cleanUpTransition()})}class as extends a{constructor(n,s){super(n),this.rackApi_=s}}function Ro(o,n){return o.addBlade(Object.assign(Object.assign({},n),{view:"button"}))}function No(o,n){return o.addBlade(Object.assign(Object.assign({},n),{view:"folder"}))}function Io(o,n){const s=n!=null?n:{};return o.addBlade(Object.assign(Object.assign({},s),{view:"separator"}))}function cs(o,n){return o.addBlade(Object.assign(Object.assign({},n),{view:"tab"}))}class on{constructor(n){this.emitter=new X,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=n}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(n){for(const s of this.allItems())if(n(s))return s;return null}includes(n){return this.cache_.has(n)}add(n,s){if(this.includes(n))throw I.shouldNeverHappen();const c=s!==void 0?s:this.items_.length;this.items_.splice(c,0,n),this.cache_.add(n);const m=this.extract_(n);m&&(m.emitter.on("add",this.onSubListAdd_),m.emitter.on("remove",this.onSubListRemove_),m.allItems().forEach(_=>{this.cache_.add(_)})),this.emitter.emit("add",{index:c,item:n,root:this,target:this})}remove(n){const s=this.items_.indexOf(n);if(s<0)return;this.items_.splice(s,1),this.cache_.delete(n);const c=this.extract_(n);c&&(c.emitter.off("add",this.onSubListAdd_),c.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:s,item:n,root:this,target:this})}onSubListAdd_(n){this.cache_.add(n.item),this.emitter.emit("add",{index:n.index,item:n.item,root:this,target:n.target})}onSubListRemove_(n){this.cache_.delete(n.item),this.emitter.emit("remove",{index:n.index,item:n.item,root:this,target:n.target})}}class us extends a{constructor(n){super(n),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new X,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(n){const s=n.sender.target.read();this.emitter_.emit("change",{event:new v(this,s,this.controller_.binding.target.presetKey,n.options.last)})}}class Yt extends he{constructor(n,s){super(n,s),this.binding=s.binding}}class ps extends a{constructor(n){super(n),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new X,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(n){const s=n.sender.target.read();this.emitter_.emit("update",{event:new f(this,s,this.controller_.binding.target.presetKey)})}}class Ce extends he{constructor(n,s){super(n,s),this.binding=s.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function hr(o){return o instanceof Pi?o.apiSet_:o instanceof as?o.rackApi_.apiSet_:null}function Gn(o,n){const s=o.find(c=>c.controller_===n);if(!s)throw I.shouldNeverHappen();return s}function dr(o,n,s){if(!ht.isBindable(o))throw I.notBindable();return new ht(o,n,s)}class Pi extends a{constructor(n,s){super(n),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new X,this.apiSet_=new on(hr),this.pool_=s;const c=this.controller_.rack;c.emitter.on("add",this.onRackAdd_),c.emitter.on("remove",this.onRackRemove_),c.emitter.on("inputchange",this.onRackInputChange_),c.emitter.on("monitorupdate",this.onRackMonitorUpdate_),c.children.forEach(m=>{this.setUpApi_(m)})}get children(){return this.controller_.rack.children.map(n=>Gn(this.apiSet_,n))}addInput(n,s,c){const m=c!=null?c:{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createInput(_,dr(n,s,m.presetKey),m),T=new us(y);return this.add(T,m.index)}addMonitor(n,s,c){const m=c!=null?c:{},_=this.controller_.view.element.ownerDocument,y=this.pool_.createMonitor(_,dr(n,s),m),T=new ps(y);return this.add(T,m.index)}addFolder(n){return No(this,n)}addButton(n){return Ro(this,n)}addSeparator(n){return Io(this,n)}addTab(n){return cs(this,n)}add(n,s){this.controller_.rack.add(n.controller_,s);const c=this.apiSet_.find(m=>m.controller_===n.controller_);return c&&this.apiSet_.remove(c),this.apiSet_.add(n),n}remove(n){this.controller_.rack.remove(n.controller_)}addBlade(n){const s=this.controller_.view.element.ownerDocument,c=this.pool_.createBlade(s,n),m=this.pool_.createBladeApi(c);return this.add(m,n.index)}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}setUpApi_(n){this.apiSet_.find(c=>c.controller_===n)||this.apiSet_.add(this.pool_.createBladeApi(n))}onRackAdd_(n){this.setUpApi_(n.bladeController)}onRackRemove_(n){if(n.isRoot){const s=Gn(this.apiSet_,n.bladeController);this.apiSet_.remove(s)}}onRackInputChange_(n){const s=n.bladeController;if(s instanceof Yt){const c=Gn(this.apiSet_,s),m=s.binding;this.emitter_.emit("change",{event:new v(c,m.target.read(),m.target.presetKey,n.options.last)})}else if(s instanceof Pt){const c=Gn(this.apiSet_,s);this.emitter_.emit("change",{event:new v(c,s.value.rawValue,void 0,n.options.last)})}}onRackMonitorUpdate_(n){if(!(n.bladeController instanceof Ce))throw I.shouldNeverHappen();const s=Gn(this.apiSet_,n.bladeController),c=n.bladeController.binding;this.emitter_.emit("update",{event:new f(s,c.target.read(),c.target.presetKey)})}}class hs extends as{constructor(n,s){super(n,new Pi(n.rackController,s)),this.emitter_=new X,this.controller_.foldable.value("expanded").emitter.on("change",c=>{this.emitter_.emit("fold",{event:new w(this,c.sender.rawValue)})}),this.rackApi_.on("change",c=>{this.emitter_.emit("change",{event:c})}),this.rackApi_.on("update",c=>{this.emitter_.emit("update",{event:c})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(n){this.controller_.foldable.set("expanded",n)}get title(){return this.controller_.props.get("title")}set title(n){this.controller_.props.set("title",n)}get children(){return this.rackApi_.children}addInput(n,s,c){return this.rackApi_.addInput(n,s,c)}addMonitor(n,s,c){return this.rackApi_.addMonitor(n,s,c)}addFolder(n){return this.rackApi_.addFolder(n)}addButton(n){return this.rackApi_.addButton(n)}addSeparator(n){return this.rackApi_.addSeparator(n)}addTab(n){return this.rackApi_.addTab(n)}add(n,s){return this.rackApi_.add(n,s)}remove(n){this.rackApi_.remove(n)}addBlade(n){return this.rackApi_.addBlade(n)}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}}class ds extends M{constructor(n){super({blade:n.blade,view:n.view,viewProps:n.rackController.viewProps}),this.rackController=n.rackController}}class Bo{constructor(n,s){const c=j(s.viewName);this.element=n.createElement("div"),this.element.classList.add(c()),s.viewProps.bindClassModifiers(this.element)}}function jo(o,n){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof Yt&&c.binding===n)return c}return null}function Fo(o,n){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof Ce&&c.binding===n)return c}return null}function zo(o,n){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof Pt&&c.value===n)return c}return null}function ms(o){return o instanceof Yn?o.rack:o instanceof ds?o.rackController.rack:null}function $o(o){const n=ms(o);return n?n.bcSet_:null}class Ko{constructor(n){var s,c;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new X,this.blade_=(s=n.blade)!==null&&s!==void 0?s:null,(c=this.blade_)===null||c===void 0||c.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=n.viewProps,this.bcSet_=new on($o),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(n,s){var c;(c=n.parent)===null||c===void 0||c.remove(n),G(n,"parent")?n.parent=this:(n.parent_=this,qt({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(n,s)}remove(n){G(n,"parent")?n.parent=null:(n.parent_=null,qt({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(n)}find(n){return this.bcSet_.allItems().filter(s=>s instanceof n)}onSetAdd_(n){this.updatePositions_();const s=n.target===n.root;if(this.emitter.emit("add",{bladeController:n.item,index:n.index,isRoot:s,sender:this}),!s)return;const c=n.item;if(c.viewProps.emitter.on("change",this.onChildViewPropsChange_),c.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),c.viewProps.handleDispose(this.onChildDispose_),c instanceof Yt)c.binding.emitter.on("change",this.onChildInputChange_);else if(c instanceof Ce)c.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(c instanceof Pt)c.value.emitter.on("change",this.onChildValueChange_);else{const m=ms(c);if(m){const _=m.emitter;_.on("layout",this.onDescendantLayout_),_.on("inputchange",this.onDescendantInputChange_),_.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(n){this.updatePositions_();const s=n.target===n.root;if(this.emitter.emit("remove",{bladeController:n.item,isRoot:s,sender:this}),!s)return;const c=n.item;if(c instanceof Yt)c.binding.emitter.off("change",this.onChildInputChange_);else if(c instanceof Ce)c.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(c instanceof Pt)c.value.emitter.off("change",this.onChildValueChange_);else{const m=ms(c);if(m){const _=m.emitter;_.off("layout",this.onDescendantLayout_),_.off("inputchange",this.onDescendantInputChange_),_.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const n=this.bcSet_.items.filter(m=>!m.viewProps.get("hidden")),s=n[0],c=n[n.length-1];this.bcSet_.items.forEach(m=>{const _=[];m===s&&(_.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&_.push("veryfirst")),m===c&&(_.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&_.push("verylast")),m.blade.set("positions",_)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(n){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(s=>s.viewProps.get("disposed")).forEach(s=>{this.bcSet_.remove(s)})}onChildInputChange_(n){const s=jo(this.find(Yt),n.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:s,options:n.options,sender:this})}onChildMonitorUpdate_(n){const s=Fo(this.find(Ce),n.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:s,sender:this})}onChildValueChange_(n){const s=zo(this.find(Pt),n.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:s,options:n.options,sender:this})}onDescendantLayout_(n){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(n){this.emitter.emit("inputchange",{bladeController:n.bladeController,options:n.options,sender:this})}onDescendantMonitorUpdate_(n){this.emitter.emit("monitorupdate",{bladeController:n.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Yn extends M{constructor(n,s){super(Object.assign(Object.assign({},s),{view:new Bo(n,{viewName:"brk",viewProps:s.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const c=new Ko({blade:s.root?void 0:s.blade,viewProps:s.viewProps});c.emitter.on("add",this.onRackAdd_),c.emitter.on("remove",this.onRackRemove_),this.rack=c,this.viewProps.handleDispose(()=>{for(let m=this.rack.children.length-1;m>=0;m--)this.rack.children[m].viewProps.set("disposed",!0)})}onRackAdd_(n){!n.isRoot||H(this.view.element,n.bladeController.view.element,n.index)}onRackRemove_(n){!n.isRoot||J(n.bladeController.view.element)}}const mr=j("cnt");class Uo{constructor(n,s){var c;this.className_=j((c=s.viewName)!==null&&c!==void 0?c:"fld"),this.element=n.createElement("div"),this.element.classList.add(this.className_(),mr()),s.viewProps.bindClassModifiers(this.element),this.foldable_=s.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),St(this.foldable_,"completed",et(this.element,this.className_(void 0,"cpl")));const m=n.createElement("button");m.classList.add(this.className_("b")),St(s.props,"title",Y=>{E(Y)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),s.viewProps.bindDisabled(m),this.element.appendChild(m),this.buttonElement=m;const _=n.createElement("div");_.classList.add(this.className_("i")),this.element.appendChild(_);const y=n.createElement("div");y.classList.add(this.className_("t")),Se(s.props.value("title"),y),this.buttonElement.appendChild(y),this.titleElement=y;const T=n.createElement("div");T.classList.add(this.className_("m")),this.buttonElement.appendChild(T);const q=s.containerElement;q.classList.add(this.className_("c")),this.element.appendChild(q),this.containerElement=q}}class yi extends ds{constructor(n,s){var c;const m=Ke.create((c=s.expanded)!==null&&c!==void 0?c:!0),_=new Yn(n,{blade:s.blade,root:s.root,viewProps:s.viewProps});super(Object.assign(Object.assign({},s),{rackController:_,view:new Uo(n,{containerElement:_.view.element,foldable:m,props:s.props,viewName:s.root?"rot":void 0,viewProps:s.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=s.props,this.foldable=m,ls(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Ho={id:"folder",type:"blade",accept(o){const n=vt,s=xt(o,{title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean});return s?{params:s}:null},controller(o){return new yi(o.document,{blade:o.blade,expanded:o.params.expanded,props:z.fromObject({title:o.params.title}),viewProps:o.viewProps})},api(o){return o.controller instanceof yi?new hs(o.controller,o.pool):null}};class Pn extends Pt{constructor(n,s){const c=s.valueController.viewProps;super(Object.assign(Object.assign({},s),{value:s.valueController.value,view:new $e(n,{props:s.props,viewProps:c}),viewProps:c})),this.props=s.props,this.valueController=s.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class vr extends a{}const vs=j("spr");class qo{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(vs()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("hr");c.classList.add(vs("r")),this.element.appendChild(c)}}class Wn extends M{constructor(n,s){super(Object.assign(Object.assign({},s),{view:new qo(n,{viewProps:s.viewProps})}))}}const Go={id:"separator",type:"blade",accept(o){const s=xt(o,{view:vt.required.constant("separator")});return s?{params:s}:null},controller(o){return new Wn(o.document,{blade:o.blade,viewProps:o.viewProps})},api(o){return o.controller instanceof Wn?new vr(o.controller):null}},At=j("tbi");class Yo{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(At()),s.viewProps.bindClassModifiers(this.element),St(s.props,"selected",_=>{_?this.element.classList.add(At(void 0,"sel")):this.element.classList.remove(At(void 0,"sel"))});const c=n.createElement("button");c.classList.add(At("b")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.buttonElement=c;const m=n.createElement("div");m.classList.add(At("t")),Se(s.props.value("title"),m),this.buttonElement.appendChild(m),this.titleElement=m}}class Ei{constructor(n,s){this.emitter=new X,this.onClick_=this.onClick_.bind(this),this.props=s.props,this.viewProps=s.viewProps,this.view=new Yo(n,{props:s.props,viewProps:s.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class fr{constructor(n,s){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Ei(n,{props:s.itemProps,viewProps:Gt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Yn(n,{blade:Rt(),viewProps:Gt.create()}),this.props=s.props,St(this.props,"selected",c=>{this.itemController.props.set("selected",c),this.contentController.viewProps.set("hidden",!c)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class fs{constructor(n,s){this.controller_=n,this.rackApi_=s}get title(){var n;return(n=this.controller_.itemController.props.get("title"))!==null&&n!==void 0?n:""}set title(n){this.controller_.itemController.props.set("title",n)}get selected(){return this.controller_.props.get("selected")}set selected(n){this.controller_.props.set("selected",n)}get children(){return this.rackApi_.children}addButton(n){return this.rackApi_.addButton(n)}addFolder(n){return this.rackApi_.addFolder(n)}addSeparator(n){return this.rackApi_.addSeparator(n)}addTab(n){return this.rackApi_.addTab(n)}add(n,s){this.rackApi_.add(n,s)}remove(n){this.rackApi_.remove(n)}addInput(n,s,c){return this.rackApi_.addInput(n,s,c)}addMonitor(n,s,c){return this.rackApi_.addMonitor(n,s,c)}addBlade(n){return this.rackApi_.addBlade(n)}}class br extends as{constructor(n,s){super(n,new Pi(n.rackController,s)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new X,this.pageApiMap_=new Map,this.rackApi_.on("change",c=>{this.emitter_.emit("change",{event:c})}),this.rackApi_.on("update",c=>{this.emitter_.emit("update",{event:c})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(c=>{this.setUpPageApi_(c)})}get pages(){return this.controller_.pageSet.items.map(n=>{const s=this.pageApiMap_.get(n);if(!s)throw I.shouldNeverHappen();return s})}addPage(n){const s=this.controller_.view.element.ownerDocument,c=new fr(s,{itemProps:z.fromObject({selected:!1,title:n.title}),props:z.fromObject({selected:!1})});this.controller_.add(c,n.index);const m=this.pageApiMap_.get(c);if(!m)throw I.shouldNeverHappen();return m}removePage(n){this.controller_.remove(n)}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}setUpPageApi_(n){const s=this.rackApi_.apiSet_.find(m=>m.controller_===n.contentController);if(!s)throw I.shouldNeverHappen();const c=new fs(n,s);this.pageApiMap_.set(n,c)}onPageAdd_(n){this.setUpPageApi_(n.item)}onPageRemove_(n){if(!this.pageApiMap_.get(n.item))throw I.shouldNeverHappen();this.pageApiMap_.delete(n.item)}onSelect_(n){this.emitter_.emit("select",{event:new C(this,n.rawValue)})}}const _r=-1;class Wo{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=W(!0),this.selectedIndex=W(_r),this.items_=[]}add(n,s){const c=s!=null?s:this.items_.length;this.items_.splice(c,0,n),n.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(n){const s=this.items_.indexOf(n);s<0||(this.items_.splice(s,1),n.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=_r,this.empty.rawValue=!0;return}const n=this.items_.findIndex(s=>s.rawValue);n<0?(this.items_.forEach((s,c)=>{s.rawValue=c===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((s,c)=>{s.rawValue=c===n}),this.selectedIndex.rawValue=n),this.empty.rawValue=!1}onItemSelectedChange_(n){if(n.rawValue){const s=this.items_.findIndex(c=>c===n.sender);this.items_.forEach((c,m)=>{c.rawValue=m===s}),this.selectedIndex.rawValue=s}else this.keepSelection_()}}const yn=j("tab");class En{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(yn(),mr()),s.viewProps.bindClassModifiers(this.element),Kt(s.empty,et(this.element,yn(void 0,"nop")));const c=n.createElement("div");c.classList.add(yn("t")),this.element.appendChild(c),this.itemsElement=c;const m=n.createElement("div");m.classList.add(yn("i")),this.element.appendChild(m);const _=s.contentsElement;_.classList.add(yn("c")),this.element.appendChild(_),this.contentsElement=_}}class Xn extends ds{constructor(n,s){const c=new Yn(n,{blade:s.blade,viewProps:s.viewProps}),m=new Wo;super({blade:s.blade,rackController:c,view:new En(n,{contentsElement:c.view.element,empty:m.empty,viewProps:s.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new on(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=m}get pageSet(){return this.pageSet_}add(n,s){this.pageSet_.add(n,s)}remove(n){this.pageSet_.remove(this.pageSet_.items[n])}onPageAdd_(n){const s=n.item;H(this.view.itemsElement,s.itemController.view.element,n.index),s.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(s.contentController,n.index),this.tab.add(s.props.value("selected"))}onPageRemove_(n){const s=n.item;J(s.itemController.view.element),s.itemController.viewProps.set("parent",null),this.rackController.rack.remove(s.contentController),this.tab.remove(s.props.value("selected"))}}const bs={id:"tab",type:"blade",accept(o){const n=vt,s=xt(o,{pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")});return!s||s.pages.length===0?null:{params:s}},controller(o){const n=new Xn(o.document,{blade:o.blade,viewProps:o.viewProps});return o.params.pages.forEach(s=>{const c=new fr(o.document,{itemProps:z.fromObject({selected:!1,title:s.title}),props:z.fromObject({selected:!1})});n.add(c)}),n},api(o){return o.controller instanceof Xn?new br(o.controller,o.pool):null}};function Xo(o,n){const s=o.accept(n.params);if(!s)return null;const c=vt.optional.boolean(n.params.disabled).value,m=vt.optional.boolean(n.params.hidden).value;return o.controller({blade:Rt(),document:n.document,params:Object.assign(Object.assign({},s.params),{disabled:c,hidden:m}),viewProps:Gt.create({disabled:c,hidden:m})})}class wr{constructor(){this.disabled=!1,this.emitter=new X}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class _s{constructor(n,s){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=n,this.emitter=new X,this.interval_=s,this.setTimer_()}get disabled(){return this.disabled_}set disabled(n){this.disabled_=n,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const n=this.doc_.defaultView;n&&n.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const n=this.doc_.defaultView;n&&(this.timerId_=n.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class ki{constructor(n){this.onValueChange_=this.onValueChange_.bind(this),this.reader=n.reader,this.writer=n.writer,this.emitter=new X,this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.target=n.target,this.read()}read(){const n=this.target.read();n!==void 0&&(this.value.rawValue=this.reader(n))}write_(n){this.writer(this.target,n)}onValueChange_(n){this.write_(n.rawValue),this.emitter.emit("change",{options:n.options,rawValue:n.rawValue,sender:this})}}function yt(o,n){for(;o.length<n;)o.push(void 0)}function gr(o){const n=[];return yt(n,o),W(n)}function kn(o){const n=o.indexOf(void 0);return n<0?o:o.slice(0,n)}function ne(o,n){const s=[...kn(o),n];return s.length>o.length?s.splice(0,s.length-o.length):yt(s,o.length),s}class Jo{constructor(n){this.onTick_=this.onTick_.bind(this),this.reader_=n.reader,this.target=n.target,this.emitter=new X,this.value=n.value,this.ticker=n.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const n=this.target.read();if(n===void 0)return;const s=this.value.rawValue,c=this.reader_(n);this.value.rawValue=ne(s,c),this.emitter.emit("update",{rawValue:c,sender:this})}onTick_(n){this.read()}}class Jn{constructor(n){this.constraints=n}constrain(n){return this.constraints.reduce((s,c)=>c.constrain(s),n)}}function de(o,n){if(o instanceof n)return o;if(o instanceof Jn){const s=o.constraints.reduce((c,m)=>c||(m instanceof n?m:null),null);if(s)return s}return null}class Vn{constructor(n){this.values=z.fromObject({max:n.max,min:n.min})}constrain(n){const s=this.values.get("max"),c=this.values.get("min");return Math.min(Math.max(n,c),s)}}class Zn{constructor(n){this.values=z.fromObject({options:n})}get options(){return this.values.get("options")}constrain(n){const s=this.values.get("options");return s.length===0||s.filter(m=>m.value===n).length>0?n:s[0].value}}class ws{constructor(n){this.values=z.fromObject({max:n.max,min:n.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(n){const s=this.values.get("max"),c=this.values.get("min");let m=n;return E(c)||(m=Math.max(m,c)),E(s)||(m=Math.min(m,s)),m}}class Vi{constructor(n,s=0){this.step=n,this.origin=s}constrain(n){const s=this.origin%this.step,c=Math.round((n-s)/this.step);return s+c*this.step}}const Sn=j("lst");class Cr{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),this.props_=s.props,this.element=n.createElement("div"),this.element.classList.add(Sn()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("select");c.classList.add(Sn("s")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.selectElement=c;const m=n.createElement("div");m.classList.add(Sn("m")),m.appendChild(K(n,"dropdown")),this.element.appendChild(m),s.value.emitter.on("change",this.onValueChange_),this.value_=s.value,St(this.props_,"options",_=>{ct(this.selectElement),_.forEach(y=>{const T=n.createElement("option");T.textContent=y.text,this.selectElement.appendChild(T)}),this.update_()})}update_(){const n=this.props_.get("options").map(s=>s.value);this.selectElement.selectedIndex=n.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Qn{constructor(n,s){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=s.props,this.value=s.value,this.viewProps=s.viewProps,this.view=new Cr(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(n){const s=n.currentTarget;this.value.rawValue=this.props.get("options")[s.selectedIndex].value}}const xr=j("pop");class Zo{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(xr()),s.viewProps.bindClassModifiers(this.element),Kt(s.shows,et(this.element,xr(void 0,"v")))}}class Pr{constructor(n,s){this.shows=W(!1),this.viewProps=s.viewProps,this.view=new Zo(n,{shows:this.shows,viewProps:this.viewProps})}}const yr=j("txt");class Qo{constructor(n,s){this.onChange_=this.onChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(yr()),s.viewProps.bindClassModifiers(this.element),this.props_=s.props,this.props_.emitter.on("change",this.onChange_);const c=n.createElement("input");c.classList.add(yr("i")),c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,s.value.emitter.on("change",this.onChange_),this.value_=s.value,this.refresh()}refresh(){const n=this.props_.get("formatter");this.inputElement.value=n(this.value_.rawValue)}onChange_(){this.refresh()}}class Si{constructor(n,s){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=s.parser,this.props=s.props,this.value=s.value,this.viewProps=s.viewProps,this.view=new Qo(n,{props:s.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(n){const c=n.currentTarget.value,m=this.parser_(c);E(m)||(this.value.rawValue=m),this.view.refresh()}}function tl(o){return String(o)}function Er(o){return o==="false"?!1:!!o}function kr(o){return tl(o)}class el{constructor(n){this.text=n}evaluate(){return Number(this.text)}toString(){return this.text}}const nl={"**":(o,n)=>Math.pow(o,n),"*":(o,n)=>o*n,"/":(o,n)=>o/n,"%":(o,n)=>o%n,"+":(o,n)=>o+n,"-":(o,n)=>o-n,"<<":(o,n)=>o<<n,">>":(o,n)=>o>>n,">>>":(o,n)=>o>>>n,"&":(o,n)=>o&n,"^":(o,n)=>o^n,"|":(o,n)=>o|n};class il{constructor(n,s,c){this.left=s,this.operator=n,this.right=c}evaluate(){const n=nl[this.operator];if(!n)throw new Error(`unexpected binary operator: '${this.operator}`);return n(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Vr={"+":o=>o,"-":o=>-o,"~":o=>~o};class sl{constructor(n,s){this.operator=n,this.expression=s}evaluate(){const n=Vr[this.operator];if(!n)throw new Error(`unexpected unary operator: '${this.operator}`);return n(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function gs(o){return(n,s)=>{for(let c=0;c<o.length;c++){const m=o[c](n,s);if(m!=="")return m}return""}}function ln(o,n){var s;const c=o.substr(n).match(/^\s+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function rl(o,n){const s=o.substr(n,1);return s.match(/^[1-9]$/)?s:""}function ti(o,n){var s;const c=o.substr(n).match(/^[0-9]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function ol(o,n){const s=ti(o,n);if(s!=="")return s;const c=o.substr(n,1);if(n+=1,c!=="-"&&c!=="+")return"";const m=ti(o,n);return m===""?"":c+m}function xe(o,n){const s=o.substr(n,1);if(n+=1,s.toLowerCase()!=="e")return"";const c=ol(o,n);return c===""?"":s+c}function Sr(o,n){const s=o.substr(n,1);if(s==="0")return s;const c=rl(o,n);return n+=c.length,c===""?"":c+ti(o,n)}function ll(o,n){const s=Sr(o,n);if(n+=s.length,s==="")return"";const c=o.substr(n,1);if(n+=c.length,c!==".")return"";const m=ti(o,n);return n+=m.length,s+c+m+xe(o,n)}function Lr(o,n){const s=o.substr(n,1);if(n+=s.length,s!==".")return"";const c=ti(o,n);return n+=c.length,c===""?"":s+c+xe(o,n)}function al(o,n){const s=Sr(o,n);return n+=s.length,s===""?"":s+xe(o,n)}const Mr=gs([ll,Lr,al]);function Cs(o,n){var s;const c=o.substr(n).match(/^[01]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function cl(o,n){const s=o.substr(n,2);if(n+=s.length,s.toLowerCase()!=="0b")return"";const c=Cs(o,n);return c===""?"":s+c}function Ar(o,n){var s;const c=o.substr(n).match(/^[0-7]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function ie(o,n){const s=o.substr(n,2);if(n+=s.length,s.toLowerCase()!=="0o")return"";const c=Ar(o,n);return c===""?"":s+c}function ul(o,n){var s;const c=o.substr(n).match(/^[0-9a-f]+/i);return(s=c&&c[0])!==null&&s!==void 0?s:""}function pl(o,n){const s=o.substr(n,2);if(n+=s.length,s.toLowerCase()!=="0x")return"";const c=ul(o,n);return c===""?"":s+c}const xs=gs([cl,ie,pl]),hl=gs([xs,Mr]);function Ue(o,n){const s=hl(o,n);return n+=s.length,s===""?null:{evaluable:new el(s),cursor:n}}function Ps(o,n){const s=o.substr(n,1);if(n+=s.length,s!=="(")return null;const c=Li(o,n);if(!c)return null;n=c.cursor,n+=ln(o,n).length;const m=o.substr(n,1);return n+=m.length,m!==")"?null:{evaluable:c.evaluable,cursor:n}}function dl(o,n){var s;return(s=Ue(o,n))!==null&&s!==void 0?s:Ps(o,n)}function ys(o,n){const s=dl(o,n);if(s)return s;const c=o.substr(n,1);if(n+=c.length,c!=="+"&&c!=="-"&&c!=="~")return null;const m=ys(o,n);return m?(n=m.cursor,{cursor:n,evaluable:new sl(c,m.evaluable)}):null}function ml(o,n,s){s+=ln(n,s).length;const c=o.filter(m=>n.startsWith(m,s))[0];return c?(s+=c.length,s+=ln(n,s).length,{cursor:s,operator:c}):null}function an(o,n){return(s,c)=>{const m=o(s,c);if(!m)return null;c=m.cursor;let _=m.evaluable;for(;;){const y=ml(n,s,c);if(!y)break;c=y.cursor;const T=o(s,c);if(!T)return null;c=T.cursor,_=new il(y.operator,_,T.evaluable)}return _?{cursor:c,evaluable:_}:null}}const Tr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((o,n)=>an(o,n),ys);function Li(o,n){return n+=ln(o,n).length,Tr(o,n)}function Dr(o){const n=Li(o,0);return!n||n.cursor+ln(o,n.cursor).length!==o.length?null:n.evaluable}function Pe(o){var n;const s=Dr(o);return(n=s==null?void 0:s.evaluate())!==null&&n!==void 0?n:null}function Ae(o){if(typeof o=="number")return o;if(typeof o=="string"){const n=Pe(o);if(!E(n))return n}return 0}function vl(o){return String(o)}function Tt(o){return n=>n.toFixed(Math.max(Math.min(o,20),0))}const Or=Tt(0);function ei(o){return Or(o)+"%"}function Es(o){return String(o)}function He(o){return o}function Ln({primary:o,secondary:n,forward:s,backward:c}){let m=!1;function _(y){m||(m=!0,y(),m=!1)}o.emitter.on("change",y=>{_(()=>{n.setRawValue(s(o,n),y.options)})}),n.emitter.on("change",y=>{_(()=>{o.setRawValue(c(o,n),y.options)}),_(()=>{n.setRawValue(s(o,n),y.options)})}),_(()=>{n.setRawValue(s(o,n),{forceEmit:!1,last:!0})})}function It(o,n){const s=o*(n.altKey?.1:1)*(n.shiftKey?10:1);return n.upKey?+s:n.downKey?-s:0}function ni(o){return{altKey:o.altKey,downKey:o.key==="ArrowDown",shiftKey:o.shiftKey,upKey:o.key==="ArrowUp"}}function ye(o){return{altKey:o.altKey,downKey:o.key==="ArrowLeft",shiftKey:o.shiftKey,upKey:o.key==="ArrowRight"}}function Rr(o){return o==="ArrowUp"||o==="ArrowDown"}function Mi(o){return Rr(o)||o==="ArrowLeft"||o==="ArrowRight"}function ks(o,n){var s,c;const m=n.ownerDocument.defaultView,_=n.getBoundingClientRect();return{x:o.pageX-(((s=m&&m.scrollX)!==null&&s!==void 0?s:0)+_.left),y:o.pageY-(((c=m&&m.scrollY)!==null&&c!==void 0?c:0)+_.top)}}class cn{constructor(n){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=n,this.emitter=new X,n.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),n.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),n.addEventListener("touchend",this.onTouchEnd_),n.addEventListener("mousedown",this.onMouseDown_)}computePosition_(n){const s=this.elem_.getBoundingClientRect();return{bounds:{width:s.width,height:s.height},point:n?{x:n.x,y:n.y}:null}}onMouseDown_(n){var s;n.preventDefault(),(s=n.currentTarget)===null||s===void 0||s.focus();const c=this.elem_.ownerDocument;c.addEventListener("mousemove",this.onDocumentMouseMove_),c.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:n.altKey,data:this.computePosition_(ks(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onDocumentMouseMove_(n){this.emitter.emit("move",{altKey:n.altKey,data:this.computePosition_(ks(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onDocumentMouseUp_(n){const s=this.elem_.ownerDocument;s.removeEventListener("mousemove",this.onDocumentMouseMove_),s.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:n.altKey,data:this.computePosition_(ks(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onTouchStart_(n){n.preventDefault();const s=n.targetTouches.item(0),c=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:n.altKey,data:this.computePosition_(s?{x:s.clientX-c.left,y:s.clientY-c.top}:void 0),sender:this,shiftKey:n.shiftKey}),this.lastTouch_=s}onTouchMove_(n){const s=n.targetTouches.item(0),c=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:n.altKey,data:this.computePosition_(s?{x:s.clientX-c.left,y:s.clientY-c.top}:void 0),sender:this,shiftKey:n.shiftKey}),this.lastTouch_=s}onTouchEnd_(n){var s;const c=(s=n.targetTouches.item(0))!==null&&s!==void 0?s:this.lastTouch_,m=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:n.altKey,data:this.computePosition_(c?{x:c.clientX-m.left,y:c.clientY-m.top}:void 0),sender:this,shiftKey:n.shiftKey})}}function bt(o,n,s,c,m){const _=(o-n)/(s-n);return c+_*(m-c)}function Vs(o){return String(o.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Et(o,n,s){return Math.min(Math.max(o,n),s)}function Mn(o,n){return(o%n+n)%n}const Zt=j("txt");class Ss{constructor(n,s){this.onChange_=this.onChange_.bind(this),this.props_=s.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(Zt(),Zt(void 0,"num")),s.arrayPosition&&this.element.classList.add(Zt(void 0,s.arrayPosition)),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("input");c.classList.add(Zt("i")),c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=s.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Zt()),this.inputElement.classList.add(Zt("i"));const m=n.createElement("div");m.classList.add(Zt("k")),this.element.appendChild(m),this.knobElement=m;const _=n.createElementNS(L,"svg");_.classList.add(Zt("g")),this.knobElement.appendChild(_);const y=n.createElementNS(L,"path");y.classList.add(Zt("gb")),_.appendChild(y),this.guideBodyElem_=y;const T=n.createElementNS(L,"path");T.classList.add(Zt("gh")),_.appendChild(T),this.guideHeadElem_=T;const q=n.createElement("div");q.classList.add(j("tt")()),this.knobElement.appendChild(q),this.tooltipElem_=q,s.value.emitter.on("change",this.onChange_),this.value=s.value,this.refresh()}onDraggingChange_(n){if(n.rawValue===null){this.element.classList.remove(Zt(void 0,"drg"));return}this.element.classList.add(Zt(void 0,"drg"));const s=n.rawValue/this.props_.get("draggingScale"),c=s+(s>0?-1:s<0?1:0),m=Et(-c,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${c+m},0 L${c},4 L${c+m},8`,`M ${s},-1 L${s},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${s},4`);const _=this.props_.get("formatter");this.tooltipElem_.textContent=_(this.value.rawValue),this.tooltipElem_.style.left=`${s}px`}refresh(){const n=this.props_.get("formatter");this.inputElement.value=n(this.value.rawValue)}onChange_(){this.refresh()}}class ii{constructor(n,s){var c;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=s.baseStep,this.parser_=s.parser,this.props=s.props,this.sliderProps_=(c=s.sliderProps)!==null&&c!==void 0?c:null,this.value=s.value,this.viewProps=s.viewProps,this.dragging_=W(null),this.view=new Ss(n,{arrayPosition:s.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const m=new cn(this.view.knobElement);m.emitter.on("down",this.onPointerDown_),m.emitter.on("move",this.onPointerMove_),m.emitter.on("up",this.onPointerUp_)}constrainValue_(n){var s,c;const m=(s=this.sliderProps_)===null||s===void 0?void 0:s.get("minValue"),_=(c=this.sliderProps_)===null||c===void 0?void 0:c.get("maxValue");let y=n;return m!==void 0&&(y=Math.max(y,m)),_!==void 0&&(y=Math.min(y,_)),y}onInputChange_(n){const c=n.currentTarget.value,m=this.parser_(c);E(m)||(this.value.rawValue=this.constrainValue_(m)),this.view.refresh()}onInputKeyDown_(n){const s=It(this.baseStep_,ni(n));s!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+s),{forceEmit:!1,last:!1})}onInputKeyUp_(n){It(this.baseStep_,ni(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(n){if(!n.point)return null;const s=n.point.x-n.bounds.width/2;return this.constrainValue_(this.originRawValue_+s*this.props.get("draggingScale"))}onPointerMove_(n){const s=this.computeDraggingValue_(n.data);s!==null&&(this.value.setRawValue(s,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(n){const s=this.computeDraggingValue_(n.data);s!==null&&(this.value.setRawValue(s,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ls=j("sld");class Qt{constructor(n,s){this.onChange_=this.onChange_.bind(this),this.props_=s.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(Ls()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(Ls("t")),s.viewProps.bindTabIndex(c),this.element.appendChild(c),this.trackElement=c;const m=n.createElement("div");m.classList.add(Ls("k")),this.trackElement.appendChild(m),this.knobElement=m,s.value.emitter.on("change",this.onChange_),this.value=s.value,this.update_()}update_(){const n=Et(bt(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${n}%`}onChange_(){this.update_()}}class Ms{constructor(n,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=s.baseStep,this.value=s.value,this.viewProps=s.viewProps,this.props=s.props,this.view=new Qt(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,s){!n.point||this.value.setRawValue(bt(Et(n.point.x,0,n.bounds.width),0,n.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),s)}onPointerDownOrMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const s=It(this.baseStep_,ye(n));s!==0&&this.value.setRawValue(this.value.rawValue+s,{forceEmit:!1,last:!1})}onKeyUp_(n){It(this.baseStep_,ye(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const si=j("sldtxt");class As{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(si());const c=n.createElement("div");c.classList.add(si("s")),this.sliderView_=s.sliderView,c.appendChild(this.sliderView_.element),this.element.appendChild(c);const m=n.createElement("div");m.classList.add(si("t")),this.textView_=s.textView,m.appendChild(this.textView_.element),this.element.appendChild(m)}}class Ai{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.sliderC_=new Ms(n,{baseStep:s.baseStep,props:s.sliderProps,value:s.value,viewProps:this.viewProps}),this.textC_=new ii(n,{baseStep:s.baseStep,parser:s.parser,props:s.textProps,sliderProps:s.sliderProps,value:s.value,viewProps:s.viewProps}),this.view=new As(n,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function me(o,n){o.write(n)}function ri(o){const n=vt;if(Array.isArray(o))return n.required.array(n.required.object({text:n.required.string,value:n.required.raw}))(o).value;if(typeof o=="object")return n.required.raw(o).value}function Ts(o){if(o==="inline"||o==="popup")return o}function Te(o){const n=vt;return n.required.object({max:n.optional.number,min:n.optional.number,step:n.optional.number})(o).value}function Nr(o){if(Array.isArray(o))return o;const n=[];return Object.keys(o).forEach(s=>{n.push({text:s,value:o[s]})}),n}function Ds(o){return E(o)?null:new Zn(Nr(o))}function fl(o){const n=o?de(o,Vi):null;return n?n.step:null}function Ti(o,n){const s=o&&de(o,Vi);return s?Vs(s.step):Math.max(Vs(n),2)}function un(o){const n=fl(o);return n!=null?n:1}function pn(o,n){var s;const c=o&&de(o,Vi),m=Math.abs((s=c==null?void 0:c.step)!==null&&s!==void 0?s:n);return m===0?.1:Math.pow(10,Math.floor(Math.log10(m))-1)}const oi=j("ckb");class li{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(oi()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("label");c.classList.add(oi("l")),this.element.appendChild(c);const m=n.createElement("input");m.classList.add(oi("i")),m.type="checkbox",c.appendChild(m),this.inputElement=m,s.viewProps.bindDisabled(this.inputElement);const _=n.createElement("div");_.classList.add(oi("w")),c.appendChild(_);const y=K(n,"check");_.appendChild(y),s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Ir{constructor(n,s){this.onInputChange_=this.onInputChange_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new li(n,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(n){const s=n.currentTarget;this.value.rawValue=s.checked}}function Br(o){const n=[],s=Ds(o.options);return s&&n.push(s),new Jn(n)}const Di={id:"input-bool",type:"input",accept:(o,n)=>{if(typeof o!="boolean")return null;const c=xt(n,{options:vt.optional.custom(ri)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Er,constraint:o=>Br(o.params),writer:o=>me},controller:o=>{const n=o.document,s=o.value,c=o.constraint,m=c&&de(c,Zn);return m?new Qn(n,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps}):new Ir(n,{value:s,viewProps:o.viewProps})}},hn=j("col");class Os{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(hn()),s.foldable.bindExpandedClass(this.element,hn(void 0,"expanded")),St(s.foldable,"completed",et(this.element,hn(void 0,"cpl")));const c=n.createElement("div");c.classList.add(hn("h")),this.element.appendChild(c);const m=n.createElement("div");m.classList.add(hn("s")),c.appendChild(m),this.swatchElement=m;const _=n.createElement("div");if(_.classList.add(hn("t")),c.appendChild(_),this.textElement=_,s.pickerLayout==="inline"){const y=n.createElement("div");y.classList.add(hn("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}function bl(o,n,s){const c=Et(o/255,0,1),m=Et(n/255,0,1),_=Et(s/255,0,1),y=Math.max(c,m,_),T=Math.min(c,m,_),q=y-T;let Y=0,lt=0;const ut=(T+y)/2;return q!==0&&(lt=q/(1-Math.abs(y+T-1)),c===y?Y=(m-_)/q:m===y?Y=2+(_-c)/q:Y=4+(c-m)/q,Y=Y/6+(Y<0?1:0)),[Y*360,lt*100,ut*100]}function _l(o,n,s){const c=(o%360+360)%360,m=Et(n/100,0,1),_=Et(s/100,0,1),y=(1-Math.abs(2*_-1))*m,T=y*(1-Math.abs(c/60%2-1)),q=_-y/2;let Y,lt,ut;return c>=0&&c<60?[Y,lt,ut]=[y,T,0]:c>=60&&c<120?[Y,lt,ut]=[T,y,0]:c>=120&&c<180?[Y,lt,ut]=[0,y,T]:c>=180&&c<240?[Y,lt,ut]=[0,T,y]:c>=240&&c<300?[Y,lt,ut]=[T,0,y]:[Y,lt,ut]=[y,0,T],[(Y+q)*255,(lt+q)*255,(ut+q)*255]}function wl(o,n,s){const c=Et(o/255,0,1),m=Et(n/255,0,1),_=Et(s/255,0,1),y=Math.max(c,m,_),T=Math.min(c,m,_),q=y-T;let Y;q===0?Y=0:y===c?Y=60*(((m-_)/q%6+6)%6):y===m?Y=60*((_-c)/q+2):Y=60*((c-m)/q+4);const lt=y===0?0:q/y,ut=y;return[Y,lt*100,ut*100]}function jr(o,n,s){const c=Mn(o,360),m=Et(n/100,0,1),_=Et(s/100,0,1),y=_*m,T=y*(1-Math.abs(c/60%2-1)),q=_-y;let Y,lt,ut;return c>=0&&c<60?[Y,lt,ut]=[y,T,0]:c>=60&&c<120?[Y,lt,ut]=[T,y,0]:c>=120&&c<180?[Y,lt,ut]=[0,y,T]:c>=180&&c<240?[Y,lt,ut]=[0,T,y]:c>=240&&c<300?[Y,lt,ut]=[T,0,y]:[Y,lt,ut]=[y,0,T],[(Y+q)*255,(lt+q)*255,(ut+q)*255]}function h(o,n,s){const c=s+n*(100-Math.abs(2*s-100))/200;return[o,c!==0?n*(100-Math.abs(2*s-100))/c:0,s+n*(100-Math.abs(2*s-100))/(2*100)]}function l(o,n,s){const c=100-Math.abs(s*(200-n)/100-100);return[o,c!==0?n*s/c:0,s*(200-n)/(2*100)]}function u(o){return[o[0],o[1],o[2]]}function d(o,n){return[o[0],o[1],o[2],n]}const b={hsl:{hsl:(o,n,s)=>[o,n,s],hsv:h,rgb:_l},hsv:{hsl:l,hsv:(o,n,s)=>[o,n,s],rgb:jr},rgb:{hsl:bl,hsv:wl,rgb:(o,n,s)=>[o,n,s]}};function P(o,n){return[n==="float"?1:o==="rgb"?255:360,n==="float"?1:o==="rgb"?255:100,n==="float"?1:o==="rgb"?255:100]}function V(o,n){return o===n?n:Mn(o,n)}function N(o,n,s){var c;const m=P(n,s);return[n==="rgb"?Et(o[0],0,m[0]):V(o[0],m[0]),Et(o[1],0,m[1]),Et(o[2],0,m[2]),Et((c=o[3])!==null&&c!==void 0?c:1,0,1)]}function nt(o,n,s,c){const m=P(n,s),_=P(n,c);return o.map((y,T)=>y/m[T]*_[T])}function se(o,n,s){const c=nt(o,n.mode,n.type,"int"),m=b[n.mode][s.mode](...c);return nt(m,s.mode,"int",s.type)}function re(o,n){return typeof o!="object"||E(o)?!1:n in o&&typeof o[n]=="number"}class Z{static black(n="int"){return new Z([0,0,0],"rgb",n)}static fromObject(n,s="int"){const c="a"in n?[n.r,n.g,n.b,n.a]:[n.r,n.g,n.b];return new Z(c,"rgb",s)}static toRgbaObject(n,s="int"){return n.toRgbaObject(s)}static isRgbColorObject(n){return re(n,"r")&&re(n,"g")&&re(n,"b")}static isRgbaColorObject(n){return this.isRgbColorObject(n)&&re(n,"a")}static isColorObject(n){return this.isRgbColorObject(n)}static equals(n,s){if(n.mode!==s.mode)return!1;const c=n.comps_,m=s.comps_;for(let _=0;_<c.length;_++)if(c[_]!==m[_])return!1;return!0}constructor(n,s,c="int"){this.mode=s,this.type=c,this.comps_=N(n,s,c)}getComponents(n,s="int"){return d(se(u(this.comps_),{mode:this.mode,type:this.type},{mode:n!=null?n:this.mode,type:s}),this.comps_[3])}toRgbaObject(n="int"){const s=this.getComponents("rgb",n);return{r:s[0],g:s[1],b:s[2],a:s[3]}}}const qe=j("colp");class gl{constructor(n,s){this.alphaViews_=null,this.element=n.createElement("div"),this.element.classList.add(qe()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(qe("hsv"));const m=n.createElement("div");m.classList.add(qe("sv")),this.svPaletteView_=s.svPaletteView,m.appendChild(this.svPaletteView_.element),c.appendChild(m);const _=n.createElement("div");_.classList.add(qe("h")),this.hPaletteView_=s.hPaletteView,_.appendChild(this.hPaletteView_.element),c.appendChild(_),this.element.appendChild(c);const y=n.createElement("div");if(y.classList.add(qe("rgb")),this.textView_=s.textView,y.appendChild(this.textView_.element),this.element.appendChild(y),s.alphaViews){this.alphaViews_={palette:s.alphaViews.palette,text:s.alphaViews.text};const T=n.createElement("div");T.classList.add(qe("a"));const q=n.createElement("div");q.classList.add(qe("ap")),q.appendChild(this.alphaViews_.palette.element),T.appendChild(q);const Y=n.createElement("div");Y.classList.add(qe("at")),Y.appendChild(this.alphaViews_.text.element),T.appendChild(Y),this.element.appendChild(T)}}get allFocusableElements(){const n=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(s=>s.inputElement)];return this.alphaViews_&&n.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),n}}function $h(o){return o==="int"?"int":o==="float"?"float":void 0}function Cl(o){const n=vt;return xt(o,{alpha:n.optional.boolean,color:n.optional.object({alpha:n.optional.boolean,type:n.optional.custom($h)}),expanded:n.optional.boolean,picker:n.optional.custom(Ts)})}function ai(o){return o?.1:1}function ci(o){var n;return(n=o.color)===null||n===void 0?void 0:n.type}function Kh(o,n){return o.alpha===n.alpha&&o.mode===n.mode&&o.notation===n.notation&&o.type===n.type}function Ee(o,n){const s=o.match(/^(.+)%$/);return Math.min(s?parseFloat(s[1])*.01*n:parseFloat(o),n)}const Uh={deg:o=>o,grad:o=>o*360/400,rad:o=>o*360/(2*Math.PI),turn:o=>o*360};function bc(o){const n=o.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!n)return parseFloat(o);const s=parseFloat(n[1]),c=n[2];return Uh[c](s)}function _c(o){const n=o.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const s=[Ee(n[1],255),Ee(n[2],255),Ee(n[3],255)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function wc(o){return n=>{const s=_c(n);return s?new Z(s,"rgb",o):null}}function gc(o){const n=o.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const s=[Ee(n[1],255),Ee(n[2],255),Ee(n[3],255),Ee(n[4],1)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function Cc(o){return n=>{const s=gc(n);return s?new Z(s,"rgb",o):null}}function xc(o){const n=o.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const s=[bc(n[1]),Ee(n[2],100),Ee(n[3],100)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Pc(o){return n=>{const s=xc(n);return s?new Z(s,"hsl",o):null}}function yc(o){const n=o.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const s=[bc(n[1]),Ee(n[2],100),Ee(n[3],100),Ee(n[4],1)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function Ec(o){return n=>{const s=yc(n);return s?new Z(s,"hsl",o):null}}function kc(o){const n=o.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(n)return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)];const s=o.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:null}function Hh(o){const n=kc(o);return n?new Z(n,"rgb","int"):null}function Vc(o){const n=o.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(n)return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),bt(parseInt(n[4]+n[4],16),0,255,0,1)];const s=o.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16),bt(parseInt(s[4],16),0,255,0,1)]:null}function qh(o){const n=Vc(o);return n?new Z(n,"rgb","int"):null}function Sc(o){const n=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!n)return null;const s=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Lc(o){return n=>{const s=Sc(n);return s?new Z(s,"rgb",o):null}}function Mc(o){const n=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!n)return null;const s=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4])];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function Ac(o){return n=>{const s=Mc(n);return s?new Z(s,"rgb",o):null}}const Gh=[{parser:kc,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Vc,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:_c,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:gc,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:xc,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:yc,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Sc,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Mc,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Yh(o){return Gh.reduce((n,{parser:s,result:c})=>n||(s(o)?c:null),null)}function xl(o,n="int"){const s=Yh(o);return s?s.notation==="hex"&&n!=="float"?Object.assign(Object.assign({},s),{type:"int"}):s.notation==="func"?Object.assign(Object.assign({},s),{type:n}):null:null}const Tc={int:[Hh,qh,wc("int"),Cc("int"),Pc("int"),Ec("int"),Lc("int"),Ac("int")],float:[wc("float"),Cc("float"),Pc("float"),Ec("float"),Lc("float"),Ac("float")]};function Wh(o){const n=Tc[o];return s=>{if(typeof s!="string")return Z.black(o);const c=n.reduce((m,_)=>m||_(s),null);return c!=null?c:Z.black(o)}}function Pl(o){const n=Tc[o];return s=>n.reduce((c,m)=>c||m(s),null)}function Dc(o){const n=Et(Math.floor(o),0,255).toString(16);return n.length===1?`0${n}`:n}function Oc(o,n="#"){const s=u(o.getComponents("rgb")).map(Dc).join("");return`${n}${s}`}function yl(o,n="#"){const s=o.getComponents("rgb"),c=[s[0],s[1],s[2],s[3]*255].map(Dc).join("");return`${n}${c}`}function Rc(o,n){const s=Tt(n==="float"?2:0);return`rgb(${u(o.getComponents("rgb",n)).map(m=>s(m)).join(", ")})`}function Xh(o){return n=>Rc(n,o)}function Fr(o,n){const s=Tt(2),c=Tt(n==="float"?2:0);return`rgba(${o.getComponents("rgb",n).map((_,y)=>(y===3?s:c)(_)).join(", ")})`}function Jh(o){return n=>Fr(n,o)}function Zh(o){const n=[Tt(0),ei,ei];return`hsl(${u(o.getComponents("hsl")).map((c,m)=>n[m](c)).join(", ")})`}function Qh(o){const n=[Tt(0),ei,ei,Tt(2)];return`hsla(${o.getComponents("hsl").map((c,m)=>n[m](c)).join(", ")})`}function Nc(o,n){const s=Tt(n==="float"?2:0),c=["r","g","b"];return`{${u(o.getComponents("rgb",n)).map((_,y)=>`${c[y]}: ${s(_)}`).join(", ")}}`}function td(o){return n=>Nc(n,o)}function Ic(o,n){const s=Tt(2),c=Tt(n==="float"?2:0),m=["r","g","b","a"];return`{${o.getComponents("rgb",n).map((y,T)=>{const q=T===3?s:c;return`${m[T]}: ${q(y)}`}).join(", ")}}`}function ed(o){return n=>Ic(n,o)}const nd=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Oc},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:yl},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Zh},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Qh},...["int","float"].reduce((o,n)=>[...o,{format:{alpha:!1,mode:"rgb",notation:"func",type:n},stringifier:Xh(n)},{format:{alpha:!0,mode:"rgb",notation:"func",type:n},stringifier:Jh(n)},{format:{alpha:!1,mode:"rgb",notation:"object",type:n},stringifier:td(n)},{format:{alpha:!0,mode:"rgb",notation:"object",type:n},stringifier:ed(n)}],[])];function El(o){return nd.reduce((n,s)=>n||(Kh(s.format,o)?s.stringifier:null),null)}const Rs=j("apl");class id{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(Rs()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=n.createElement("div");c.classList.add(Rs("b")),this.element.appendChild(c);const m=n.createElement("div");m.classList.add(Rs("c")),c.appendChild(m),this.colorElem_=m;const _=n.createElement("div");_.classList.add(Rs("m")),this.element.appendChild(_),this.markerElem_=_;const y=n.createElement("div");y.classList.add(Rs("p")),this.markerElem_.appendChild(y),this.previewElem_=y,this.update_()}update_(){const n=this.value.rawValue,s=n.getComponents("rgb"),c=new Z([s[0],s[1],s[2],0],"rgb"),m=new Z([s[0],s[1],s[2],255],"rgb"),_=["to right",Fr(c),Fr(m)];this.colorElem_.style.background=`linear-gradient(${_.join(",")})`,this.previewElem_.style.backgroundColor=Fr(n);const y=bt(s[3],0,1,0,100);this.markerElem_.style.left=`${y}%`}onValueChange_(){this.update_()}}class sd{constructor(n,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new id(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,s){if(!n.point)return;const c=n.point.x/n.bounds.width,m=this.value.rawValue,[_,y,T]=m.getComponents("hsv");this.value.setRawValue(new Z([_,y,T,c],"hsv"),s)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const s=It(ai(!0),ye(n));if(s===0)return;const c=this.value.rawValue,[m,_,y,T]=c.getComponents("hsv");this.value.setRawValue(new Z([m,_,y,T+s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){It(ai(!0),ye(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Oi=j("coltxt");function rd(o){const n=o.createElement("select"),s=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return n.appendChild(s.reduce((c,m)=>{const _=o.createElement("option");return _.textContent=m.text,_.value=m.value,c.appendChild(_),c},o.createDocumentFragment())),n}class od{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(Oi()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(Oi("m")),this.modeElem_=rd(n),this.modeElem_.classList.add(Oi("ms")),c.appendChild(this.modeSelectElement),s.viewProps.bindDisabled(this.modeElem_);const m=n.createElement("div");m.classList.add(Oi("mm")),m.appendChild(K(n,"dropdown")),c.appendChild(m),this.element.appendChild(c);const _=n.createElement("div");_.classList.add(Oi("w")),this.element.appendChild(_),this.textsElem_=_,this.textViews_=s.textViews,this.applyTextViews_(),Kt(s.colorMode,y=>{this.modeElem_.value=y})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(n){this.textViews_=n,this.applyTextViews_()}applyTextViews_(){ct(this.textsElem_);const n=this.element.ownerDocument;this.textViews_.forEach(s=>{const c=n.createElement("div");c.classList.add(Oi("c")),c.appendChild(s.element),this.textsElem_.appendChild(c)})}}function ld(o){return Tt(o==="float"?2:0)}function ad(o,n,s){const c=P(o,n)[s];return new Vn({min:0,max:c})}function kl(o,n,s){return new ii(o,{arrayPosition:s===0?"fst":s===3-1?"lst":"mid",baseStep:ai(!1),parser:n.parser,props:z.fromObject({draggingScale:n.colorType==="float"?.01:1,formatter:ld(n.colorType)}),value:W(0,{constraint:ad(n.colorMode,n.colorType,s)}),viewProps:n.viewProps})}class cd{constructor(n,s){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=s.colorType,this.parser_=s.parser,this.value=s.value,this.viewProps=s.viewProps,this.colorMode=W(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(n),this.view=new od(n,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(n){const s={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},c=[kl(n,s,0),kl(n,s,1),kl(n,s,2)];return c.forEach((m,_)=>{Ln({primary:this.value,secondary:m.value,forward:y=>y.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[_],backward:(y,T)=>{const q=this.colorMode.rawValue,Y=y.rawValue.getComponents(q,this.colorType_);return Y[_]=T.rawValue,new Z(d(u(Y),Y[3]),q,this.colorType_)}})}),c}onModeSelectChange_(n){const s=n.currentTarget;this.colorMode.rawValue=s.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Vl=j("hpl");class ud{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(Vl()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=n.createElement("div");c.classList.add(Vl("c")),this.element.appendChild(c);const m=n.createElement("div");m.classList.add(Vl("m")),this.element.appendChild(m),this.markerElem_=m,this.update_()}update_(){const n=this.value.rawValue,[s]=n.getComponents("hsv");this.markerElem_.style.backgroundColor=Rc(new Z([s,100,100],"hsv"));const c=bt(s,0,360,0,100);this.markerElem_.style.left=`${c}%`}onValueChange_(){this.update_()}}class pd{constructor(n,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new ud(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,s){if(!n.point)return;const c=bt(Et(n.point.x,0,n.bounds.width),0,n.bounds.width,0,360),m=this.value.rawValue,[,_,y,T]=m.getComponents("hsv");this.value.setRawValue(new Z([c,_,y,T],"hsv"),s)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const s=It(ai(!1),ye(n));if(s===0)return;const c=this.value.rawValue,[m,_,y,T]=c.getComponents("hsv");this.value.setRawValue(new Z([m+s,_,y,T],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){It(ai(!1),ye(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Sl=j("svp"),Bc=64;class hd{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(Sl()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=n.createElement("canvas");c.height=Bc,c.width=Bc,c.classList.add(Sl("c")),this.element.appendChild(c),this.canvasElement=c;const m=n.createElement("div");m.classList.add(Sl("m")),this.element.appendChild(m),this.markerElem_=m,this.update_()}update_(){const n=U(this.canvasElement);if(!n)return;const c=this.value.rawValue.getComponents("hsv"),m=this.canvasElement.width,_=this.canvasElement.height,y=n.getImageData(0,0,m,_),T=y.data;for(let lt=0;lt<_;lt++)for(let ut=0;ut<m;ut++){const ui=bt(ut,0,m,0,100),Is=bt(lt,0,_,100,0),Bs=jr(c[0],ui,Is),zr=(lt*m+ut)*4;T[zr]=Bs[0],T[zr+1]=Bs[1],T[zr+2]=Bs[2],T[zr+3]=255}n.putImageData(y,0,0);const q=bt(c[1],0,100,0,100);this.markerElem_.style.left=`${q}%`;const Y=bt(c[2],0,100,100,0);this.markerElem_.style.top=`${Y}%`}onValueChange_(){this.update_()}}class dd{constructor(n,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new hd(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,s){if(!n.point)return;const c=bt(n.point.x,0,n.bounds.width,0,100),m=bt(n.point.y,0,n.bounds.height,100,0),[_,,,y]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Z([_,c,m,y],"hsv"),s)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){Mi(n.key)&&n.preventDefault();const[s,c,m,_]=this.value.rawValue.getComponents("hsv"),y=ai(!1),T=It(y,ye(n)),q=It(y,ni(n));T===0&&q===0||this.value.setRawValue(new Z([s,c+T,m+q,_],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){const s=ai(!1),c=It(s,ye(n)),m=It(s,ni(n));c===0&&m===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class md{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.hPaletteC_=new pd(n,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new dd(n,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=s.supportsAlpha?{palette:new sd(n,{value:this.value,viewProps:this.viewProps}),text:new ii(n,{parser:Pe,baseStep:.1,props:z.fromObject({draggingScale:.01,formatter:Tt(2)}),value:W(0,{constraint:new Vn({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Ln({primary:this.value,secondary:this.alphaIcs_.text.value,forward:c=>c.rawValue.getComponents()[3],backward:(c,m)=>{const _=c.rawValue.getComponents();return _[3]=m.rawValue,new Z(_,c.rawValue.mode)}}),this.textC_=new cd(n,{colorType:s.colorType,parser:Pe,value:this.value,viewProps:this.viewProps}),this.view=new gl(n,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:s.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const Ll=j("colsw");class vd{constructor(n,s){this.onValueChange_=this.onValueChange_.bind(this),s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.element=n.createElement("div"),this.element.classList.add(Ll()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(Ll("sw")),this.element.appendChild(c),this.swatchElem_=c;const m=n.createElement("button");m.classList.add(Ll("b")),s.viewProps.bindDisabled(m),this.element.appendChild(m),this.buttonElement=m,this.update_()}update_(){const n=this.value.rawValue;this.swatchElem_.style.backgroundColor=yl(n)}onValueChange_(){this.update_()}}class fd{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new vd(n,{value:this.value,viewProps:this.viewProps})}}class Ml{constructor(n,s){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.foldable_=Ke.create(s.expanded),this.swatchC_=new fd(n,{value:this.value,viewProps:this.viewProps});const c=this.swatchC_.view.buttonElement;c.addEventListener("blur",this.onButtonBlur_),c.addEventListener("click",this.onButtonClick_),this.textC_=new Si(n,{parser:s.parser,props:z.fromObject({formatter:s.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Os(n,{foldable:this.foldable_,pickerLayout:s.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=s.pickerLayout==="popup"?new Pr(n,{viewProps:this.viewProps}):null;const m=new md(n,{colorType:s.colorType,supportsAlpha:s.supportsAlpha,value:this.value,viewProps:this.viewProps});m.view.allFocusableElements.forEach(_=>{_.addEventListener("blur",this.onPopupChildBlur_),_.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=m,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(m.view.element),Ln({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:_=>_.rawValue,backward:(_,y)=>y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ls(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(n){if(!this.popC_)return;const s=this.view.element,c=n.relatedTarget;(!c||!s.contains(c))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(n){if(!this.popC_)return;const s=this.popC_.view.element,c=ft(n);c&&s.contains(c)||c&&c===this.swatchC_.view.buttonElement&&!O(s.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(n){this.popC_?n.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&n.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function bd(o,n){return Z.isColorObject(o)?Z.fromObject(o,n):Z.black(n)}function _d(o){return u(o.getComponents("rgb")).reduce((n,s)=>n<<8|Math.floor(s)&255,0)}function wd(o){return o.getComponents("rgb").reduce((n,s,c)=>{const m=Math.floor(c===3?s*255:s)&255;return n<<8|m},0)>>>0}function gd(o){return new Z([o>>16&255,o>>8&255,o&255],"rgb")}function Cd(o){return new Z([o>>24&255,o>>16&255,o>>8&255,bt(o&255,0,255,0,1)],"rgb")}function xd(o){return typeof o!="number"?Z.black():gd(o)}function Pd(o){return typeof o!="number"?Z.black():Cd(o)}function yd(o){const n=El(o);return n?(s,c)=>{me(s,n(c))}:null}function Ed(o){const n=o?wd:_d;return(s,c)=>{me(s,n(c))}}function kd(o,n,s){const c=n.toRgbaObject(s);o.writeProperty("r",c.r),o.writeProperty("g",c.g),o.writeProperty("b",c.b),o.writeProperty("a",c.a)}function Vd(o,n,s){const c=n.toRgbaObject(s);o.writeProperty("r",c.r),o.writeProperty("g",c.g),o.writeProperty("b",c.b)}function Sd(o,n){return(s,c)=>{o?kd(s,c,n):Vd(s,c,n)}}function Al(o){var n;return!!((o==null?void 0:o.alpha)||((n=o==null?void 0:o.color)===null||n===void 0?void 0:n.alpha))}function Ld(o){return o?n=>yl(n,"0x"):n=>Oc(n,"0x")}function Md(o){return"color"in o||"view"in o&&o.view==="color"}const Ad={id:"input-color-number",type:"input",accept:(o,n)=>{if(typeof o!="number"||!Md(n))return null;const s=Cl(n);return s?{initialValue:o,params:s}:null},binding:{reader:o=>Al(o.params)?Pd:xd,equals:Z.equals,writer:o=>Ed(Al(o.params))},controller:o=>{const n=Al(o.params),s="expanded"in o.params?o.params.expanded:void 0,c="picker"in o.params?o.params.picker:void 0;return new Ml(o.document,{colorType:"int",expanded:s!=null?s:!1,formatter:Ld(n),parser:Pl("int"),pickerLayout:c!=null?c:"popup",supportsAlpha:n,value:o.value,viewProps:o.viewProps})}};function Td(o){return Z.isRgbaColorObject(o)}function Dd(o){return n=>bd(n,o)}function Od(o,n){return s=>o?Ic(s,n):Nc(s,n)}const Rd={id:"input-color-object",type:"input",accept:(o,n)=>{if(!Z.isColorObject(o))return null;const s=Cl(n);return s?{initialValue:o,params:s}:null},binding:{reader:o=>Dd(ci(o.params)),equals:Z.equals,writer:o=>Sd(Td(o.initialValue),ci(o.params))},controller:o=>{var n;const s=Z.isRgbaColorObject(o.initialValue),c="expanded"in o.params?o.params.expanded:void 0,m="picker"in o.params?o.params.picker:void 0,_=(n=ci(o.params))!==null&&n!==void 0?n:"int";return new Ml(o.document,{colorType:_,expanded:c!=null?c:!1,formatter:Od(s,_),parser:Pl(_),pickerLayout:m!=null?m:"popup",supportsAlpha:s,value:o.value,viewProps:o.viewProps})}},Nd={id:"input-color-string",type:"input",accept:(o,n)=>{if(typeof o!="string"||"view"in n&&n.view==="text")return null;const s=xl(o,ci(n));if(!s||!El(s))return null;const m=Cl(n);return m?{initialValue:o,params:m}:null},binding:{reader:o=>{var n;return Wh((n=ci(o.params))!==null&&n!==void 0?n:"int")},equals:Z.equals,writer:o=>{const n=xl(o.initialValue,ci(o.params));if(!n)throw I.shouldNeverHappen();const s=yd(n);if(!s)throw I.notBindable();return s}},controller:o=>{const n=xl(o.initialValue,ci(o.params));if(!n)throw I.shouldNeverHappen();const s=El(n);if(!s)throw I.shouldNeverHappen();const c="expanded"in o.params?o.params.expanded:void 0,m="picker"in o.params?o.params.picker:void 0;return new Ml(o.document,{colorType:n.type,expanded:c!=null?c:!1,formatter:s,parser:Pl(n.type),pickerLayout:m!=null?m:"popup",supportsAlpha:n.alpha,value:o.value,viewProps:o.viewProps})}};class An{constructor(n){this.components=n.components,this.asm_=n.assembly}constrain(n){const s=this.asm_.toComponents(n).map((c,m)=>{var _,y;return(y=(_=this.components[m])===null||_===void 0?void 0:_.constrain(c))!==null&&y!==void 0?y:c});return this.asm_.fromComponents(s)}}const jc=j("pndtxt");class Id{constructor(n,s){this.textViews=s.textViews,this.element=n.createElement("div"),this.element.classList.add(jc()),this.textViews.forEach(c=>{const m=n.createElement("div");m.classList.add(jc("a")),m.appendChild(c.element),this.element.appendChild(m)})}}function Bd(o,n,s){return new ii(o,{arrayPosition:s===0?"fst":s===n.axes.length-1?"lst":"mid",baseStep:n.axes[s].baseStep,parser:n.parser,props:n.axes[s].textProps,value:W(0,{constraint:n.axes[s].constraint}),viewProps:n.viewProps})}class Tl{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.acs_=s.axes.map((c,m)=>Bd(n,s,m)),this.acs_.forEach((c,m)=>{Ln({primary:this.value,secondary:c.value,forward:_=>s.assembly.toComponents(_.rawValue)[m],backward:(_,y)=>{const T=s.assembly.toComponents(_.rawValue);return T[m]=y.rawValue,s.assembly.fromComponents(T)}})}),this.view=new Id(n,{textViews:this.acs_.map(c=>c.view)})}}function Fc(o,n){return"step"in o&&!E(o.step)?new Vi(o.step,n):null}function zc(o){return!E(o.max)&&!E(o.min)?new Vn({max:o.max,min:o.min}):!E(o.max)||!E(o.min)?new ws({max:o.max,min:o.min}):null}function jd(o){const n=de(o,Vn);if(n)return[n.values.get("min"),n.values.get("max")];const s=de(o,ws);return s?[s.minValue,s.maxValue]:[void 0,void 0]}function Fd(o,n){const s=[],c=Fc(o,n);c&&s.push(c);const m=zc(o);m&&s.push(m);const _=Ds(o.options);return _&&s.push(_),new Jn(s)}const zd={id:"input-number",type:"input",accept:(o,n)=>{if(typeof o!="number")return null;const s=vt,c=xt(n,{format:s.optional.function,max:s.optional.number,min:s.optional.number,options:s.optional.custom(ri),step:s.optional.number});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Ae,constraint:o=>Fd(o.params,o.initialValue),writer:o=>me},controller:o=>{var n;const s=o.value,c=o.constraint,m=c&&de(c,Zn);if(m)return new Qn(o.document,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps});const _=(n="format"in o.params?o.params.format:void 0)!==null&&n!==void 0?n:Tt(Ti(c,s.rawValue)),y=c&&de(c,Vn);return y?new Ai(o.document,{baseStep:un(c),parser:Pe,sliderProps:new z({maxValue:y.values.value("max"),minValue:y.values.value("min")}),textProps:z.fromObject({draggingScale:pn(c,s.rawValue),formatter:_}),value:s,viewProps:o.viewProps}):new ii(o.document,{baseStep:un(c),parser:Pe,props:z.fromObject({draggingScale:pn(c,s.rawValue),formatter:_}),value:s,viewProps:o.viewProps})}};class Tn{constructor(n=0,s=0){this.x=n,this.y=s}getComponents(){return[this.x,this.y]}static isObject(n){if(E(n))return!1;const s=n.x,c=n.y;return!(typeof s!="number"||typeof c!="number")}static equals(n,s){return n.x===s.x&&n.y===s.y}toObject(){return{x:this.x,y:this.y}}}const $c={toComponents:o=>o.getComponents(),fromComponents:o=>new Tn(...o)},Ri=j("p2d");class $d{constructor(n,s){this.element=n.createElement("div"),this.element.classList.add(Ri()),s.viewProps.bindClassModifiers(this.element),Kt(s.expanded,et(this.element,Ri(void 0,"expanded")));const c=n.createElement("div");c.classList.add(Ri("h")),this.element.appendChild(c);const m=n.createElement("button");m.classList.add(Ri("b")),m.appendChild(K(n,"p2dpad")),s.viewProps.bindDisabled(m),c.appendChild(m),this.buttonElement=m;const _=n.createElement("div");if(_.classList.add(Ri("t")),c.appendChild(_),this.textElement=_,s.pickerLayout==="inline"){const y=n.createElement("div");y.classList.add(Ri("p")),this.element.appendChild(y),this.pickerElement=y}else this.pickerElement=null}}const Dn=j("p2dp");class Kd{constructor(n,s){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=s.invertsY,this.maxValue_=s.maxValue,this.element=n.createElement("div"),this.element.classList.add(Dn()),s.layout==="popup"&&this.element.classList.add(Dn(void 0,"p")),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("div");c.classList.add(Dn("p")),s.viewProps.bindTabIndex(c),this.element.appendChild(c),this.padElement=c;const m=n.createElementNS(L,"svg");m.classList.add(Dn("g")),this.padElement.appendChild(m),this.svgElem_=m;const _=n.createElementNS(L,"line");_.classList.add(Dn("ax")),_.setAttributeNS(null,"x1","0"),_.setAttributeNS(null,"y1","50%"),_.setAttributeNS(null,"x2","100%"),_.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(_);const y=n.createElementNS(L,"line");y.classList.add(Dn("ax")),y.setAttributeNS(null,"x1","50%"),y.setAttributeNS(null,"y1","0"),y.setAttributeNS(null,"x2","50%"),y.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(y);const T=n.createElementNS(L,"line");T.classList.add(Dn("l")),T.setAttributeNS(null,"x1","50%"),T.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(T),this.lineElem_=T;const q=n.createElement("div");q.classList.add(Dn("m")),this.padElement.appendChild(q),this.markerElem_=q,s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[n,s]=this.value.rawValue.getComponents(),c=this.maxValue_,m=bt(n,-c,+c,0,100),_=bt(s,-c,+c,0,100),y=this.invertsY_?100-_:_;this.lineElem_.setAttributeNS(null,"x2",`${m}%`),this.lineElem_.setAttributeNS(null,"y2",`${y}%`),this.markerElem_.style.left=`${m}%`,this.markerElem_.style.top=`${y}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Kc(o,n,s){return[It(n[0],ye(o)),It(n[1],ni(o))*(s?1:-1)]}class Ud{constructor(n,s){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.baseSteps_=s.baseSteps,this.maxValue_=s.maxValue,this.invertsY_=s.invertsY,this.view=new Kd(n,{invertsY:this.invertsY_,layout:s.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(n,s){if(!n.point)return;const c=this.maxValue_,m=bt(n.point.x,0,n.bounds.width,-c,+c),_=bt(this.invertsY_?n.bounds.height-n.point.y:n.point.y,0,n.bounds.height,-c,+c);this.value.setRawValue(new Tn(m,_),s)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onPadKeyDown_(n){Mi(n.key)&&n.preventDefault();const[s,c]=Kc(n,this.baseSteps_,this.invertsY_);s===0&&c===0||this.value.setRawValue(new Tn(this.value.rawValue.x+s,this.value.rawValue.y+c),{forceEmit:!1,last:!1})}onPadKeyUp_(n){const[s,c]=Kc(n,this.baseSteps_,this.invertsY_);s===0&&c===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Hd{constructor(n,s){var c,m;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.foldable_=Ke.create(s.expanded),this.popC_=s.pickerLayout==="popup"?new Pr(n,{viewProps:this.viewProps}):null;const _=new Ud(n,{baseSteps:[s.axes[0].baseStep,s.axes[1].baseStep],invertsY:s.invertsY,layout:s.pickerLayout,maxValue:s.maxValue,value:this.value,viewProps:this.viewProps});_.view.allFocusableElements.forEach(y=>{y.addEventListener("blur",this.onPopupChildBlur_),y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=_,this.textC_=new Tl(n,{assembly:$c,axes:s.axes,parser:s.parser,value:this.value,viewProps:this.viewProps}),this.view=new $d(n,{expanded:this.foldable_.value("expanded"),pickerLayout:s.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(c=this.view.buttonElement)===null||c===void 0||c.addEventListener("blur",this.onPadButtonBlur_),(m=this.view.buttonElement)===null||m===void 0||m.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Ln({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:y=>y.rawValue,backward:(y,T)=>T.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ls(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(n){if(!this.popC_)return;const s=this.view.element,c=n.relatedTarget;(!c||!s.contains(c))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(n){if(!this.popC_)return;const s=this.popC_.view.element,c=ft(n);c&&s.contains(c)||c&&c===this.view.buttonElement&&!O(s.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(n){this.popC_?n.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&n.key==="Escape"&&this.view.buttonElement.focus()}}class Ni{constructor(n=0,s=0,c=0){this.x=n,this.y=s,this.z=c}getComponents(){return[this.x,this.y,this.z]}static isObject(n){if(E(n))return!1;const s=n.x,c=n.y,m=n.z;return!(typeof s!="number"||typeof c!="number"||typeof m!="number")}static equals(n,s){return n.x===s.x&&n.y===s.y&&n.z===s.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Uc={toComponents:o=>o.getComponents(),fromComponents:o=>new Ni(...o)};function qd(o){return Ni.isObject(o)?new Ni(o.x,o.y,o.z):new Ni}function Gd(o,n){o.writeProperty("x",n.x),o.writeProperty("y",n.y),o.writeProperty("z",n.z)}function Yd(o,n){return new An({assembly:Uc,components:[dn("x"in o?o.x:void 0,n.x),dn("y"in o?o.y:void 0,n.y),dn("z"in o?o.z:void 0,n.z)]})}function Dl(o,n){return{baseStep:un(n),constraint:n,textProps:z.fromObject({draggingScale:pn(n,o),formatter:Tt(Ti(n,o))})}}const Wd={id:"input-point3d",type:"input",accept:(o,n)=>{if(!Ni.isObject(o))return null;const s=vt,c=xt(n,{x:s.optional.custom(Te),y:s.optional.custom(Te),z:s.optional.custom(Te)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>qd,constraint:o=>Yd(o.params,o.initialValue),equals:Ni.equals,writer:o=>Gd},controller:o=>{const n=o.value,s=o.constraint;if(!(s instanceof An))throw I.shouldNeverHappen();return new Tl(o.document,{assembly:Uc,axes:[Dl(n.rawValue.x,s.components[0]),Dl(n.rawValue.y,s.components[1]),Dl(n.rawValue.z,s.components[2])],parser:Pe,value:n,viewProps:o.viewProps})}};class Ii{constructor(n=0,s=0,c=0,m=0){this.x=n,this.y=s,this.z=c,this.w=m}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(n){if(E(n))return!1;const s=n.x,c=n.y,m=n.z,_=n.w;return!(typeof s!="number"||typeof c!="number"||typeof m!="number"||typeof _!="number")}static equals(n,s){return n.x===s.x&&n.y===s.y&&n.z===s.z&&n.w===s.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Hc={toComponents:o=>o.getComponents(),fromComponents:o=>new Ii(...o)};function Xd(o){return Ii.isObject(o)?new Ii(o.x,o.y,o.z,o.w):new Ii}function Jd(o,n){o.writeProperty("x",n.x),o.writeProperty("y",n.y),o.writeProperty("z",n.z),o.writeProperty("w",n.w)}function Zd(o,n){return new An({assembly:Hc,components:[dn("x"in o?o.x:void 0,n.x),dn("y"in o?o.y:void 0,n.y),dn("z"in o?o.z:void 0,n.z),dn("w"in o?o.w:void 0,n.w)]})}function Qd(o,n){return{baseStep:un(n),constraint:n,textProps:z.fromObject({draggingScale:pn(n,o),formatter:Tt(Ti(n,o))})}}const tm={id:"input-point4d",type:"input",accept:(o,n)=>{if(!Ii.isObject(o))return null;const s=vt,c=xt(n,{x:s.optional.custom(Te),y:s.optional.custom(Te),z:s.optional.custom(Te),w:s.optional.custom(Te)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Xd,constraint:o=>Zd(o.params,o.initialValue),equals:Ii.equals,writer:o=>Jd},controller:o=>{const n=o.value,s=o.constraint;if(!(s instanceof An))throw I.shouldNeverHappen();return new Tl(o.document,{assembly:Hc,axes:n.rawValue.getComponents().map((c,m)=>Qd(c,s.components[m])),parser:Pe,value:n,viewProps:o.viewProps})}};function em(o){const n=[],s=Ds(o.options);return s&&n.push(s),new Jn(n)}const nm={id:"input-string",type:"input",accept:(o,n)=>{if(typeof o!="string")return null;const c=xt(n,{options:vt.optional.custom(ri)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Es,constraint:o=>em(o.params),writer:o=>me},controller:o=>{const n=o.document,s=o.value,c=o.constraint,m=c&&de(c,Zn);return m?new Qn(n,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps}):new Si(n,{parser:_=>_,props:z.fromObject({formatter:He}),value:s,viewProps:o.viewProps})}},Ns={monitor:{defaultInterval:200,defaultLineCount:3}},qc=j("mll");class im{constructor(n,s){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=s.formatter,this.element=n.createElement("div"),this.element.classList.add(qc()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("textarea");c.classList.add(qc("i")),c.style.height=`calc(var(--bld-us) * ${s.lineCount})`,c.readOnly=!0,s.viewProps.bindDisabled(c),this.element.appendChild(c),this.textareaElem_=c,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}update_(){const n=this.textareaElem_,s=n.scrollTop===n.scrollHeight-n.clientHeight,c=[];this.value.rawValue.forEach(m=>{m!==void 0&&c.push(this.formatter_(m))}),n.textContent=c.join(`
`),s&&(n.scrollTop=n.scrollHeight)}onValueUpdate_(){this.update_()}}class Ol{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new im(n,{formatter:s.formatter,lineCount:s.lineCount,value:this.value,viewProps:this.viewProps})}}const Gc=j("sgl");class sm{constructor(n,s){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=s.formatter,this.element=n.createElement("div"),this.element.classList.add(Gc()),s.viewProps.bindClassModifiers(this.element);const c=n.createElement("input");c.classList.add(Gc("i")),c.readOnly=!0,c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}update_(){const n=this.value.rawValue,s=n[n.length-1];this.inputElement.value=s!==void 0?this.formatter_(s):""}onValueUpdate_(){this.update_()}}class Rl{constructor(n,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new sm(n,{formatter:s.formatter,value:this.value,viewProps:this.viewProps})}}const rm={id:"monitor-bool",type:"monitor",accept:(o,n)=>{if(typeof o!="boolean")return null;const c=xt(n,{lineCount:vt.optional.number});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Er},controller:o=>{var n;return o.value.rawValue.length===1?new Rl(o.document,{formatter:kr,value:o.value,viewProps:o.viewProps}):new Ol(o.document,{formatter:kr,lineCount:(n=o.params.lineCount)!==null&&n!==void 0?n:Ns.monitor.defaultLineCount,value:o.value,viewProps:o.viewProps})}},On=j("grl");class om{constructor(n,s){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=n.createElement("div"),this.element.classList.add(On()),s.viewProps.bindClassModifiers(this.element),this.formatter_=s.formatter,this.props_=s.props,this.cursor_=s.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const c=n.createElementNS(L,"svg");c.classList.add(On("g")),c.style.height=`calc(var(--bld-us) * ${s.lineCount})`,this.element.appendChild(c),this.svgElem_=c;const m=n.createElementNS(L,"polyline");this.svgElem_.appendChild(m),this.lineElem_=m;const _=n.createElement("div");_.classList.add(On("t"),j("tt")()),this.element.appendChild(_),this.tooltipElem_=_,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const n=this.svgElem_.getBoundingClientRect(),s=this.value.rawValue.length-1,c=this.props_.get("minValue"),m=this.props_.get("maxValue"),_=[];this.value.rawValue.forEach((lt,ut)=>{if(lt===void 0)return;const ui=bt(ut,0,s,0,n.width),Is=bt(lt,c,m,n.height,0);_.push([ui,Is].join(","))}),this.lineElem_.setAttributeNS(null,"points",_.join(" "));const y=this.tooltipElem_,T=this.value.rawValue[this.cursor_.rawValue];if(T===void 0){y.classList.remove(On("t","a"));return}const q=bt(this.cursor_.rawValue,0,s,0,n.width),Y=bt(T,c,m,n.height,0);y.style.left=`${q}px`,y.style.top=`${Y}px`,y.textContent=`${this.formatter_(T)}`,y.classList.contains(On("t","a"))||(y.classList.add(On("t","a"),On("t","in")),D(y),y.classList.remove(On("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class lm{constructor(n,s){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=s.props,this.value=s.value,this.viewProps=s.viewProps,this.cursor_=W(-1),this.view=new om(n,{cursor:this.cursor_,formatter:s.formatter,lineCount:s.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!O(n))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const c=new cn(this.view.element);c.emitter.on("down",this.onGraphPointerDown_),c.emitter.on("move",this.onGraphPointerMove_),c.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(n){const s=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(bt(n.offsetX,0,s.width,0,this.value.rawValue.length))}onGraphPointerDown_(n){this.onGraphPointerMove_(n)}onGraphPointerMove_(n){if(!n.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(bt(n.data.point.x,0,n.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Nl(o){return"format"in o&&!E(o.format)?o.format:Tt(2)}function am(o){var n;return o.value.rawValue.length===1?new Rl(o.document,{formatter:Nl(o.params),value:o.value,viewProps:o.viewProps}):new Ol(o.document,{formatter:Nl(o.params),lineCount:(n=o.params.lineCount)!==null&&n!==void 0?n:Ns.monitor.defaultLineCount,value:o.value,viewProps:o.viewProps})}function cm(o){var n,s,c;return new lm(o.document,{formatter:Nl(o.params),lineCount:(n=o.params.lineCount)!==null&&n!==void 0?n:Ns.monitor.defaultLineCount,props:z.fromObject({maxValue:(s="max"in o.params?o.params.max:null)!==null&&s!==void 0?s:100,minValue:(c="min"in o.params?o.params.min:null)!==null&&c!==void 0?c:0}),value:o.value,viewProps:o.viewProps})}function Yc(o){return"view"in o&&o.view==="graph"}const um={id:"monitor-number",type:"monitor",accept:(o,n)=>{if(typeof o!="number")return null;const s=vt,c=xt(n,{format:s.optional.function,lineCount:s.optional.number,max:s.optional.number,min:s.optional.number,view:s.optional.string});return c?{initialValue:o,params:c}:null},binding:{defaultBufferSize:o=>Yc(o)?64:1,reader:o=>Ae},controller:o=>Yc(o.params)?cm(o):am(o)},pm={id:"monitor-string",type:"monitor",accept:(o,n)=>{if(typeof o!="string")return null;const s=vt,c=xt(n,{lineCount:s.optional.number,multiline:s.optional.boolean});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Es},controller:o=>{var n;const s=o.value;return s.rawValue.length>1||"multiline"in o.params&&o.params.multiline?new Ol(o.document,{formatter:He,lineCount:(n=o.params.lineCount)!==null&&n!==void 0?n:Ns.monitor.defaultLineCount,value:s,viewProps:o.viewProps}):new Rl(o.document,{formatter:He,value:s,viewProps:o.viewProps})}};function hm(o,n){var s;const c=o.accept(n.target.read(),n.params);if(E(c))return null;const m=vt,_={target:n.target,initialValue:c.initialValue,params:c.params},y=o.binding.reader(_),T=o.binding.constraint?o.binding.constraint(_):void 0,q=W(y(c.initialValue),{constraint:T,equals:o.binding.equals}),Y=new ki({reader:y,target:n.target,value:q,writer:o.binding.writer(_)}),lt=m.optional.boolean(n.params.disabled).value,ut=m.optional.boolean(n.params.hidden).value,ui=o.controller({constraint:T,document:n.document,initialValue:c.initialValue,params:c.params,value:Y.value,viewProps:Gt.create({disabled:lt,hidden:ut})});return new Yt(n.document,{binding:Y,blade:Rt(),props:z.fromObject({label:"label"in n.params?(s=m.optional.string(n.params.label).value)!==null&&s!==void 0?s:null:n.target.key}),valueController:ui})}function dm(o,n){return n===0?new wr:new _s(o,n!=null?n:Ns.monitor.defaultInterval)}function mm(o,n){var s,c,m;const _=vt,y=o.accept(n.target.read(),n.params);if(E(y))return null;const T={target:n.target,initialValue:y.initialValue,params:y.params},q=o.binding.reader(T),Y=(c=(s=_.optional.number(n.params.bufferSize).value)!==null&&s!==void 0?s:o.binding.defaultBufferSize&&o.binding.defaultBufferSize(y.params))!==null&&c!==void 0?c:1,lt=_.optional.number(n.params.interval).value,ut=new Jo({reader:q,target:n.target,ticker:dm(n.document,lt),value:gr(Y)}),ui=_.optional.boolean(n.params.disabled).value,Is=_.optional.boolean(n.params.hidden).value,Bs=o.controller({document:n.document,params:y.params,value:ut.value,viewProps:Gt.create({disabled:ui,hidden:Is})});return new Ce(n.document,{binding:ut,blade:Rt(),props:z.fromObject({label:"label"in n.params?(m=_.optional.string(n.params.label).value)!==null&&m!==void 0?m:null:n.target.key}),valueController:Bs})}class vm{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(n){n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput(n,s,c){const m=s.read();if(E(m))throw new I({context:{key:s.key},type:"nomatchingcontroller"});const _=this.pluginsMap_.inputs.reduce((y,T)=>y!=null?y:hm(T,{document:n,target:s,params:c}),null);if(_)return _;throw new I({context:{key:s.key},type:"nomatchingcontroller"})}createMonitor(n,s,c){const m=this.pluginsMap_.monitors.reduce((_,y)=>_!=null?_:mm(y,{document:n,params:c,target:s}),null);if(m)return m;throw new I({context:{key:s.key},type:"nomatchingcontroller"})}createBlade(n,s){const c=this.pluginsMap_.blades.reduce((m,_)=>m!=null?m:Xo(_,{document:n,params:s}),null);if(!c)throw new I({type:"nomatchingview",context:{params:s}});return c}createBladeApi(n){if(n instanceof Yt)return new us(n);if(n instanceof Ce)return new ps(n);if(n instanceof Yn)return new Pi(n,this);const s=this.pluginsMap_.blades.reduce((c,m)=>c!=null?c:m.api({controller:n,pool:this}),null);if(!s)throw I.shouldNeverHappen();return s}}function fm(){const o=new vm;return[xm,Wd,tm,nm,zd,Nd,Rd,Ad,Di,rm,pm,um,xi,Ho,Go,bs].forEach(n=>{o.register(n)}),o}function bm(o){return Tn.isObject(o)?new Tn(o.x,o.y):new Tn}function _m(o,n){o.writeProperty("x",n.x),o.writeProperty("y",n.y)}function dn(o,n){if(!o)return;const s=[],c=Fc(o,n);c&&s.push(c);const m=zc(o);return m&&s.push(m),new Jn(s)}function wm(o,n){return new An({assembly:$c,components:[dn("x"in o?o.x:void 0,n.x),dn("y"in o?o.y:void 0,n.y)]})}function Wc(o,n){const[s,c]=o?jd(o):[];if(!E(s)||!E(c))return Math.max(Math.abs(s!=null?s:0),Math.abs(c!=null?c:0));const m=un(o);return Math.max(Math.abs(m)*10,Math.abs(n)*10)}function gm(o,n){const s=n instanceof An?n.components[0]:void 0,c=n instanceof An?n.components[1]:void 0,m=Wc(s,o.x),_=Wc(c,o.y);return Math.max(m,_)}function Xc(o,n){return{baseStep:un(n),constraint:n,textProps:z.fromObject({draggingScale:pn(n,o),formatter:Tt(Ti(n,o))})}}function Cm(o){if(!("y"in o))return!1;const n=o.y;return n&&"inverted"in n?!!n.inverted:!1}const xm={id:"input-point2d",type:"input",accept:(o,n)=>{if(!Tn.isObject(o))return null;const s=vt,c=xt(n,{expanded:s.optional.boolean,picker:s.optional.custom(Ts),x:s.optional.custom(Te),y:s.optional.object({inverted:s.optional.boolean,max:s.optional.number,min:s.optional.number,step:s.optional.number})});return c?{initialValue:o,params:c}:null},binding:{reader:o=>bm,constraint:o=>wm(o.params,o.initialValue),equals:Tn.equals,writer:o=>_m},controller:o=>{const n=o.document,s=o.value,c=o.constraint;if(!(c instanceof An))throw I.shouldNeverHappen();const m="expanded"in o.params?o.params.expanded:void 0,_="picker"in o.params?o.params.picker:void 0;return new Hd(n,{axes:[Xc(s.rawValue.x,c.components[0]),Xc(s.rawValue.y,c.components[1])],expanded:m!=null?m:!1,invertsY:Cm(o.params),maxValue:gm(s.rawValue,c),parser:Pe,pickerLayout:_!=null?_:"popup",value:s,viewProps:o.viewProps})}};class Jc extends a{constructor(n){super(n),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get options(){return this.controller_.valueController.props.get("options")}set options(n){this.controller_.valueController.props.set("options",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}}class Zc extends a{constructor(n){super(n),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(n){this.controller_.valueController.sliderController.props.set("maxValue",n)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(n){this.controller_.valueController.sliderController.props.set("minValue",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}}class Qc extends a{constructor(n){super(n),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(n){this.controller_.valueController.props.set("formatter",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,s){const c=s.bind(this);return this.emitter_.on(n,m=>{c(m.event)}),this}}const Pm=function(){return{id:"list",type:"blade",accept(o){const n=vt,s=xt(o,{options:n.required.custom(ri),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string});return s?{params:s}:null},controller(o){const n=new Zn(Nr(o.params.options)),s=W(o.params.value,{constraint:n}),c=new Qn(o.document,{props:new z({options:n.values.value("options")}),value:s,viewProps:o.viewProps});return new Pn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:c})},api(o){return!(o.controller instanceof Pn)||!(o.controller.valueController instanceof Qn)?null:new Jc(o.controller)}}}();function ym(o){return o.reduce((n,s)=>Object.assign(n,{[s.presetKey]:s.read()}),{})}function Em(o,n){o.forEach(s=>{const c=n[s.target.presetKey];c!==void 0&&s.writer(s.target,s.reader(c))})}class km extends hs{constructor(n,s){super(n,s)}get element(){return this.controller_.view.element}importPreset(n){const s=this.controller_.rackController.rack.find(Yt).map(c=>c.binding);Em(s,n),this.refresh()}exportPreset(){const n=this.controller_.rackController.rack.find(Yt).map(s=>s.binding.target);return ym(n)}refresh(){this.controller_.rackController.rack.find(Yt).forEach(n=>{n.binding.read()}),this.controller_.rackController.rack.find(Ce).forEach(n=>{n.binding.read()})}}class Vm extends yi{constructor(n,s){super(n,{expanded:s.expanded,blade:s.blade,props:s.props,root:!0,viewProps:s.viewProps})}}const Sm={id:"slider",type:"blade",accept(o){const n=vt,s=xt(o,{max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number});return s?{params:s}:null},controller(o){var n,s;const c=(n=o.params.value)!==null&&n!==void 0?n:0,m=new Vn({max:o.params.max,min:o.params.min}),_=new Ai(o.document,{baseStep:1,parser:Pe,sliderProps:new z({maxValue:m.values.value("max"),minValue:m.values.value("min")}),textProps:z.fromObject({draggingScale:pn(void 0,c),formatter:(s=o.params.format)!==null&&s!==void 0?s:vl}),value:W(c,{constraint:m}),viewProps:o.viewProps});return new Pn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:_})},api(o){return!(o.controller instanceof Pn)||!(o.controller.valueController instanceof Ai)?null:new Zc(o.controller)}},Lm=function(){return{id:"text",type:"blade",accept(o){const n=vt,s=xt(o,{parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string});return s?{params:s}:null},controller(o){var n;const s=new Si(o.document,{parser:o.params.parse,props:z.fromObject({formatter:(n=o.params.format)!==null&&n!==void 0?n:c=>String(c)}),value:W(o.params.value),viewProps:o.viewProps});return new Pn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:s})},api(o){return!(o.controller instanceof Pn)||!(o.controller.valueController instanceof Si)?null:new Qc(o.controller)}}}();function Mm(o){const n=o.createElement("div");return n.classList.add(j("dfw")()),o.body&&o.body.appendChild(n),n}function tu(o,n,s){if(o.querySelector(`style[data-tp-style=${n}]`))return;const c=o.createElement("style");c.dataset.tpStyle=n,c.textContent=s,o.head.appendChild(c)}class Am extends km{constructor(n){var s,c;const m=n!=null?n:{},_=(s=m.document)!==null&&s!==void 0?s:A(),y=fm(),T=new Vm(_,{expanded:m.expanded,blade:Rt(),props:z.fromObject({title:m.title}),viewProps:Gt.create()});super(T,y),this.pool_=y,this.containerElem_=(c=m.container)!==null&&c!==void 0?c:Mm(_),this.containerElem_.appendChild(this.element),this.doc_=_,this.usesDefaultWrapper_=!m.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw I.alreadyDisposed();return this.doc_}dispose(){const n=this.containerElem_;if(!n)throw I.alreadyDisposed();if(this.usesDefaultWrapper_){const s=n.parentElement;s&&s.removeChild(n)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(n){("plugin"in n?[n.plugin]:"plugins"in n?n.plugins:[]).forEach(c=>{this.pool_.register(c),this.embedPluginStyle_(c)})}embedPluginStyle_(n){n.css&&tu(this.document,`plugin-${n.id}`,n.css)}setUpDefaultPlugins_(){tu(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(n=>{this.embedPluginStyle_(n)}),this.registerPlugin({plugins:[Sm,Pm,bs,Lm]})}}const Tm=new r("3.1.10");i.BladeApi=a,i.ButtonApi=kt,i.FolderApi=hs,i.InputBindingApi=us,i.ListApi=Jc,i.MonitorBindingApi=ps,i.Pane=Am,i.SeparatorApi=vr,i.SliderApi=Zc,i.TabApi=br,i.TabPageApi=fs,i.TextApi=Qc,i.TpChangeEvent=v,i.VERSION=Tm,Object.defineProperty(i,"__esModule",{value:!0})})})(ha,ha.exports);var lo={exports:{}};(function(e,t){(function(i,r){r(t)})(Wp,function(i){class r{constructor(l){this.controller_=l}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(l){this.controller_.viewProps.set("hidden",l)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class a{constructor(l){this.target=l}}class p extends a{constructor(l,u,d,b){super(l),this.value=u,this.presetKey=d,this.last=b!=null?b:!0}}function v(h){return h}function f(h){return h==null}const w={alreadydisposed:()=>"View has been already disposed",invalidparams:h=>`Invalid parameters for '${h.name}'`,nomatchingcontroller:h=>`No matching controller for '${h.key}'`,nomatchingview:h=>`No matching view for '${JSON.stringify(h.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:h=>`Property '${h.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class C{constructor(l){var u;this.message=(u=w[l.type](l.context))!==null&&u!==void 0?u:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=l.type}static alreadyDisposed(){return new C({type:"alreadydisposed"})}static notBindable(){return new C({type:"notbindable"})}static propertyNotFound(l){return new C({type:"propertynotfound",context:{name:l}})}static shouldNeverHappen(){return new C({type:"shouldneverhappen"})}}class k{constructor(){this.observers_={}}on(l,u){let d=this.observers_[l];return d||(d=this.observers_[l]=[]),d.push({handler:u}),this}off(l,u){const d=this.observers_[l];return d&&(this.observers_[l]=d.filter(b=>b.handler!==u)),this}emit(l,u){const d=this.observers_[l];!d||d.forEach(b=>{b.handler(u)})}}const E="tp";function R(h){return(u,d)=>[E,"-",h,"v",u?`_${u}`:"",d?`-${d}`:""].join("")}function G(h,l){return u=>l(h(u))}function mt(h){return h.rawValue}function I(h,l){h.emitter.on("change",G(mt,l)),l(h.rawValue)}function ht(h,l,u){I(h.value(l),u)}function kt(h,l,u){u?h.classList.add(l):h.classList.remove(l)}function X(h,l){return u=>{kt(h,l,u)}}function Vt(h,l){I(h,u=>{l.textContent=u!=null?u:""})}const j=R("btn");class we{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(j()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("button");d.classList.add(j("b")),u.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d;const b=l.createElement("div");b.classList.add(j("t")),Vt(u.props.value("title"),b),this.buttonElement.appendChild(b)}}class sn{constructor(l,u){this.emitter=new k,this.onClick_=this.onClick_.bind(this),this.props=u.props,this.viewProps=u.viewProps,this.view=new we(l,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Kt{constructor(l,u){var d;this.constraint_=u==null?void 0:u.constraint,this.equals_=(d=u==null?void 0:u.equals)!==null&&d!==void 0?d:(b,P)=>b===P,this.emitter=new k,this.rawValue_=l}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,u){const d=u!=null?u:{forceEmit:!1,last:!0},b=this.constraint_?this.constraint_.constrain(l):l,P=this.rawValue_;!!this.equals_(P,b)&&!d.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=b,this.emitter.emit("change",{options:d,previousRawValue:P,rawValue:b,sender:this}))}}class St{constructor(l){this.emitter=new k,this.value_=l}get rawValue(){return this.value_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,u){const d=u!=null?u:{forceEmit:!1,last:!0},b=this.value_;b===l&&!d.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=l,this.emitter.emit("change",{options:d,previousRawValue:b,rawValue:this.value_,sender:this}))}}function Ut(h,l){const u=l==null?void 0:l.constraint,d=l==null?void 0:l.equals;return!u&&!d?new St(h):new Kt(h,l)}class et{constructor(l){this.emitter=new k,this.valMap_=l;for(const u in this.valMap_)this.valMap_[u].emitter.on("change",()=>{this.emitter.emit("change",{key:u,sender:this})})}static createCore(l){return Object.keys(l).reduce((d,b)=>Object.assign(d,{[b]:Ut(l[b])}),{})}static fromObject(l){const u=this.createCore(l);return new et(u)}get(l){return this.valMap_[l].rawValue}set(l,u){this.valMap_[l].rawValue=u}value(l){return this.valMap_[l]}}function Se(h,l){const d=Object.keys(l).reduce((b,P)=>{if(b===void 0)return;const V=l[P],N=V(h[P]);return N.succeeded?Object.assign(Object.assign({},b),{[P]:N.value}):void 0},{});return d}function Fe(h,l){return h.reduce((u,d)=>{if(u===void 0)return;const b=l(d);if(!(!b.succeeded||b.value===void 0))return[...u,b.value]},[])}function Cn(h){return h===null?!1:typeof h=="object"}function Ht(h){return l=>u=>{if(!l&&u===void 0)return{succeeded:!1,value:void 0};if(l&&u===void 0)return{succeeded:!0,value:void 0};const d=h(u);return d!==void 0?{succeeded:!0,value:d}:{succeeded:!1,value:void 0}}}function qn(h){return{custom:l=>Ht(l)(h),boolean:Ht(l=>typeof l=="boolean"?l:void 0)(h),number:Ht(l=>typeof l=="number"?l:void 0)(h),string:Ht(l=>typeof l=="string"?l:void 0)(h),function:Ht(l=>typeof l=="function"?l:void 0)(h),constant:l=>Ht(u=>u===l?l:void 0)(h),raw:Ht(l=>l)(h),object:l=>Ht(u=>{if(!!Cn(u))return Se(u,l)})(h),array:l=>Ht(u=>{if(!!Array.isArray(u))return Fe(u,l)})(h)}}const _t={optional:qn(!0),required:qn(!1)};function W(h,l){const u=_t.required.object(l)(h);return u.succeeded?u.value:void 0}function z(h){console.warn([`Missing '${h.key}' of ${h.target} in ${h.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Le(h){return h&&h.parentElement&&h.parentElement.removeChild(h),null}class ze{constructor(l){this.value_=l}static create(l){return[new ze(l),(u,d)=>{l.setRawValue(u,d)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const Me=R("");function gt(h,l){return X(h,Me(void 0,l))}class ue extends et{constructor(l){var u;super(l),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=ze.create(Ut(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(u=this.get("parent"))===null||u===void 0||u.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(l){var u,d,b;const P=l!=null?l:{};return new ue(et.createCore({disabled:(u=P.disabled)!==null&&u!==void 0?u:!1,disposed:!1,hidden:(d=P.hidden)!==null&&d!==void 0?d:!1,parent:(b=P.parent)!==null&&b!==void 0?b:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(l){I(this.globalDisabled_,gt(l,"disabled")),ht(this,"hidden",gt(l,"hidden"))}bindDisabled(l){I(this.globalDisabled_,u=>{l.disabled=u})}bindTabIndex(l){I(this.globalDisabled_,u=>{l.tabIndex=u?-1:0})}handleDispose(l){this.value("disposed").emitter.on("change",u=>{u&&l()})}getGlobalDisabled_(){const l=this.get("parent");return(l?l.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(l){var u;const d=l.previousRawValue;d==null||d.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(u=this.get("parent"))===null||u===void 0||u.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function vt(){return["veryfirst","first","last","verylast"]}const xt=R(""),qt={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class rn{constructor(l){this.parent_=null,this.blade=l.blade,this.view=l.view,this.viewProps=l.viewProps;const u=this.view.element;this.blade.value("positions").emitter.on("change",()=>{vt().forEach(d=>{u.classList.remove(xt(void 0,qt[d]))}),this.blade.get("positions").forEach(d=>{u.classList.add(xt(void 0,qt[d]))})}),this.viewProps.handleDispose(()=>{Le(u)})}get parent(){return this.parent_}set parent(l){if(this.parent_=l,!("parent"in this.viewProps.valMap_)){z({key:"parent",target:ue.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const Lt="http://www.w3.org/2000/svg";function pe(h){h.offsetHeight}function xn(h,l){const u=h.style.transition;h.style.transition="none",l(),h.style.transition=u}function Gt(h){return h.ontouchstart!==void 0}function g(h){for(;h.childNodes.length>0;)h.removeChild(h.childNodes[0])}function x(h){return h.relatedTarget?h.relatedTarget:"explicitOriginalTarget"in h?h.explicitOriginalTarget:null}const S=R("lbl");function M(h,l){const u=h.createDocumentFragment();return l.split(`
`).map(b=>h.createTextNode(b)).forEach((b,P)=>{P>0&&u.appendChild(h.createElement("br")),u.appendChild(b)}),u}class L{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(S()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("div");d.classList.add(S("l")),ht(u.props,"label",P=>{f(P)?this.element.classList.add(S(void 0,"nol")):(this.element.classList.remove(S(void 0,"nol")),g(d),d.appendChild(M(l,P)))}),this.element.appendChild(d),this.labelElement=d;const b=l.createElement("div");b.classList.add(S("v")),this.element.appendChild(b),this.valueElement=b}}class D extends rn{constructor(l,u){const d=u.valueController.viewProps;super(Object.assign(Object.assign({},u),{view:new L(l,{props:u.props,viewProps:d}),viewProps:d})),this.props=u.props,this.valueController=u.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class F extends rn{constructor(l){super(l),this.value=l.value}}class O extends et{constructor(l){super(l)}static create(l){const u={completed:!0,expanded:l,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},d=et.createCore(u);return new O(d)}get styleExpanded(){var l;return(l=this.get("temporaryExpanded"))!==null&&l!==void 0?l:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const l=this.get("expandedHeight");return this.get("shouldFixHeight")&&!f(l)?`${l}px`:"auto"}bindExpandedClass(l,u){const d=()=>{this.styleExpanded?l.classList.add(u):l.classList.remove(u)};ht(this,"expanded",d),ht(this,"temporaryExpanded",d)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function B(h){return O.create(h)}function A(h,l){let u=0;return xn(l,()=>{h.set("expandedHeight",null),h.set("temporaryExpanded",!0),pe(l),u=l.clientHeight,h.set("temporaryExpanded",null),pe(l)}),u}function U(h,l){l.style.height=h.styleHeight}function $(h,l){h.value("expanded").emitter.on("beforechange",()=>{h.set("completed",!1),f(h.get("expandedHeight"))&&h.set("expandedHeight",A(h,l)),h.set("shouldFixHeight",!0),pe(l)}),h.emitter.on("change",()=>{U(h,l)}),U(h,l),l.addEventListener("transitionend",u=>{u.propertyName==="height"&&h.cleanUpTransition()})}class K{constructor(l,u){const d=R(u.viewName);this.element=l.createElement("div"),this.element.classList.add(d()),u.viewProps.bindClassModifiers(this.element)}}class H extends F{constructor(l,u){const d=u.valueController.viewProps;super(Object.assign(Object.assign({},u),{value:u.valueController.value,view:new L(l,{props:u.props,viewProps:d}),viewProps:d})),this.props=u.props,this.valueController=u.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class J{constructor(){this.disabled=!1,this.emitter=new k}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ct{constructor(l,u){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=l,this.emitter=new k,this.interval_=u,this.setTimer_()}get disabled(){return this.disabled_}set disabled(l){this.disabled_=l,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const l=this.doc_.defaultView;l&&l.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const l=this.doc_.defaultView;l&&(this.timerId_=l.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class st{constructor(l){this.constraints=l}constrain(l){return this.constraints.reduce((u,d)=>d.constrain(u),l)}}function ft(h,l){if(h instanceof l)return h;if(h instanceof st){const u=h.constraints.reduce((d,b)=>d||(b instanceof l?b:null),null);if(u)return u}return null}class Mt{constructor(l){this.values=et.fromObject({max:l.max,min:l.min})}constrain(l){const u=this.values.get("max"),d=this.values.get("min");return Math.min(Math.max(l,d),u)}}class ge{constructor(l){this.values=et.fromObject({max:l.max,min:l.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(l){const u=this.values.get("max"),d=this.values.get("min");let b=l;return f(d)||(b=Math.max(b,d)),f(u)||(b=Math.min(b,u)),b}}class $e{constructor(l,u=0){this.step=l,this.origin=u}constrain(l){const u=this.origin%this.step,d=Math.round((l-u)/this.step);return u+d*this.step}}const he=R("pop");class xi{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(he()),u.viewProps.bindClassModifiers(this.element),I(u.shows,X(this.element,he(void 0,"v")))}}class Pt{constructor(l,u){this.shows=Ut(!1),this.viewProps=u.viewProps,this.view=new xi(l,{shows:this.shows,viewProps:this.viewProps})}}const Rt=R("txt");class Ke{constructor(l,u){this.onChange_=this.onChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(Rt()),u.viewProps.bindClassModifiers(this.element),this.props_=u.props,this.props_.emitter.on("change",this.onChange_);const d=l.createElement("input");d.classList.add(Rt("i")),d.type="text",u.viewProps.bindDisabled(d),this.element.appendChild(d),this.inputElement=d,u.value.emitter.on("change",this.onChange_),this.value_=u.value,this.refresh()}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value_.rawValue)}onChange_(){this.refresh()}}class Oo{constructor(l,u){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=u.parser,this.props=u.props,this.value=u.value,this.viewProps=u.viewProps,this.view=new Ke(l,{props:u.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(l){const d=l.currentTarget.value,b=this.parser_(d);f(b)||(this.value.rawValue=b),this.view.refresh()}}function pr(h){return h==="false"?!1:!!h}class ls{constructor(l){this.text=l}evaluate(){return Number(this.text)}toString(){return this.text}}const as={"**":(h,l)=>Math.pow(h,l),"*":(h,l)=>h*l,"/":(h,l)=>h/l,"%":(h,l)=>h%l,"+":(h,l)=>h+l,"-":(h,l)=>h-l,"<<":(h,l)=>h<<l,">>":(h,l)=>h>>l,">>>":(h,l)=>h>>>l,"&":(h,l)=>h&l,"^":(h,l)=>h^l,"|":(h,l)=>h|l};class Ro{constructor(l,u,d){this.left=u,this.operator=l,this.right=d}evaluate(){const l=as[this.operator];if(!l)throw new Error(`unexpected binary operator: '${this.operator}`);return l(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const No={"+":h=>h,"-":h=>-h,"~":h=>~h};class Io{constructor(l,u){this.operator=l,this.expression=u}evaluate(){const l=No[this.operator];if(!l)throw new Error(`unexpected unary operator: '${this.operator}`);return l(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function cs(h){return(l,u)=>{for(let d=0;d<h.length;d++){const b=h[d](l,u);if(b!=="")return b}return""}}function on(h,l){var u;const d=h.substr(l).match(/^\s+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function us(h,l){const u=h.substr(l,1);return u.match(/^[1-9]$/)?u:""}function Yt(h,l){var u;const d=h.substr(l).match(/^[0-9]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function ps(h,l){const u=Yt(h,l);if(u!=="")return u;const d=h.substr(l,1);if(l+=1,d!=="-"&&d!=="+")return"";const b=Yt(h,l);return b===""?"":d+b}function Ce(h,l){const u=h.substr(l,1);if(l+=1,u.toLowerCase()!=="e")return"";const d=ps(h,l);return d===""?"":u+d}function hr(h,l){const u=h.substr(l,1);if(u==="0")return u;const d=us(h,l);return l+=d.length,d===""?"":d+Yt(h,l)}function Gn(h,l){const u=hr(h,l);if(l+=u.length,u==="")return"";const d=h.substr(l,1);if(l+=d.length,d!==".")return"";const b=Yt(h,l);return l+=b.length,u+d+b+Ce(h,l)}function dr(h,l){const u=h.substr(l,1);if(l+=u.length,u!==".")return"";const d=Yt(h,l);return l+=d.length,d===""?"":u+d+Ce(h,l)}function Pi(h,l){const u=hr(h,l);return l+=u.length,u===""?"":u+Ce(h,l)}const hs=cs([Gn,dr,Pi]);function ds(h,l){var u;const d=h.substr(l).match(/^[01]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function Bo(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0b")return"";const d=ds(h,l);return d===""?"":u+d}function jo(h,l){var u;const d=h.substr(l).match(/^[0-7]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function Fo(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0o")return"";const d=jo(h,l);return d===""?"":u+d}function zo(h,l){var u;const d=h.substr(l).match(/^[0-9a-f]+/i);return(u=d&&d[0])!==null&&u!==void 0?u:""}function ms(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0x")return"";const d=zo(h,l);return d===""?"":u+d}const $o=cs([Bo,Fo,ms]),Ko=cs([$o,hs]);function Yn(h,l){const u=Ko(h,l);return l+=u.length,u===""?null:{evaluable:new ls(u),cursor:l}}function mr(h,l){const u=h.substr(l,1);if(l+=u.length,u!=="(")return null;const d=vs(h,l);if(!d)return null;l=d.cursor,l+=on(h,l).length;const b=h.substr(l,1);return l+=b.length,b!==")"?null:{evaluable:d.evaluable,cursor:l}}function Uo(h,l){var u;return(u=Yn(h,l))!==null&&u!==void 0?u:mr(h,l)}function yi(h,l){const u=Uo(h,l);if(u)return u;const d=h.substr(l,1);if(l+=d.length,d!=="+"&&d!=="-"&&d!=="~")return null;const b=yi(h,l);return b?(l=b.cursor,{cursor:l,evaluable:new Io(d,b.evaluable)}):null}function Ho(h,l,u){u+=on(l,u).length;const d=h.filter(b=>l.startsWith(b,u))[0];return d?(u+=d.length,u+=on(l,u).length,{cursor:u,operator:d}):null}function Pn(h,l){return(u,d)=>{const b=h(u,d);if(!b)return null;d=b.cursor;let P=b.evaluable;for(;;){const V=Ho(l,u,d);if(!V)break;d=V.cursor;const N=h(u,d);if(!N)return null;d=N.cursor,P=new Ro(V.operator,P,N.evaluable)}return P?{cursor:d,evaluable:P}:null}}const vr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((h,l)=>Pn(h,l),yi);function vs(h,l){return l+=on(h,l).length,vr(h,l)}function qo(h){const l=vs(h,0);return!l||l.cursor+on(h,l.cursor).length!==h.length?null:l.evaluable}function Wn(h){var l;const u=qo(h);return(l=u==null?void 0:u.evaluate())!==null&&l!==void 0?l:null}function Go(h){if(typeof h=="number")return h;if(typeof h=="string"){const l=Wn(h);if(!f(l))return l}return 0}function At(h){return l=>l.toFixed(Math.max(Math.min(h,20),0))}const Yo=At(0);function Ei(h){return Yo(h)+"%"}function fr(h){return String(h)}function fs(h,l){for(;h.length<l;)h.push(void 0)}function br(h){const l=[];return fs(l,h),Ut(l)}function _r(h){const l=h.indexOf(void 0);return l<0?h:h.slice(0,l)}function Wo(h,l){const u=[..._r(h),l];return u.length>h.length?u.splice(0,u.length-h.length):fs(u,h.length),u}function yn({primary:h,secondary:l,forward:u,backward:d}){let b=!1;function P(V){b||(b=!0,V(),b=!1)}h.emitter.on("change",V=>{P(()=>{l.setRawValue(u(h,l),V.options)})}),l.emitter.on("change",V=>{P(()=>{h.setRawValue(d(h,l),V.options)}),P(()=>{l.setRawValue(u(h,l),V.options)})}),P(()=>{l.setRawValue(u(h,l),{forceEmit:!1,last:!0})})}function En(h,l){const u=h*(l.altKey?.1:1)*(l.shiftKey?10:1);return l.upKey?+u:l.downKey?-u:0}function Xn(h){return{altKey:h.altKey,downKey:h.key==="ArrowDown",shiftKey:h.shiftKey,upKey:h.key==="ArrowUp"}}function bs(h){return{altKey:h.altKey,downKey:h.key==="ArrowLeft",shiftKey:h.shiftKey,upKey:h.key==="ArrowRight"}}function Xo(h){return h==="ArrowUp"||h==="ArrowDown"}function wr(h){return Xo(h)||h==="ArrowLeft"||h==="ArrowRight"}function _s(h,l){var u,d;const b=l.ownerDocument.defaultView,P=l.getBoundingClientRect();return{x:h.pageX-(((u=b&&b.scrollX)!==null&&u!==void 0?u:0)+P.left),y:h.pageY-(((d=b&&b.scrollY)!==null&&d!==void 0?d:0)+P.top)}}class ki{constructor(l){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=l,this.emitter=new k,l.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),l.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),l.addEventListener("touchend",this.onTouchEnd_),l.addEventListener("mousedown",this.onMouseDown_)}computePosition_(l){const u=this.elem_.getBoundingClientRect();return{bounds:{width:u.width,height:u.height},point:l?{x:l.x,y:l.y}:null}}onMouseDown_(l){var u;l.preventDefault(),(u=l.currentTarget)===null||u===void 0||u.focus();const d=this.elem_.ownerDocument;d.addEventListener("mousemove",this.onDocumentMouseMove_),d.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(_s(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseMove_(l){this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(_s(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseUp_(l){const u=this.elem_.ownerDocument;u.removeEventListener("mousemove",this.onDocumentMouseMove_),u.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(_s(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onTouchStart_(l){l.preventDefault();const u=l.targetTouches.item(0),d=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(u?{x:u.clientX-d.left,y:u.clientY-d.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=u}onTouchMove_(l){const u=l.targetTouches.item(0),d=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(u?{x:u.clientX-d.left,y:u.clientY-d.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=u}onTouchEnd_(l){var u;const d=(u=l.targetTouches.item(0))!==null&&u!==void 0?u:this.lastTouch_,b=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(d?{x:d.clientX-b.left,y:d.clientY-b.top}:void 0),sender:this,shiftKey:l.shiftKey})}}function yt(h,l,u,d,b){const P=(h-l)/(u-l);return d+P*(b-d)}function gr(h){return String(h.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function kn(h,l,u){return Math.min(Math.max(h,l),u)}const ne=R("txt");class Jo{constructor(l,u){this.onChange_=this.onChange_.bind(this),this.props_=u.props,this.props_.emitter.on("change",this.onChange_),this.element=l.createElement("div"),this.element.classList.add(ne(),ne(void 0,"num")),u.arrayPosition&&this.element.classList.add(ne(void 0,u.arrayPosition)),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("input");d.classList.add(ne("i")),d.type="text",u.viewProps.bindDisabled(d),this.element.appendChild(d),this.inputElement=d,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=u.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ne()),this.inputElement.classList.add(ne("i"));const b=l.createElement("div");b.classList.add(ne("k")),this.element.appendChild(b),this.knobElement=b;const P=l.createElementNS(Lt,"svg");P.classList.add(ne("g")),this.knobElement.appendChild(P);const V=l.createElementNS(Lt,"path");V.classList.add(ne("gb")),P.appendChild(V),this.guideBodyElem_=V;const N=l.createElementNS(Lt,"path");N.classList.add(ne("gh")),P.appendChild(N),this.guideHeadElem_=N;const nt=l.createElement("div");nt.classList.add(R("tt")()),this.knobElement.appendChild(nt),this.tooltipElem_=nt,u.value.emitter.on("change",this.onChange_),this.value=u.value,this.refresh()}onDraggingChange_(l){if(l.rawValue===null){this.element.classList.remove(ne(void 0,"drg"));return}this.element.classList.add(ne(void 0,"drg"));const u=l.rawValue/this.props_.get("draggingScale"),d=u+(u>0?-1:u<0?1:0),b=kn(-d,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${d+b},0 L${d},4 L${d+b},8`,`M ${u},-1 L${u},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${u},4`);const P=this.props_.get("formatter");this.tooltipElem_.textContent=P(this.value.rawValue),this.tooltipElem_.style.left=`${u}px`}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value.rawValue)}onChange_(){this.refresh()}}class Jn{constructor(l,u){var d;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=u.baseStep,this.parser_=u.parser,this.props=u.props,this.sliderProps_=(d=u.sliderProps)!==null&&d!==void 0?d:null,this.value=u.value,this.viewProps=u.viewProps,this.dragging_=Ut(null),this.view=new Jo(l,{arrayPosition:u.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const b=new ki(this.view.knobElement);b.emitter.on("down",this.onPointerDown_),b.emitter.on("move",this.onPointerMove_),b.emitter.on("up",this.onPointerUp_)}constrainValue_(l){var u,d;const b=(u=this.sliderProps_)===null||u===void 0?void 0:u.get("minValue"),P=(d=this.sliderProps_)===null||d===void 0?void 0:d.get("maxValue");let V=l;return b!==void 0&&(V=Math.max(V,b)),P!==void 0&&(V=Math.min(V,P)),V}onInputChange_(l){const d=l.currentTarget.value,b=this.parser_(d);f(b)||(this.value.rawValue=this.constrainValue_(b)),this.view.refresh()}onInputKeyDown_(l){const u=En(this.baseStep_,Xn(l));u!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+u),{forceEmit:!1,last:!1})}onInputKeyUp_(l){En(this.baseStep_,Xn(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(l){if(!l.point)return null;const u=l.point.x-l.bounds.width/2;return this.constrainValue_(this.originRawValue_+u*this.props.get("draggingScale"))}onPointerMove_(l){const u=this.computeDraggingValue_(l.data);u!==null&&(this.value.setRawValue(u,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(l){const u=this.computeDraggingValue_(l.data);u!==null&&(this.value.setRawValue(u,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function de(h,l){h.write(l)}function Vn(h){const l=h?ft(h,$e):null;return l?l.step:null}function Zn(h,l){const u=h&&ft(h,$e);return u?gr(u.step):Math.max(gr(l),2)}function ws(h){const l=Vn(h);return l!=null?l:1}function Vi(h,l){var u;const d=h&&ft(h,$e),b=Math.abs((u=d==null?void 0:d.step)!==null&&u!==void 0?u:l);return b===0?.1:Math.pow(10,Math.floor(Math.log10(b))-1)}function Sn(h){return[h[0],h[1],h[2]]}function Cr(h){const l=kn(Math.floor(h),0,255).toString(16);return l.length===1?`0${l}`:l}function Qn(h,l="#"){const u=Sn(h.getComponents("rgb")).map(Cr).join("");return`${l}${u}`}function xr(h,l="#"){const u=h.getComponents("rgb"),d=[u[0],u[1],u[2],u[3]*255].map(Cr).join("");return`${l}${d}`}function Zo(h,l){const u=At(l==="float"?2:0);return`rgb(${Sn(h.getComponents("rgb",l)).map(b=>u(b)).join(", ")})`}function Pr(h){return l=>Zo(l,h)}function yr(h,l){const u=At(2),d=At(l==="float"?2:0);return`rgba(${h.getComponents("rgb",l).map((P,V)=>(V===3?u:d)(P)).join(", ")})`}function Qo(h){return l=>yr(l,h)}function Si(h){const l=[At(0),Ei,Ei];return`hsl(${Sn(h.getComponents("hsl")).map((d,b)=>l[b](d)).join(", ")})`}function tl(h){const l=[At(0),Ei,Ei,At(2)];return`hsla(${h.getComponents("hsl").map((d,b)=>l[b](d)).join(", ")})`}function Er(h,l){const u=At(l==="float"?2:0),d=["r","g","b"];return`{${Sn(h.getComponents("rgb",l)).map((P,V)=>`${d[V]}: ${u(P)}`).join(", ")}}`}function kr(h){return l=>Er(l,h)}function el(h,l){const u=At(2),d=At(l==="float"?2:0),b=["r","g","b","a"];return`{${h.getComponents("rgb",l).map((V,N)=>{const nt=N===3?u:d;return`${b[N]}: ${nt(V)}`}).join(", ")}}`}function nl(h){return l=>el(l,h)}[...["int","float"].reduce((h,l)=>[...h,{format:{alpha:!1,mode:"rgb",notation:"func",type:l},stringifier:Pr(l)},{format:{alpha:!0,mode:"rgb",notation:"func",type:l},stringifier:Qo(l)},{format:{alpha:!1,mode:"rgb",notation:"object",type:l},stringifier:kr(l)},{format:{alpha:!0,mode:"rgb",notation:"object",type:l},stringifier:nl(l)}],[])];class il{constructor(l){this.components=l.components,this.asm_=l.assembly}constrain(l){const u=this.asm_.toComponents(l).map((d,b)=>{var P,V;return(V=(P=this.components[b])===null||P===void 0?void 0:P.constrain(d))!==null&&V!==void 0?V:d});return this.asm_.fromComponents(u)}}const Vr=R("pndtxt");class sl{constructor(l,u){this.textViews=u.textViews,this.element=l.createElement("div"),this.element.classList.add(Vr()),this.textViews.forEach(d=>{const b=l.createElement("div");b.classList.add(Vr("a")),b.appendChild(d.element),this.element.appendChild(b)})}}function gs(h,l,u){return new Jn(h,{arrayPosition:u===0?"fst":u===l.axes.length-1?"lst":"mid",baseStep:l.axes[u].baseStep,parser:l.parser,props:l.axes[u].textProps,value:Ut(0,{constraint:l.axes[u].constraint}),viewProps:l.viewProps})}class ln{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.acs_=u.axes.map((d,b)=>gs(l,u,b)),this.acs_.forEach((d,b)=>{yn({primary:this.value,secondary:d.value,forward:P=>u.assembly.toComponents(P.rawValue)[b],backward:(P,V)=>{const N=u.assembly.toComponents(P.rawValue);return N[b]=V.rawValue,u.assembly.fromComponents(N)}})}),this.view=new sl(l,{textViews:this.acs_.map(d=>d.view)})}}function rl(h,l){return"step"in h&&!f(h.step)?new $e(h.step,l):null}function ti(h){return!f(h.max)&&!f(h.min)?new Mt({max:h.max,min:h.min}):!f(h.max)||!f(h.min)?new ge({max:h.max,min:h.min}):null}const ol={monitor:{defaultInterval:200,defaultLineCount:3}},xe=R("grl");class Sr{constructor(l,u){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=l.createElement("div"),this.element.classList.add(xe()),u.viewProps.bindClassModifiers(this.element),this.formatter_=u.formatter,this.props_=u.props,this.cursor_=u.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const d=l.createElementNS(Lt,"svg");d.classList.add(xe("g")),d.style.height=`calc(var(--bld-us) * ${u.lineCount})`,this.element.appendChild(d),this.svgElem_=d;const b=l.createElementNS(Lt,"polyline");this.svgElem_.appendChild(b),this.lineElem_=b;const P=l.createElement("div");P.classList.add(xe("t"),R("tt")()),this.element.appendChild(P),this.tooltipElem_=P,u.value.emitter.on("change",this.onValueUpdate_),this.value=u.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const l=this.svgElem_.getBoundingClientRect(),u=this.value.rawValue.length-1,d=this.props_.get("minValue"),b=this.props_.get("maxValue"),P=[];this.value.rawValue.forEach((re,Z)=>{if(re===void 0)return;const qe=yt(Z,0,u,0,l.width),gl=yt(re,d,b,l.height,0);P.push([qe,gl].join(","))}),this.lineElem_.setAttributeNS(null,"points",P.join(" "));const V=this.tooltipElem_,N=this.value.rawValue[this.cursor_.rawValue];if(N===void 0){V.classList.remove(xe("t","a"));return}const nt=yt(this.cursor_.rawValue,0,u,0,l.width),se=yt(N,d,b,l.height,0);V.style.left=`${nt}px`,V.style.top=`${se}px`,V.textContent=`${this.formatter_(N)}`,V.classList.contains(xe("t","a"))||(V.classList.add(xe("t","a"),xe("t","in")),pe(V),V.classList.remove(xe("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class ll{constructor(l,u){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=u.props,this.value=u.value,this.viewProps=u.viewProps,this.cursor_=Ut(-1),this.view=new Sr(l,{cursor:this.cursor_,formatter:u.formatter,lineCount:u.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Gt(l))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const d=new ki(this.view.element);d.emitter.on("down",this.onGraphPointerDown_),d.emitter.on("move",this.onGraphPointerMove_),d.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(l){const u=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(yt(l.offsetX,0,u.width,0,this.value.rawValue.length))}onGraphPointerDown_(l){this.onGraphPointerMove_(l)}onGraphPointerMove_(l){if(!l.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(yt(l.data.point.x,0,l.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}class Lr{constructor(l){this.controller_=l}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get title(){var l;return(l=this.controller_.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.props.set("title",l)}on(l,u){const d=u.bind(this);return this.controller_.emitter.on(l,()=>{d(new a(this))}),this}}class al extends a{constructor(l,u,d){super(l),this.cell=u,this.index=d}}class Mr extends r{constructor(l){super(l),this.cellToApiMap_=new Map,this.emitter_=new k;const u=this.controller_.valueController;u.cellControllers.forEach((d,b)=>{const P=new Lr(d);this.cellToApiMap_.set(d,P),d.emitter.on("click",()=>{const V=b%u.size[0],N=Math.floor(b/u.size[0]);this.emitter_.emit("click",{event:new al(this,P,[V,N])})})})}cell(l,u){const d=this.controller_.valueController,b=d.cellControllers[u*d.size[0]+l];return this.cellToApiMap_.get(b)}on(l,u){const d=u.bind(this);return this.emitter_.on(l,b=>{d(b.event)}),this}}class Cs{constructor(l,u){this.size=u.size;const[d,b]=this.size,P=[];for(let V=0;V<b;V++)for(let N=0;N<d;N++){const nt=new sn(l,{props:et.fromObject(Object.assign({},u.cellConfig(N,V))),viewProps:ue.create()});P.push(nt)}this.cellCs_=P,this.viewProps=ue.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(V=>{V.viewProps.set("disposed",!0)})}),this.view=new K(l,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${d}, 1fr)`,this.cellCs_.forEach(V=>{this.view.element.appendChild(V.view.element)})}get cellControllers(){return this.cellCs_}}const cl={id:"buttongrid",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(h){const l=_t,u=W(h,{cells:l.required.function,size:l.required.array(l.required.number),view:l.required.constant("buttongrid"),label:l.optional.string});return u?{params:u}:null},controller(h){return new D(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new Cs(h.document,{cellConfig:h.params.cells,size:h.params.size})})},api(h){return!(h.controller instanceof D)||!(h.controller.valueController instanceof Cs)?null:new Mr(h.controller)}};class Ar extends r{get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get value(){return this.controller_.valueController.value.rawValue}set value(l){this.controller_.valueController.value.rawValue=l}on(l,u){const d=u.bind(this);return this.controller_.valueController.value.emitter.on(l,b=>{d(new p(this,b.rawValue,void 0,b.options.last))}),this}}function ie(h,l,u){return h*(1-u)+l*u}const ul=20,pl=.001,xs=100;function hl(h,l){let u=.25,d=.5,b=-1;for(let P=0;P<ul;P++){const[V,N]=h.curve(d);if(d+=u*(V<l?1:-1),b=N,u*=.5,Math.abs(l-V)<pl)break}return b}class Ue{constructor(l=0,u=0,d=1,b=1){this.cache_=[],this.comps_=[l,u,d,b]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(l){return f(l)||!Array.isArray(l)?!1:typeof l[0]=="number"&&typeof l[1]=="number"&&typeof l[2]=="number"&&typeof l[3]=="number"}static equals(l,u){return l.x1===u.x1&&l.y1===u.y1&&l.x2===u.x2&&l.y2===u.y2}curve(l){const u=ie(0,this.x1,l),d=ie(0,this.y1,l),b=ie(this.x1,this.x2,l),P=ie(this.y1,this.y2,l),V=ie(this.x2,1,l),N=ie(this.y2,1,l),nt=ie(u,b,l),se=ie(d,P,l),re=ie(b,V,l),Z=ie(P,N,l);return[ie(nt,re,l),ie(se,Z,l)]}y(l){if(this.cache_.length===0){const u=[];for(let d=0;d<xs;d++)u.push(hl(this,yt(d,0,xs-1,0,1)));this.cache_=u}return this.cache_[Math.round(yt(kn(l,0,1),0,1,0,xs-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Ps={toComponents:h=>h.toObject(),fromComponents:h=>new Ue(...h)};function dl(h){const l=At(2);return`cubic-bezier(${h.toObject().map(d=>l(d)).join(", ")})`}const ys=[0,.5,.5,1];function ml(h){const l=h.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!l)return new Ue(...ys);const u=[l[1],l[2],l[3],l[4]].reduce((d,b)=>{if(!d)return null;const P=Number(b);return isNaN(P)?null:[...d,P]},[]);return new Ue(...u!=null?u:ys)}const an=R("cbz");class Tr{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(an()),u.viewProps.bindClassModifiers(this.element),u.foldable.bindExpandedClass(this.element,an(void 0,"expanded")),ht(u.foldable,"completed",X(this.element,an(void 0,"cpl")));const d=l.createElement("div");d.classList.add(an("h")),this.element.appendChild(d);const b=l.createElement("button");b.classList.add(an("b")),u.viewProps.bindDisabled(b);const P=l.createElementNS(Lt,"svg");P.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',b.appendChild(P),d.appendChild(b),this.buttonElement=b;const V=l.createElement("div");if(V.classList.add(an("t")),d.appendChild(V),this.textElement=V,u.pickerLayout==="inline"){const N=l.createElement("div");N.classList.add(an("p")),this.element.appendChild(N),this.pickerElement=N}else this.pickerElement=null}}const Li=R("cbzp");class Dr{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Li()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("div");d.classList.add(Li("g")),this.element.appendChild(d),this.graphElement=d;const b=l.createElement("div");b.classList.add(Li("t")),this.element.appendChild(b),this.textElement=b}}function Pe(h,l){const u=new MutationObserver(b=>{for(const P of b)P.type==="childList"&&P.addedNodes.forEach(V=>{!V.contains(V)||(l(),u.disconnect())})}),d=h.ownerDocument;u.observe(d.body,{attributes:!0,childList:!0,subtree:!0})}const Ae=R("cbzg");function vl(h,l){return u=>l(h(u))}class Tt{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Ae()),u.viewProps.bindClassModifiers(this.element),u.viewProps.bindTabIndex(this.element);const d=l.createElement("div");d.classList.add(Ae("p")),this.element.appendChild(d),this.previewElement=d;const b=l.createElementNS(Lt,"svg");b.classList.add(Ae("g")),this.element.appendChild(b),this.svgElem_=b;const P=l.createElementNS(Lt,"path");P.classList.add(Ae("u")),this.svgElem_.appendChild(P),this.guideElem_=P;const V=l.createElementNS(Lt,"polyline");V.classList.add(Ae("l")),this.svgElem_.appendChild(V),this.lineElem_=V,this.handleElems_=[l.createElement("div"),l.createElement("div")],this.handleElems_.forEach(N=>{N.classList.add(Ae("h")),this.element.appendChild(N)}),this.vectorElems_=[l.createElementNS(Lt,"line"),l.createElementNS(Lt,"line")],this.vectorElems_.forEach(N=>{N.classList.add(Ae("v")),this.svgElem_.appendChild(N)}),this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=u.selection,this.handleElems_.forEach((N,nt)=>{I(this.sel_,vl(se=>se===nt,X(N,Ae("h","sel"))))}),Pe(this.element,()=>{this.refresh()})}getVertMargin_(l){return l*.25}valueToPosition(l,u){const d=this.element.getBoundingClientRect(),b=d.width,P=d.height,V=this.getVertMargin_(P);return{x:yt(l,0,1,0,b),y:yt(u,0,1,P-V,V)}}positionToValue(l,u){const d=this.element.getBoundingClientRect(),b=d.width,P=d.height,V=this.getVertMargin_(P);return{x:kn(yt(l,0,b,0,1),0,1),y:yt(u,P-V,V,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(P=>{const V=this.valueToPosition(0,P),N=this.valueToPosition(1,P);return[`M ${V.x},${V.y}`,`L ${N.x},${N.y}`].join(" ")}).join(" "));const l=this.value_.rawValue,u=[];let d=0;for(;;){const P=this.valueToPosition(...l.curve(d));if(u.push([P.x,P.y].join(",")),d>=1)break;d=Math.min(d+.05,1)}this.lineElem_.setAttributeNS(null,"points",u.join(" "));const b=l.toObject();[0,1].forEach(P=>{const V=this.valueToPosition(P,P),N=this.valueToPosition(b[P*2],b[P*2+1]),nt=this.vectorElems_[P];nt.setAttributeNS(null,"x1",String(V.x)),nt.setAttributeNS(null,"y1",String(V.y)),nt.setAttributeNS(null,"x2",String(N.x)),nt.setAttributeNS(null,"y2",String(N.y));const se=this.handleElems_[P];se.style.left=`${N.x}px`,se.style.top=`${N.y}px`})}onValueChange_(){this.refresh()}}const Or=24,ei=400,Es=1e3,He=R("cbzprv");class Ln{constructor(l,u){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(He()),u.viewProps.bindClassModifiers(this.element);const d=l.createElementNS(Lt,"svg");d.classList.add(He("g")),this.element.appendChild(d),this.svgElem_=d;const b=l.createElementNS(Lt,"path");b.classList.add(He("t")),this.svgElem_.appendChild(b),this.ticksElem_=b;const P=l.createElement("div");P.classList.add(He("m")),this.element.appendChild(P),this.markerElem_=P,this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_),u.viewProps.handleDispose(this.onDispose_),Pe(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(He("m","a")),this.startTime_=new Date().getTime()+ei,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(He("m","a"))}onDispose_(){this.stop()}updateMarker_(l){const u=this.value_.rawValue.y(kn(l,0,1));this.markerElem_.style.left=`${u*100}%`}refresh(){const l=this.svgElem_.getBoundingClientRect(),u=l.width,d=l.height,b=[],P=this.value_.rawValue;for(let V=0;V<Or;V++){const N=yt(V,0,Or-1,0,1),nt=yt(P.y(N),0,1,0,u);b.push(`M ${nt},0 v${d}`)}this.ticksElem_.setAttributeNS(null,"d",b.join(" "))}onTimer_(){if(this.startTime_===null)return;const l=new Date().getTime()-this.startTime_,u=l/Es;this.updateMarker_(u),l>Es+ei&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function It(h,l,u,d){const b=u-h,P=d-l;return Math.sqrt(b*b+P*P)}function ni(h,l,u,d){const b=It(h,l,u,d),P=Math.atan2(d-l,u-h),V=Math.round(P/(Math.PI/4))*Math.PI/4;return{x:h+Math.cos(V)*b,y:l+Math.sin(V)*b}}class ye{constructor(l,u){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=u.baseStep,this.value=u.value,this.sel_=Ut(0),this.viewProps=u.viewProps,this.view=new Tt(l,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new Ln(l,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",b=>{b.stopImmediatePropagation(),b.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const d=new ki(this.view.element);d.emitter.on("down",this.onPointerDown_),d.emitter.on("move",this.onPointerMove_),d.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(l,u,d){const b=this.sel_.rawValue,P=this.value.rawValue.toObject(),V=this.view.positionToValue(l.x,l.y),N=u?ni(b,b,V.x,V.y):V;P[b*2]=N.x,P[b*2+1]=N.y,this.value.setRawValue(new Ue(...P),d)}onPointerDown_(l){const u=l.data;if(!u.point)return;const d=this.value.rawValue,b=this.view.valueToPosition(d.x1,d.y1),P=It(u.point.x,u.point.y,b.x,b.y),V=this.view.valueToPosition(d.x2,d.y2),N=It(u.point.x,u.point.y,V.x,V.y);this.sel_.rawValue=P<=N?0:1,this.updateValue_(u.point,l.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(l){const u=l.data;!u.point||this.updateValue_(u.point,l.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(l){const u=l.data;!u.point||this.updateValue_(u.point,l.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(l){wr(l.key)&&l.preventDefault();const u=this.sel_.rawValue,d=this.value.rawValue.toObject();d[u*2]+=En(this.baseStep_,bs(l)),d[u*2+1]+=En(this.baseStep_,Xn(l)),this.value.setRawValue(new Ue(...d),{forceEmit:!1,last:!1})}onKeyUp_(l){wr(l.key)&&l.preventDefault();const u=En(this.baseStep_,bs(l)),d=En(this.baseStep_,Xn(l));u===0&&d===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Rr{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.view=new Dr(l,{viewProps:this.viewProps}),this.gc_=new ye(l,{baseStep:u.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const d=Object.assign(Object.assign({},u.axis),{constraint:new ge({max:1,min:0})}),b=Object.assign(Object.assign({},u.axis),{constraint:void 0});this.tc_=new ln(l,{assembly:Ps,axes:[d,b,d,b],parser:Wn,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(l=>l.inputElement)]}refresh(){this.gc_.refresh()}}class Mi{constructor(l,u){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=u.value,this.viewProps=u.viewProps,this.foldable_=B(u.expanded),this.view=new Tr(l,{foldable:this.foldable_,pickerLayout:u.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Oo(l,{parser:ml,props:et.fromObject({formatter:dl}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=u.pickerLayout==="popup"?new Pt(l,{viewProps:this.viewProps}):null;const d=new Rr(l,{axis:u.axis,value:this.value,viewProps:this.viewProps});d.allFocusableElements.forEach(b=>{b.addEventListener("blur",this.onPopupChildBlur_),b.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=d,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),I(this.popC_.shows,b=>{b&&d.refresh()}),yn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:b=>b.rawValue,backward:(b,P)=>P.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),$(this.foldable_,this.view.pickerElement))}onButtonBlur_(l){if(!this.popC_)return;const u=l.relatedTarget;(!u||!this.popC_.view.element.contains(u))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(l){if(!this.popC_)return;const u=this.popC_.view.element,d=x(l);d&&u.contains(d)||d&&d===this.view.buttonElement&&!Gt(u.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(l){!this.popC_||l.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function ks(){return new il({assembly:Ps,components:[0,1,2,3].map(h=>h%2===0?new ge({min:0,max:1}):void 0)})}const cn={id:"cubic-bezier",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(h){const l=_t,u=W(h,{value:l.required.array(l.required.number),view:l.required.constant("cubicbezier"),expanded:l.optional.boolean,label:l.optional.string,picker:l.optional.custom(d=>d==="inline"||d==="popup"?d:void 0)});return u?{params:u}:null},controller(h){var l,u;const d=new Ue(...h.params.value),b=Ut(d,{constraint:ks(),equals:Ue.equals}),P=new Mi(h.document,{axis:{baseStep:.1,textProps:et.fromObject({draggingScale:.01,formatter:At(2)})},expanded:(l=h.params.expanded)!==null&&l!==void 0?l:!1,pickerLayout:(u=h.params.picker)!==null&&u!==void 0?u:"popup",value:b,viewProps:h.viewProps});return new H(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:P})},api(h){return!(h.controller instanceof H)||!(h.controller.valueController instanceof Mi)?null:new Ar(h.controller)}};class bt extends r{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Vs=20;class Et{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(l){this.start_=l.getTime()}calculateFps_(l){if(this.timestamps_.length===0)return null;const u=this.timestamps_[0];return 1e3*(this.frameCount_-u.frameCount)/(l-u.time)}compactTimestamps_(){if(this.timestamps_.length<=Vs)return;const l=this.timestamps_.length-Vs;this.timestamps_.splice(0,l);const u=this.timestamps_[0].frameCount;this.timestamps_.forEach(d=>{d.frameCount-=u}),this.frameCount_-=u}end(l){if(this.start_===null)return;const u=l.getTime();this.duration_=u-this.start_,this.start_=null,this.fps_=this.calculateFps_(u),this.timestamps_.push({frameCount:this.frameCount_,time:u}),++this.frameCount_,this.compactTimestamps_()}}const Mn=R("fps");class Zt{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Mn()),u.viewProps.bindClassModifiers(this.element),this.graphElement=l.createElement("div"),this.graphElement.classList.add(Mn("g")),this.element.appendChild(this.graphElement);const d=l.createElement("div");d.classList.add(Mn("l")),this.element.appendChild(d);const b=l.createElement("span");b.classList.add(Mn("v")),b.textContent="--",d.appendChild(b),this.valueElement=b;const P=l.createElement("span");P.classList.add(Mn("u")),P.textContent="FPS",d.appendChild(P)}}class Ss{constructor(l,u){this.stopwatch_=new Et,this.onTick_=this.onTick_.bind(this),this.ticker_=u.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=u.value,this.viewProps=u.viewProps,this.view=new Zt(l,{viewProps:this.viewProps}),this.graphC_=new ll(l,{formatter:At(0),lineCount:u.lineCount,props:et.fromObject({maxValue:u.maxValue,minValue:u.minValue}),value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const l=this.stopwatch_.fps;if(l!==null){const u=this.value_.rawValue;this.value_.rawValue=Wo(u,l),this.view.valueElement.textContent=l.toFixed(0)}}}function ii(h,l){return l===0?new J:new ct(h,l!=null?l:ol.monitor.defaultInterval)}const Ls={id:"fpsgraph",type:"blade",accept(h){const l=_t,u=W(h,{view:l.required.constant("fpsgraph"),interval:l.optional.number,label:l.optional.string,lineCount:l.optional.number,max:l.optional.number,min:l.optional.number});return u?{params:u}:null},controller(h){var l,u,d,b;const P=(l=h.params.interval)!==null&&l!==void 0?l:500;return new D(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new Ss(h.document,{lineCount:(u=h.params.lineCount)!==null&&u!==void 0?u:2,maxValue:(d=h.params.max)!==null&&d!==void 0?d:90,minValue:(b=h.params.min)!==null&&b!==void 0?b:0,ticker:ii(h.document,P),value:br(80),viewProps:h.viewProps})})},api(h){return!(h.controller instanceof D)||!(h.controller.valueController instanceof Ss)?null:new bt(h.controller)}};class Qt{constructor(l,u){this.min=l,this.max=u}static isObject(l){if(typeof l!="object"||l===null)return!1;const u=l.min,d=l.max;return!(typeof u!="number"||typeof d!="number")}static equals(l,u){return l.min===u.min&&l.max===u.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const Ms={fromComponents:h=>new Qt(h[0],h[1]),toComponents:h=>[h.min,h.max]};class si{constructor(l){this.edge=l}constrain(l){var u,d,b,P,V,N,nt,se;if(l.min<=l.max)return new Qt((d=(u=this.edge)===null||u===void 0?void 0:u.constrain(l.min))!==null&&d!==void 0?d:l.min,(P=(b=this.edge)===null||b===void 0?void 0:b.constrain(l.max))!==null&&P!==void 0?P:l.max);const re=(l.min+l.max)/2;return new Qt((N=(V=this.edge)===null||V===void 0?void 0:V.constrain(re))!==null&&N!==void 0?N:re,(se=(nt=this.edge)===null||nt===void 0?void 0:nt.constrain(re))!==null&&se!==void 0?se:re)}}const As=R("rsltxt");class Ai{constructor(l,u){this.sliderView_=u.sliderView,this.textView_=u.textView,this.element=l.createElement("div"),this.element.classList.add(As());const d=l.createElement("div");d.classList.add(As("s")),d.appendChild(this.sliderView_.element),this.element.appendChild(d);const b=l.createElement("div");b.classList.add(As("t")),b.appendChild(this.textView_.element),this.element.appendChild(b)}}const me=R("rsl");class ri{constructor(l,u){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=u.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=l.createElement("div"),this.element.classList.add(me()),u.viewProps.bindClassModifiers(this.element),this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_);const d=l.createElement("div");d.classList.add(me("t")),this.element.appendChild(d),this.trackElement=d;const b=l.createElement("div");b.classList.add(me("b")),d.appendChild(b),this.barElement=b;const P=["min","max"].map(V=>{const N=l.createElement("div");return N.classList.add(me("k"),me("k",V)),d.appendChild(N),N});this.knobElements=[P[0],P[1]],this.update_()}valueToX_(l){const u=this.sliderProps_.get("minValue"),d=this.sliderProps_.get("maxValue");return kn(yt(l,u,d,0,1),0,1)*100}update_(){const l=this.value_.rawValue;l.length===0?this.element.classList.add(me(void 0,"zero")):this.element.classList.remove(me(void 0,"zero"));const u=[this.valueToX_(l.min),this.valueToX_(l.max)];this.barElement.style.left=`${u[0]}%`,this.barElement.style.right=`${100-u[1]}%`,this.knobElements.forEach((d,b)=>{d.style.left=`${u[b]}%`})}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class Ts{constructor(l,u){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=u.sliderProps,this.viewProps=u.viewProps,this.value=u.value,this.view=new ri(l,{sliderProps:this.sliderProps,value:this.value,viewProps:u.viewProps});const d=new ki(this.view.trackElement);d.emitter.on("down",this.onPointerDown_),d.emitter.on("move",this.onPointerMove_),d.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(l){if(!l.point)return null;const u=(l.point.x+this.ofs_())/l.bounds.width,d=this.sliderProps.get("minValue"),b=this.sliderProps.get("maxValue");return yt(u,0,1,d,b)}onPointerDown_(l){if(!l.data.point)return;const u=l.data.point.x/l.data.bounds.width,d=this.value.rawValue,b=this.sliderProps.get("minValue"),P=this.sliderProps.get("maxValue"),V=yt(d.min,b,P,0,1),N=yt(d.max,b,P,0,1);Math.abs(N-u)<=.025?this.grabbing_="max":Math.abs(V-u)<=.025?this.grabbing_="min":u>=V&&u<=N?(this.grabbing_="length",this.grabOffset_=yt(u-V,0,1,0,P-b)):u<V?(this.grabbing_="min",this.onPointerMove_(l)):u>N&&(this.grabbing_="max",this.onPointerMove_(l))}applyPointToValue_(l,u){const d=this.valueFromData_(l);if(d===null)return;const b=this.sliderProps.get("minValue"),P=this.sliderProps.get("maxValue");if(this.grabbing_==="min")this.value.setRawValue(new Qt(d,this.value.rawValue.max),u);else if(this.grabbing_==="max")this.value.setRawValue(new Qt(this.value.rawValue.min,d),u);else if(this.grabbing_==="length"){const V=this.value.rawValue.length;let N=d-this.grabOffset_,nt=N+V;N<b?(N=b,nt=b+V):nt>P&&(N=P-V,nt=P),this.value.setRawValue(new Qt(N,nt),u)}}onPointerMove_(l){this.applyPointToValue_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.applyPointToValue_(l.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Te{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.sc_=new Ts(l,u);const d={baseStep:u.baseStep,constraint:u.constraint,textProps:et.fromObject({draggingScale:u.draggingScale,formatter:u.formatter})};this.tc_=new ln(l,{assembly:Ms,axes:[d,d],parser:u.parser,value:this.value,viewProps:u.viewProps}),this.view=new Ai(l,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Nr(h){return Qt.isObject(h)?new Qt(h.min,h.max):new Qt(0,0)}function Ds(h,l){h.writeProperty("max",l.max),h.writeProperty("min",l.min)}function fl(h){const l=[],u=ti(h);u&&l.push(u);const d=rl(h);return d&&l.push(d),new si(new st(l))}const Ti={id:"input-interval",type:"input",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept:(h,l)=>{if(!Qt.isObject(h))return null;const u=_t,d=W(l,{format:u.optional.function,max:u.optional.number,min:u.optional.number,step:u.optional.number});return d?{initialValue:new Qt(h.min,h.max),params:d}:null},binding:{reader:h=>Nr,constraint:h=>fl(h.params),equals:Qt.equals,writer:h=>Ds},controller(h){var l;const u=h.value,d=h.constraint;if(!(d instanceof si))throw C.shouldNeverHappen();const b=(u.rawValue.min+u.rawValue.max)/2,P=(l=h.params.format)!==null&&l!==void 0?l:At(Zn(d.edge,b)),V=d.edge&&ft(d.edge,Mt);if(V)return new Te(h.document,{baseStep:ws(d.edge),constraint:d.edge,draggingScale:Vi(d.edge,b),formatter:P,parser:Wn,sliderProps:new et({maxValue:V.values.value("max"),minValue:V.values.value("min")}),value:u,viewProps:h.viewProps});const N={baseStep:ws(d.edge),constraint:d.edge,textProps:et.fromObject({draggingScale:b,formatter:P})};return new ln(h.document,{assembly:Ms,axes:[N,N],parser:Wn,value:u,viewProps:h.viewProps})}};class un{constructor(l){this.controller_=l}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get title(){var l;return(l=this.controller_.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.props.set("title",l)}}class pn extends p{constructor(l,u,d,b,P){super(l,b,P),this.cell=u,this.index=d}}class oi extends r{constructor(l){super(l),this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(d=>{const b=new un(d);this.cellToApiMap_.set(d,b)})}get value(){return this.controller_.value}cell(l,u){const d=this.controller_.valueController,b=d.cellControllers[u*d.size[0]+l];return this.cellToApiMap_.get(b)}on(l,u){const d=u.bind(this);this.controller_.value.emitter.on(l,b=>{const P=this.controller_.valueController,V=P.findCellByValue(b.rawValue);if(!V)return;const N=this.cellToApiMap_.get(V);if(!N)return;const nt=P.cellControllers.indexOf(V);d(new pn(this,N,[nt%P.size[0],Math.floor(nt/P.size[0])],b.rawValue,void 0))})}}const li=R("rad");class Ir{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(li()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("label");d.classList.add(li("l")),this.element.appendChild(d);const b=l.createElement("input");b.classList.add(li("i")),b.name=u.name,b.type="radio",u.viewProps.bindDisabled(b),d.appendChild(b),this.inputElement=b;const P=l.createElement("div");P.classList.add(li("b")),d.appendChild(P);const V=l.createElement("div");V.classList.add(li("t")),P.appendChild(V),ht(u.props,"title",N=>{V.textContent=N})}}class Br{constructor(l,u){this.props=u.props,this.viewProps=u.viewProps,this.view=new Ir(l,{name:u.name,props:this.props,viewProps:this.viewProps})}}class Di{constructor(l,u){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=u.size;const[d,b]=this.size;for(let P=0;P<b;P++)for(let V=0;V<d;V++){const N=new Br(l,{name:u.groupName,props:et.fromObject(Object.assign({},u.cellConfig(V,P))),viewProps:ue.create()});this.cellCs_.push(N),this.cellValues_.push(u.cellConfig(V,P).value)}this.value=u.value,I(this.value,P=>{const V=this.findCellByValue(P);!V||(V.view.inputElement.checked=!0)}),this.viewProps=ue.create(),this.view=new K(l,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${d}, 1fr)`,this.cellCs_.forEach(P=>{P.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(P.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(l){const u=this.cellValues_.findIndex(d=>d===l);return u<0?null:this.cellCs_[u]}onCellInputChange_(l){const u=l.currentTarget,d=this.cellCs_.findIndex(b=>b.view.inputElement===u);d<0||(this.value.rawValue=this.cellValues_[d])}}const hn=function(){return{id:"radiogrid",type:"blade",accept(h){const l=_t,u=W(h,{cells:l.required.function,groupName:l.required.string,size:l.required.array(l.required.number),value:l.required.raw,view:l.required.constant("radiogrid"),label:l.optional.string});return u?{params:u}:null},controller(h){return new H(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new Di(h.document,{groupName:h.params.groupName,cellConfig:h.params.cells,size:h.params.size,value:Ut(h.params.value)})})},api(h){return!(h.controller instanceof H)||!(h.controller.valueController instanceof Di)?null:new oi(h.controller)}}}();function Os(h){return{id:"input-radiogrid",type:"input",accept(l,u){if(!h.isType(l))return null;const d=_t,b=W(u,{cells:d.required.function,groupName:d.required.string,size:d.required.array(d.required.number),view:d.required.constant("radiogrid")});return b?{initialValue:l,params:b}:null},binding:h.binding,controller:l=>new Di(l.document,{cellConfig:l.params.cells,groupName:l.params.groupName,size:l.params.size,value:l.value})}}const bl=Os({isType:h=>typeof h=="number",binding:{reader:h=>Go,writer:h=>de}}),_l=Os({isType:h=>typeof h=="string",binding:{reader:h=>fr,writer:h=>de}}),wl=Os({isType:h=>typeof h=="boolean",binding:{reader:h=>pr,writer:h=>de}}),jr=[cl,cn,Ls,Ti,hn,wl,bl,_l];i.ButtonCellApi=Lr,i.ButtonGridApi=Mr,i.ButtonGridController=Cs,i.CubicBezier=Ue,i.CubicBezierApi=Ar,i.CubicBezierAssembly=Ps,i.CubicBezierController=Mi,i.CubicBezierGraphController=ye,i.CubicBezierGraphView=Tt,i.CubicBezierPickerController=Rr,i.CubicBezierPickerView=Dr,i.CubicBezierPreviewView=Ln,i.CubicBezierView=Tr,i.FpsGraphBladeApi=bt,i.FpsGraphController=Ss,i.FpsView=Zt,i.Fpswatch=Et,i.Interval=Qt,i.IntervalAssembly=Ms,i.IntervalConstraint=si,i.RadioCellApi=un,i.RadioController=Br,i.RadioGridApi=oi,i.RadioGridController=Di,i.RadioView=Ir,i.RangeSliderController=Ts,i.RangeSliderTextController=Te,i.RangeSliderTextView=Ai,i.RangeSliderView=ri,i.TpRadioGridChangeEvent=pn,i.plugins=jr,Object.defineProperty(i,"__esModule",{value:!0})})})(lo,lo.exports);const Vb=kb(lo.exports),Sb=Dm({__proto__:null,default:Vb},[lo.exports]);/*!
 * v-tweakpane v0.2.0
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const Lb=Na({name:"VTweakpane",props:{pane:{type:Object,default:()=>{},required:!0}},emits:["on-pane-created"],setup(e,{emit:t}){const i=cu(null),r=cu(null);return Op(()=>{Ep(()=>{i.value instanceof Element&&(r.value=new ha.exports.Pane({container:i.value,title:e.pane.title,expanded:e.pane.expanded}),r.value.registerPlugin(Sb),t("on-pane-created",r.value))})}),{el:i}}}),Mb=(e,t)=>{const i=e.__vccOpts||e;for(const[r,a]of t)i[r]=a;return i},Ab={class:"w-full h-full"},Tb={ref:"el"};function Db(e,t,i,r,a,p){return Hi(),Ws("main",Ab,[be("div",Tb,null,512)])}const Ob=Mb(Lb,[["render",Db]]);function Ct(e){return e==null}function $a(e){return e!==null&&typeof e=="object"}function da(e){return e!==null&&typeof e=="object"}function Rb(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function wi(e,t){return Array.from(new Set([...Object.keys(e),...Object.keys(t)])).reduce((r,a)=>{const p=e[a],v=t[a];return da(p)&&da(v)?Object.assign(Object.assign({},r),{[a]:wi(p,v)}):Object.assign(Object.assign({},r),{[a]:a in t?v:p})},{})}function Nb(e){return $a(e)?"target"in e:!1}const Ib={alreadydisposed:()=>"View has been already disposed",invalidparams:e=>`Invalid parameters for '${e.name}'`,nomatchingcontroller:e=>`No matching controller for '${e.key}'`,nomatchingview:e=>`No matching view for '${JSON.stringify(e.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:e=>`Not compatible with  plugin '${e.id}'`,propertynotfound:e=>`Property '${e.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class ve{static alreadyDisposed(){return new ve({type:"alreadydisposed"})}static notBindable(){return new ve({type:"notbindable"})}static notCompatible(t,i){return new ve({type:"notcompatible",context:{id:`${t}.${i}`}})}static propertyNotFound(t){return new ve({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new ve({type:"shouldneverhappen"})}constructor(t){var i;this.message=(i=Ib[t.type](t.context))!==null&&i!==void 0?i:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}toString(){return this.message}}class ao{constructor(t,i){this.obj_=t,this.key=i}static isBindable(t){return!(t===null||typeof t!="object"&&typeof t!="function")}read(){return this.obj_[this.key]}write(t){this.obj_[this.key]=t}writeProperty(t,i){const r=this.read();if(!ao.isBindable(r))throw ve.notBindable();if(!(t in r))throw ve.propertyNotFound(t);r[t]=i}}class _e{constructor(){this.observers_={}}on(t,i){let r=this.observers_[t];return r||(r=this.observers_[t]=[]),r.push({handler:i}),this}off(t,i){const r=this.observers_[t];return r&&(this.observers_[t]=r.filter(a=>a.handler!==i)),this}emit(t,i){const r=this.observers_[t];!r||r.forEach(a=>{a.handler(i)})}}class Bb{constructor(t,i){var r;this.constraint_=i==null?void 0:i.constraint,this.equals_=(r=i==null?void 0:i.equals)!==null&&r!==void 0?r:(a,p)=>a===p,this.emitter=new _e,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const r=i!=null?i:{forceEmit:!1,last:!0},a=this.constraint_?this.constraint_.constrain(t):t,p=this.rawValue_;!!this.equals_(p,a)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=a,this.emitter.emit("change",{options:r,previousRawValue:p,rawValue:a,sender:this}))}}class jb{constructor(t){this.emitter=new _e,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,i){const r=i!=null?i:{forceEmit:!1,last:!0},a=this.value_;a===t&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:r,previousRawValue:a,rawValue:this.value_,sender:this}))}}class Fb{constructor(t){this.emitter=new _e,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=t,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(t){this.emitter.emit("beforechange",Object.assign(Object.assign({},t),{sender:this}))}onValueChange_(t){this.emitter.emit("change",Object.assign(Object.assign({},t),{sender:this}))}}function Nt(e,t){const i=t==null?void 0:t.constraint,r=t==null?void 0:t.equals;return!i&&!r?new jb(e):new Bb(e,t)}function zb(e){return[new Fb(e),(t,i)=>{e.setRawValue(t,i)}]}class ot{constructor(t){this.emitter=new _e,this.valMap_=t;for(const i in this.valMap_)this.valMap_[i].emitter.on("change",()=>{this.emitter.emit("change",{key:i,sender:this})})}static createCore(t){return Object.keys(t).reduce((r,a)=>Object.assign(r,{[a]:Nt(t[a])}),{})}static fromObject(t){const i=this.createCore(t);return new ot(i)}get(t){return this.valMap_[t].rawValue}set(t,i){this.valMap_[t].rawValue=i}value(t){return this.valMap_[t]}}class yo{constructor(t){this.values=ot.fromObject({max:t.max,min:t.min})}constrain(t){const i=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(t,r),i)}}class $b{constructor(t){this.values=ot.fromObject({max:t.max,min:t.min})}constrain(t){const i=this.values.get("max"),r=this.values.get("min");let a=t;return Ct(r)||(a=Math.max(a,r)),Ct(i)||(a=Math.min(a,i)),a}}class Kb{constructor(t,i=0){this.step=t,this.origin=i}constrain(t){const i=this.origin%this.step,r=Math.round((t-i)/this.step);return i+r*this.step}}class Ub{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Hb={"**":(e,t)=>Math.pow(e,t),"*":(e,t)=>e*t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"&":(e,t)=>e&t,"^":(e,t)=>e^t,"|":(e,t)=>e|t};class qb{constructor(t,i,r){this.left=i,this.operator=t,this.right=r}evaluate(){const t=Hb[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Gb={"+":e=>e,"-":e=>-e,"~":e=>~e};class Yb{constructor(t,i){this.operator=t,this.expression=i}evaluate(){const t=Gb[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Ka(e){return(t,i)=>{for(let r=0;r<e.length;r++){const a=e[r](t,i);if(a!=="")return a}return""}}function ir(e,t){var i;const r=e.substr(t).match(/^\s+/);return(i=r&&r[0])!==null&&i!==void 0?i:""}function Wb(e,t){const i=e.substr(t,1);return i.match(/^[1-9]$/)?i:""}function sr(e,t){var i;const r=e.substr(t).match(/^[0-9]+/);return(i=r&&r[0])!==null&&i!==void 0?i:""}function Xb(e,t){const i=sr(e,t);if(i!=="")return i;const r=e.substr(t,1);if(t+=1,r!=="-"&&r!=="+")return"";const a=sr(e,t);return a===""?"":r+a}function Ua(e,t){const i=e.substr(t,1);if(t+=1,i.toLowerCase()!=="e")return"";const r=Xb(e,t);return r===""?"":i+r}function Xp(e,t){const i=e.substr(t,1);if(i==="0")return i;const r=Wb(e,t);return t+=r.length,r===""?"":r+sr(e,t)}function Jb(e,t){const i=Xp(e,t);if(t+=i.length,i==="")return"";const r=e.substr(t,1);if(t+=r.length,r!==".")return"";const a=sr(e,t);return t+=a.length,i+r+a+Ua(e,t)}function Zb(e,t){const i=e.substr(t,1);if(t+=i.length,i!==".")return"";const r=sr(e,t);return t+=r.length,r===""?"":i+r+Ua(e,t)}function Qb(e,t){const i=Xp(e,t);return t+=i.length,i===""?"":i+Ua(e,t)}const t_=Ka([Jb,Zb,Qb]);function e_(e,t){var i;const r=e.substr(t).match(/^[01]+/);return(i=r&&r[0])!==null&&i!==void 0?i:""}function n_(e,t){const i=e.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0b")return"";const r=e_(e,t);return r===""?"":i+r}function i_(e,t){var i;const r=e.substr(t).match(/^[0-7]+/);return(i=r&&r[0])!==null&&i!==void 0?i:""}function s_(e,t){const i=e.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0o")return"";const r=i_(e,t);return r===""?"":i+r}function r_(e,t){var i;const r=e.substr(t).match(/^[0-9a-f]+/i);return(i=r&&r[0])!==null&&i!==void 0?i:""}function o_(e,t){const i=e.substr(t,2);if(t+=i.length,i.toLowerCase()!=="0x")return"";const r=r_(e,t);return r===""?"":i+r}const l_=Ka([n_,s_,o_]),a_=Ka([l_,t_]);function c_(e,t){const i=a_(e,t);return t+=i.length,i===""?null:{evaluable:new Ub(i),cursor:t}}function u_(e,t){const i=e.substr(t,1);if(t+=i.length,i!=="(")return null;const r=Zp(e,t);if(!r)return null;t=r.cursor,t+=ir(e,t).length;const a=e.substr(t,1);return t+=a.length,a!==")"?null:{evaluable:r.evaluable,cursor:t}}function p_(e,t){var i;return(i=c_(e,t))!==null&&i!==void 0?i:u_(e,t)}function Jp(e,t){const i=p_(e,t);if(i)return i;const r=e.substr(t,1);if(t+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const a=Jp(e,t);return a?(t=a.cursor,{cursor:t,evaluable:new Yb(r,a.evaluable)}):null}function h_(e,t,i){i+=ir(t,i).length;const r=e.filter(a=>t.startsWith(a,i))[0];return r?(i+=r.length,i+=ir(t,i).length,{cursor:i,operator:r}):null}function d_(e,t){return(i,r)=>{const a=e(i,r);if(!a)return null;r=a.cursor;let p=a.evaluable;for(;;){const v=h_(t,i,r);if(!v)break;r=v.cursor;const f=e(i,r);if(!f)return null;r=f.cursor,p=new qb(v.operator,p,f.evaluable)}return p?{cursor:r,evaluable:p}:null}}const m_=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((e,t)=>d_(e,t),Jp);function Zp(e,t){return t+=ir(e,t).length,m_(e,t)}function v_(e){const t=Zp(e,0);return!t||t.cursor+ir(e,t.cursor).length!==e.length?null:t.evaluable}function Ze(e){var t;const i=v_(e);return(t=i==null?void 0:i.evaluate())!==null&&t!==void 0?t:null}function Eo(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=Ze(e);if(!Ct(t))return t}return 0}function Jt(e){return t=>t.toFixed(Math.max(Math.min(e,20),0))}function dt(e,t,i,r,a){const p=(e-t)/(i-t);return r+p*(a-r)}function ma(e){return String(e.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Dt(e,t,i){return Math.min(Math.max(e,t),i)}function Qp(e,t){return(e%t+t)%t}function f_(e,t){return Ct(e.step)?Math.max(ma(t),2):ma(e.step)}function th(e){var t;return(t=e.step)!==null&&t!==void 0?t:1}function b_(e,t){var i;const r=Math.abs((i=e.step)!==null&&i!==void 0?i:t);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function Ha(e,t){return Ct(e.step)?null:new Kb(e.step,t)}function qa(e){return!Ct(e.max)&&!Ct(e.min)?new yo({max:e.max,min:e.min}):!Ct(e.max)||!Ct(e.min)?new $b({max:e.max,min:e.min}):null}function ko(e,t){var i,r,a;return{formatter:(i=e.format)!==null&&i!==void 0?i:Jt(f_(e,t)),keyScale:(r=e.keyScale)!==null&&r!==void 0?r:th(e),pointerScale:(a=e.pointerScale)!==null&&a!==void 0?a:b_(e,t)}}function Vo(e){return{format:e.optional.function,keyScale:e.optional.number,max:e.optional.number,min:e.optional.number,pointerScale:e.optional.number,step:e.optional.number}}function Ga(e){return{constraint:e.constraint,textProps:ot.fromObject(ko(e.params,e.initialValue))}}class Ya{constructor(t){this.controller=t}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(t){this.controller.viewProps.set("disabled",t)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(t){this.controller.viewProps.set("hidden",t)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(t){return this.controller.importState(t)}exportState(){return this.controller.exportState()}}class So{constructor(t){this.target=t}}class eh extends So{constructor(t,i,r){super(t),this.value=i,this.last=r!=null?r:!0}}class __ extends So{constructor(t,i){super(t),this.expanded=i}}class w_ extends So{constructor(t,i){super(t),this.index=i}}class Wa extends Ya{constructor(t){super(t),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new _e,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(t){this.controller.labelController.props.set("label",t)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(t){this.controller.tag=t}on(t,i){const r=i.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.controller.value.fetch()}onValueChange_(t){const i=this.controller.value;this.emitter_.emit("change",new eh(this,i.binding.target.read(),t.options.last))}}function g_(e,t){const r=Object.keys(t).reduce((a,p)=>{if(a===void 0)return;const v=t[p],f=v(e[p]);return f.succeeded?Object.assign(Object.assign({},a),{[p]:f.value}):void 0},{});return r}function C_(e,t){return e.reduce((i,r)=>{if(i===void 0)return;const a=t(r);if(!(!a.succeeded||a.value===void 0))return[...i,a.value]},[])}function x_(e){return e===null?!1:typeof e=="object"}function mn(e){return t=>i=>{if(!t&&i===void 0)return{succeeded:!1,value:void 0};if(t&&i===void 0)return{succeeded:!0,value:void 0};const r=e(i);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Ou(e){return{custom:t=>mn(t)(e),boolean:mn(t=>typeof t=="boolean"?t:void 0)(e),number:mn(t=>typeof t=="number"?t:void 0)(e),string:mn(t=>typeof t=="string"?t:void 0)(e),function:mn(t=>typeof t=="function"?t:void 0)(e),constant:t=>mn(i=>i===t?t:void 0)(e),raw:mn(t=>t)(e),object:t=>mn(i=>{if(!!x_(i))return g_(i,t)})(e),array:t=>mn(i=>{if(!!Array.isArray(i))return C_(i,t)})(e)}}const va={optional:Ou(!0),required:Ou(!1)};function jt(e,t){const i=t(va),r=va.required.object(i)(e);return r.succeeded?r.value:void 0}function en(e,t,i,r){if(t&&!t(e))return!1;const a=jt(e,i);return a?r(a):!1}function nn(e,t){var i;return wi((i=e==null?void 0:e())!==null&&i!==void 0?i:{},t)}function Qr(e){return"value"in e}function P_(e){if(!$a(e)||!("binding"in e))return!1;const t=e.binding;return Nb(t)}const fe="http://www.w3.org/2000/svg";function co(e){e.offsetHeight}function y_(e,t){const i=e.style.transition;e.style.transition="none",t(),e.style.transition=i}function Xa(e){return e.ontouchstart!==void 0}function E_(e){const t=e.ownerDocument.defaultView;return t&&"document"in t?e.getContext("2d",{willReadFrequently:!0}):null}const k_={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Lo(e,t){const i=e.createElementNS(fe,"svg");return i.innerHTML=k_[t],i}function nh(e,t,i){e.insertBefore(t,e.children[i])}function rr(e){e.parentElement&&e.parentElement.removeChild(e)}function ih(e){for(;e.children.length>0;)e.removeChild(e.children[0])}function V_(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function sh(e){return e.relatedTarget?e.relatedTarget:"explicitOriginalTarget"in e?e.explicitOriginalTarget:null}function bn(e,t){e.emitter.on("change",i=>{t(i.rawValue)}),t(e.rawValue)}function Qe(e,t,i){bn(e.value(t),i)}const S_="tp";function it(e){return(i,r)=>[S_,"-",e,"v",i?`_${i}`:"",r?`-${r}`:""].join("")}const Fs=it("lbl");function L_(e,t){const i=e.createDocumentFragment();return t.split(`
`).map(a=>e.createTextNode(a)).forEach((a,p)=>{p>0&&i.appendChild(e.createElement("br")),i.appendChild(a)}),i}class M_{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Fs()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Fs("l")),Qe(i.props,"label",p=>{Ct(p)?this.element.classList.add(Fs(void 0,"nol")):(this.element.classList.remove(Fs(void 0,"nol")),V_(r),r.appendChild(L_(t,p)))}),this.element.appendChild(r),this.labelElement=r;const a=t.createElement("div");a.classList.add(Fs("v")),this.element.appendChild(a),this.valueElement=a}}class A_{constructor(t,i){this.props=i.props,this.valueController=i.valueController,this.viewProps=i.valueController.viewProps,this.view=new M_(t,{props:i.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(t){return en(t,null,i=>({label:i.optional.string}),i=>(this.props.set("label",i.label),!0))}exportProps(){return nn(null,{label:this.props.get("label")})}}function T_(){return["veryfirst","first","last","verylast"]}const Ru=it(""),Nu={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class rh{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const i=this.view.element;this.blade.value("positions").emitter.on("change",()=>{T_().forEach(r=>{i.classList.remove(Ru(void 0,Nu[r]))}),this.blade.get("positions").forEach(r=>{i.classList.add(Ru(void 0,Nu[r]))})}),this.viewProps.handleDispose(()=>{rr(i)})}get parent(){return this.parent_}set parent(t){this.parent_=t,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(t){return en(t,null,i=>({disabled:i.required.boolean,hidden:i.required.boolean}),i=>(this.viewProps.importState(i),!0))}exportState(){return nn(null,Object.assign({},this.viewProps.exportState()))}}class D_ extends Ya{get label(){return this.controller.labelController.props.get("label")}set label(t){this.controller.labelController.props.set("label",t)}get title(){var t;return(t=this.controller.buttonController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller.buttonController.props.set("title",t)}on(t,i){const r=i.bind(this);return this.controller.buttonController.emitter.on(t,()=>{r(new So(this))}),this}}function O_(e,t,i){i?e.classList.add(t):e.classList.remove(t)}function is(e,t){return i=>{O_(e,t,i)}}function Ja(e,t){bn(e,i=>{t.textContent=i!=null?i:""})}const Hl=it("btn");class R_{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Hl()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("button");r.classList.add(Hl("b")),i.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const a=t.createElement("div");a.classList.add(Hl("t")),Ja(i.props.value("title"),a),this.buttonElement.appendChild(a)}}class N_{constructor(t,i){this.emitter=new _e,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new R_(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(t){return en(t,null,i=>({title:i.optional.string}),i=>(this.props.set("title",i.title),!0))}exportProps(){return nn(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class Iu extends rh{constructor(t,i){const r=new N_(t,{props:i.buttonProps,viewProps:i.viewProps}),a=new A_(t,{blade:i.blade,props:i.labelProps,valueController:r});super({blade:i.blade,view:a.view,viewProps:i.viewProps}),this.buttonController=r,this.labelController=a}importState(t){return en(t,i=>super.importState(i)&&this.buttonController.importProps(i)&&this.labelController.importProps(i),()=>({}),()=>!0)}exportState(){return nn(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class I_{constructor(t){const[i,r]=t.split("-"),a=i.split(".");this.major=parseInt(a[0],10),this.minor=parseInt(a[1],10),this.patch=parseInt(a[2],10),this.prerelease=r!=null?r:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}const B_=new I_("2.0.0-beta.2");function $t(e){return Object.assign({core:B_},e)}$t({id:"button",type:"blade",accept(e){const t=jt(e,i=>({title:i.required.string,view:i.required.constant("button"),label:i.optional.string}));return t?{params:t}:null},controller(e){return new Iu(e.document,{blade:e.blade,buttonProps:ot.fromObject({title:e.params.title}),labelProps:ot.fromObject({label:e.params.label}),viewProps:e.viewProps})},api(e){return e.controller instanceof Iu?new D_(e.controller):null}});function j_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function F_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function z_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}function $_(e){return $a(e)?"refresh"in e&&typeof e.refresh=="function":!1}function K_(e,t){if(!ao.isBindable(e))throw ve.notBindable();return new ao(e,t)}class U_{constructor(t,i){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=t,this.emitter_=new _e,this.pool_=i,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(t=>this.pool_.createApi(t))}addBinding(t,i,r){const a=r!=null?r:{},p=this.controller_.element.ownerDocument,v=this.pool_.createBinding(p,K_(t,i),a),f=this.pool_.createBindingApi(v);return this.add(f,a.index)}addFolder(t){return F_(this,t)}addButton(t){return j_(this,t)}addTab(t){return z_(this,t)}add(t,i){const r=t.controller;return this.controller_.rack.add(r,i),t}remove(t){this.controller_.rack.remove(t.controller)}addBlade(t){const i=this.controller_.element.ownerDocument,r=this.pool_.createBlade(i,t),a=this.pool_.createApi(r);return this.add(a,t.index)}on(t,i){const r=i.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.children.forEach(t=>{$_(t)&&t.refresh()})}onRackValueChange_(t){const i=t.bladeController,r=this.pool_.createApi(i),a=P_(i.value)?i.value.binding:null;this.emitter_.emit("change",new eh(r,a?a.target.read():i.value.rawValue,t.options.last))}}class Za extends Ya{constructor(t,i){super(t),this.rackApi_=new U_(t.rackController,i)}}class Qa extends rh{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}importState(t){return en(t,i=>super.importState(i),i=>({children:i.required.array(i.required.raw)}),i=>this.rackController.rack.children.every((r,a)=>r.importState(i.children[a])))}exportState(){return nn(()=>super.exportState(),{children:this.rackController.rack.children.map(t=>t.exportState())})}}function fa(e){return"rackController"in e}class H_{constructor(t){this.emitter=new _e,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const i of this.allItems())if(t(i))return i;return null}includes(t){return this.cache_.has(t)}add(t,i){if(this.includes(t))throw ve.shouldNeverHappen();const r=i!==void 0?i:this.items_.length;this.items_.splice(r,0,t),this.cache_.add(t);const a=this.extract_(t);a&&(a.emitter.on("add",this.onSubListAdd_),a.emitter.on("remove",this.onSubListRemove_),a.allItems().forEach(p=>{this.cache_.add(p)})),this.emitter.emit("add",{index:r,item:t,root:this,target:this})}remove(t){const i=this.items_.indexOf(t);if(i<0)return;this.items_.splice(i,1),this.cache_.delete(t);const r=this.extract_(t);r&&(r.allItems().forEach(a=>{this.cache_.delete(a)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:i,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}function q_(e,t){for(let i=0;i<e.length;i++){const r=e[i];if(Qr(r)&&r.value===t)return r}return null}function G_(e){return fa(e)?e.rackController.rack.bcSet_:null}class Y_{constructor(t){var i,r;this.emitter=new _e,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(i=t.blade)!==null&&i!==void 0?i:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=t.viewProps,this.bcSet_=new H_(G_),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,i){var r;(r=t.parent)===null||r===void 0||r.remove(t),t.parent=this,this.bcSet_.add(t,i)}remove(t){t.parent=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(t)}onSetAdd_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,root:i,sender:this}),!i)return;const r=t.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),Qr(r))r.value.emitter.on("change",this.onChildValueChange_);else if(fa(r)){const a=r.rackController.rack;if(a){const p=a.emitter;p.on("layout",this.onRackLayout_),p.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(t){this.updatePositions_();const i=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,root:i,sender:this}),!i)return;const r=t.item;if(Qr(r))r.value.emitter.off("change",this.onChildValueChange_);else if(fa(r)){const a=r.rackController.rack;if(a){const p=a.emitter;p.off("layout",this.onRackLayout_),p.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const t=this.bcSet_.items.filter(a=>!a.viewProps.get("hidden")),i=t[0],r=t[t.length-1];this.bcSet_.items.forEach(a=>{const p=[];a===i&&(p.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&p.push("veryfirst")),a===r&&(p.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&p.push("verylast")),a.blade.set("positions",p)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(i=>i.viewProps.get("disposed")).forEach(i=>{this.bcSet_.remove(i)})}onChildValueChange_(t){const i=q_(this.find(Qr),t.sender);if(!i)throw ve.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:i,options:t.options,sender:this})}onRackLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(t){this.emitter.emit("valuechange",{bladeController:t.bladeController,options:t.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class tc{constructor(t){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=t.element,this.viewProps=t.viewProps;const i=new Y_({blade:t.root?void 0:t.blade,viewProps:t.viewProps});i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.rack=i,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.root||nh(this.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.root||rr(t.bladeController.view.element)}}function oh(){return new ot({positions:Nt([],{equals:Rb})})}class ar extends ot{constructor(t){super(t)}static create(t){const i={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=ot.createCore(i);return new ar(r)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Ct(t)?`${t}px`:"auto"}bindExpandedClass(t,i){const r=()=>{this.styleExpanded?t.classList.add(i):t.classList.remove(i)};Qe(this,"expanded",r),Qe(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function W_(e,t){let i=0;return y_(t,()=>{e.set("expandedHeight",null),e.set("temporaryExpanded",!0),co(t),i=t.clientHeight,e.set("temporaryExpanded",null),co(t)}),i}function Bu(e,t){t.style.height=e.styleHeight}function ec(e,t){e.value("expanded").emitter.on("beforechange",()=>{if(e.set("completed",!1),Ct(e.get("expandedHeight"))){const i=W_(e,t);i>0&&e.set("expandedHeight",i)}e.set("shouldFixHeight",!0),co(t)}),e.emitter.on("change",()=>{Bu(e,t)}),Bu(e,t),t.addEventListener("transitionend",i=>{i.propertyName==="height"&&e.cleanUpTransition()})}class X_ extends Za{constructor(t,i){super(t,i),this.emitter_=new _e,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new __(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(t){this.controller.foldable.set("expanded",t)}get title(){return this.controller.props.get("title")}set title(t){this.controller.props.set("title",t)}get children(){return this.rackApi_.children}addBinding(t,i,r){return this.rackApi_.addBinding(t,i,r)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){return this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,i){const r=i.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.rackApi_.refresh()}}const lh=it("cnt");class J_{constructor(t,i){var r;this.className_=it((r=i.viewName)!==null&&r!==void 0?r:"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),lh()),i.viewProps.bindClassModifiers(this.element),this.foldable_=i.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),Qe(this.foldable_,"completed",is(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),Qe(i.props,"title",C=>{Ct(C)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(this.className_("i")),this.element.appendChild(p);const v=t.createElement("div");v.classList.add(this.className_("t")),Ja(i.props.value("title"),v),this.buttonElement.appendChild(v),this.titleElement=v;const f=t.createElement("div");f.classList.add(this.className_("m")),this.buttonElement.appendChild(f);const w=t.createElement("div");w.classList.add(this.className_("c")),this.element.appendChild(w),this.containerElement=w}}class ju extends Qa{constructor(t,i){var r;const a=ar.create((r=i.expanded)!==null&&r!==void 0?r:!0),p=new J_(t,{foldable:a,props:i.props,viewName:i.root?"rot":void 0,viewProps:i.viewProps});super(Object.assign(Object.assign({},i),{rackController:new tc({blade:i.blade,element:p.containerElement,root:i.root,viewProps:i.viewProps}),view:p})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=i.props,this.foldable=a,ec(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(t){return en(t,i=>super.importState(i),i=>({expanded:i.required.boolean,title:i.optional.string}),i=>(this.foldable.set("expanded",i.expanded),this.props.set("title",i.title),!0))}exportState(){return nn(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}$t({id:"folder",type:"blade",accept(e){const t=jt(e,i=>({title:i.required.string,view:i.required.constant("folder"),expanded:i.optional.boolean}));return t?{params:t}:null},controller(e){return new ju(e.document,{blade:e.blade,expanded:e.params.expanded,props:ot.fromObject({title:e.params.title}),viewProps:e.viewProps})},api(e){return e.controller instanceof ju?new X_(e.controller,e.pool):null}});const Z_=it("");function Fu(e,t){return is(e,Z_(void 0,t))}class cr extends ot{constructor(t){var i;super(t),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=zb(Nt(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(i=this.get("parent"))===null||i===void 0||i.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(t){var i,r,a;const p=t!=null?t:{};return new cr(ot.createCore({disabled:(i=p.disabled)!==null&&i!==void 0?i:!1,disposed:!1,hidden:(r=p.hidden)!==null&&r!==void 0?r:!1,parent:(a=p.parent)!==null&&a!==void 0?a:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(t){bn(this.globalDisabled_,Fu(t,"disabled")),Qe(this,"hidden",Fu(t,"hidden"))}bindDisabled(t){bn(this.globalDisabled_,i=>{t.disabled=i})}bindTabIndex(t){bn(this.globalDisabled_,i=>{t.tabIndex=i?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",i=>{i&&t()})}importState(t){this.set("disabled",t.disabled),this.set("hidden",t.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const t=this.get("parent");return(t?t.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(t){var i;const r=t.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(i=this.get("parent"))===null||i===void 0||i.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const zu=it("tbp");class Q_{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(zu()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(zu("c")),this.element.appendChild(r),this.containerElement=r}}const zs=it("tbi");class tw{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(zs()),i.viewProps.bindClassModifiers(this.element),Qe(i.props,"selected",p=>{p?this.element.classList.add(zs(void 0,"sel")):this.element.classList.remove(zs(void 0,"sel"))});const r=t.createElement("button");r.classList.add(zs("b")),i.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const a=t.createElement("div");a.classList.add(zs("t")),Ja(i.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a}}class ew{constructor(t,i){this.emitter=new _e,this.onClick_=this.onClick_.bind(this),this.props=i.props,this.viewProps=i.viewProps,this.view=new tw(t,{props:i.props,viewProps:i.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ba extends Qa{constructor(t,i){const r=new Q_(t,{viewProps:i.viewProps});super(Object.assign(Object.assign({},i),{rackController:new tc({blade:i.blade,element:r.containerElement,viewProps:i.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ew(t,{props:i.itemProps,viewProps:cr.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=i.props,Qe(this.props,"selected",a=>{this.itemController.props.set("selected",a),this.viewProps.set("hidden",!a)})}get itemController(){return this.ic_}importState(t){return en(t,i=>super.importState(i),i=>({selected:i.required.boolean,title:i.required.string}),i=>(this.ic_.props.set("selected",i.selected),this.ic_.props.set("title",i.title),!0))}exportState(){return nn(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class nw extends Za{constructor(t,i){super(t,i),this.emitter_=new _e,this.onSelect_=this.onSelect_.bind(this),this.pool_=i,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(t){const i=this.controller.view.element.ownerDocument,r=new ba(i,{blade:oh(),itemProps:ot.fromObject({selected:!1,title:t.title}),props:ot.fromObject({selected:!1}),viewProps:cr.create()}),a=this.pool_.createApi(r);return this.rackApi_.add(a,t.index)}removePage(t){this.rackApi_.remove(this.rackApi_.children[t])}on(t,i){const r=i.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}onSelect_(t){this.emitter_.emit("select",new w_(this,t.rawValue))}}class iw extends Za{get title(){var t;return(t=this.controller.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller.itemController.props.set("title",t)}get selected(){return this.controller.props.get("selected")}set selected(t){this.controller.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,i){this.rackApi_.add(t,i)}remove(t){this.rackApi_.remove(t)}addBinding(t,i,r){return this.rackApi_.addBinding(t,i,r)}addBlade(t){return this.rackApi_.addBlade(t)}refresh(){this.rackApi_.refresh()}}const $u=-1;class sw{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Nt(!0),this.selectedIndex=Nt($u),this.items_=[]}add(t,i){const r=i!=null?i:this.items_.length;this.items_.splice(r,0,t),t.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(t){const i=this.items_.indexOf(t);i<0||(this.items_.splice(i,1),t.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=$u,this.empty.rawValue=!0;return}const t=this.items_.findIndex(i=>i.rawValue);t<0?(this.items_.forEach((i,r)=>{i.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((i,r)=>{i.rawValue=r===t}),this.selectedIndex.rawValue=t),this.empty.rawValue=!1}onItemSelectedChange_(t){if(t.rawValue){const i=this.items_.findIndex(r=>r===t.sender);this.items_.forEach((r,a)=>{r.rawValue=a===i}),this.selectedIndex.rawValue=i}else this.keepSelection_()}}const $s=it("tab");class rw{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add($s(),lh()),i.viewProps.bindClassModifiers(this.element),bn(i.empty,is(this.element,$s(void 0,"nop")));const r=t.createElement("div");r.classList.add($s("t")),this.element.appendChild(r),this.itemsElement=r;const a=t.createElement("div");a.classList.add($s("i")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add($s("c")),this.element.appendChild(p),this.contentsElement=p}}class Ku extends Qa{constructor(t,i){const r=new sw,a=new rw(t,{empty:r.empty,viewProps:i.viewProps});super({blade:i.blade,rackController:new tc({blade:i.blade,element:a.contentsElement,viewProps:i.viewProps}),view:a}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const p=this.rackController.rack;p.emitter.on("add",this.onRackAdd_),p.emitter.on("remove",this.onRackRemove_),this.tab=r}add(t,i){this.rackController.rack.add(t,i)}remove(t){this.rackController.rack.remove(this.rackController.rack.children[t])}onRackAdd_(t){if(!t.root)return;const i=t.bladeController;nh(this.view.itemsElement,i.itemController.view.element,t.index),i.itemController.viewProps.set("parent",this.viewProps),this.tab.add(i.props.value("selected"))}onRackRemove_(t){if(!t.root)return;const i=t.bladeController;rr(i.itemController.view.element),i.itemController.viewProps.set("parent",null),this.tab.remove(i.props.value("selected"))}}$t({id:"tab",type:"blade",accept(e){const t=jt(e,i=>({pages:i.required.array(i.required.object({title:i.required.string})),view:i.required.constant("tab")}));return!t||t.pages.length===0?null:{params:t}},controller(e){const t=new Ku(e.document,{blade:e.blade,viewProps:e.viewProps});return e.params.pages.forEach(i=>{const r=new ba(e.document,{blade:oh(),itemProps:ot.fromObject({selected:!1,title:i.title}),props:ot.fromObject({selected:!1}),viewProps:cr.create()});t.add(r)}),t},api(e){return e.controller instanceof Ku?new nw(e.controller,e.pool):e.controller instanceof ba?new iw(e.controller,e.pool):null}});class nc extends Wa{get options(){return this.controller.valueController.props.get("options")}set options(t){this.controller.valueController.props.set("options",t)}}class ss{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((i,r)=>r.constrain(i),t)}}function uo(e,t){if(e instanceof t)return e;if(e instanceof ss){const i=e.constraints.reduce((r,a)=>r||(a instanceof t?a:null),null);if(i)return i}return null}class Mo{constructor(t){this.values=ot.fromObject({options:t})}constrain(t){const i=this.values.get("options");return i.length===0||i.filter(a=>a.value===t).length>0?t:i[0].value}}function Ao(e){var t;const i=va;if(Array.isArray(e))return(t=jt({items:e},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||t===void 0?void 0:t.items;if(typeof e=="object")return i.required.raw(e).value}function ah(e){if(Array.isArray(e))return e;const t=[];return Object.keys(e).forEach(i=>{t.push({text:i,value:e[i]})}),t}function ic(e){return Ct(e)?null:new Mo(ah(e))}const ql=it("lst");class ow{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.props_=i.props,this.element=t.createElement("div"),this.element.classList.add(ql()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("select");r.classList.add(ql("s")),i.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const a=t.createElement("div");a.classList.add(ql("m")),a.appendChild(Lo(t,"dropdown")),this.element.appendChild(a),i.value.emitter.on("change",this.onValueChange_),this.value_=i.value,Qe(this.props_,"options",p=>{ih(this.selectElement),p.forEach(v=>{const f=t.createElement("option");f.textContent=v.text,this.selectElement.appendChild(f)}),this.update_()})}update_(){const t=this.props_.get("options").map(i=>i.value);this.selectElement.selectedIndex=t.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Ji{constructor(t,i){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new ow(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const i=t.currentTarget;this.value.rawValue=this.props.get("options")[i.selectedIndex].value}importProps(t){return en(t,null,i=>({options:i.required.custom(Ao)}),i=>(this.props.set("options",ah(i.options)),!0))}exportProps(){return nn(null,{options:this.props.get("options")})}}const Uu=it("pop");class lw{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Uu()),i.viewProps.bindClassModifiers(this.element),bn(i.shows,is(this.element,Uu(void 0,"v")))}}class ch{constructor(t,i){this.shows=Nt(!1),this.viewProps=i.viewProps,this.view=new lw(t,{shows:this.shows,viewProps:this.viewProps})}}const Hu=it("txt");class aw{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Hu()),i.viewProps.bindClassModifiers(this.element),this.props_=i.props,this.props_.emitter.on("change",this.onChange_);const r=t.createElement("input");r.classList.add(Hu("i")),r.type="text",i.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,i.value.emitter.on("change",this.onChange_),this.value_=i.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class sc{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=i.parser,this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new aw(t,{props:i.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const r=t.currentTarget.value,a=this.parser_(r);Ct(a)||(this.value.rawValue=a),this.view.refresh()}}function cw(e){return String(e)}function uh(e){return e==="false"?!1:!!e}function qu(e){return cw(e)}function uw(e){return t=>e.reduce((i,r)=>i!==null?i:r(t),null)}const pw=Jt(0);function po(e){return pw(e)+"%"}function ph(e){return String(e)}function _a(e){return e}function rs({primary:e,secondary:t,forward:i,backward:r}){let a=!1;function p(v){a||(a=!0,v(),a=!1)}e.emitter.on("change",v=>{p(()=>{t.setRawValue(i(e.rawValue,t.rawValue),v.options)})}),t.emitter.on("change",v=>{p(()=>{e.setRawValue(r(e.rawValue,t.rawValue),v.options)}),p(()=>{t.setRawValue(i(e.rawValue,t.rawValue),v.options)})}),p(()=>{t.setRawValue(i(e.rawValue,t.rawValue),{forceEmit:!1,last:!0})})}function ae(e,t){const i=e*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+i:t.downKey?-i:0}function or(e){return{altKey:e.altKey,downKey:e.key==="ArrowDown",shiftKey:e.shiftKey,upKey:e.key==="ArrowUp"}}function wn(e){return{altKey:e.altKey,downKey:e.key==="ArrowLeft",shiftKey:e.shiftKey,upKey:e.key==="ArrowRight"}}function hw(e){return e==="ArrowUp"||e==="ArrowDown"}function hh(e){return hw(e)||e==="ArrowLeft"||e==="ArrowRight"}function Gl(e,t){var i,r;const a=t.ownerDocument.defaultView,p=t.getBoundingClientRect();return{x:e.pageX-(((i=a&&a.scrollX)!==null&&i!==void 0?i:0)+p.left),y:e.pageY-(((r=a&&a.scrollY)!==null&&r!==void 0?r:0)+p.top)}}class Hn{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new _e,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const i=this.elem_.getBoundingClientRect();return{bounds:{width:i.width,height:i.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var i;t.preventDefault(),(i=t.currentTarget)===null||i===void 0||i.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const i=this.elem_.ownerDocument;i.removeEventListener("mousemove",this.onDocumentMouseMove_),i.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const i=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-r.left,y:i.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchMove_(t){const i=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-r.left,y:i.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=i}onTouchEnd_(t){var i;const r=(i=t.targetTouches.item(0))!==null&&i!==void 0?i:this.lastTouch_,a=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(r?{x:r.clientX-a.left,y:r.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey})}}const ke=it("txt");class dw{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(ke(),ke(void 0,"num")),i.arrayPosition&&this.element.classList.add(ke(void 0,i.arrayPosition)),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(ke("i")),r.type="text",i.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=i.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ke()),this.inputElement.classList.add(ke("i"));const a=t.createElement("div");a.classList.add(ke("k")),this.element.appendChild(a),this.knobElement=a;const p=t.createElementNS(fe,"svg");p.classList.add(ke("g")),this.knobElement.appendChild(p);const v=t.createElementNS(fe,"path");v.classList.add(ke("gb")),p.appendChild(v),this.guideBodyElem_=v;const f=t.createElementNS(fe,"path");f.classList.add(ke("gh")),p.appendChild(f),this.guideHeadElem_=f;const w=t.createElement("div");w.classList.add(it("tt")()),this.knobElement.appendChild(w),this.tooltipElem_=w,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(ke(void 0,"drg"));return}this.element.classList.add(ke(void 0,"drg"));const i=t.rawValue/this.props_.get("pointerScale"),r=i+(i>0?-1:i<0?1:0),a=Dt(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+a},0 L${r},4 L${r+a},8`,`M ${i},-1 L${i},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${i},4`);const p=this.props_.get("formatter");this.tooltipElem_.textContent=p(this.value.rawValue),this.tooltipElem_.style.left=`${i}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class os{constructor(t,i){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=i.parser,this.props=i.props,this.sliderProps_=(r=i.sliderProps)!==null&&r!==void 0?r:null,this.value=i.value,this.viewProps=i.viewProps,this.dragging_=Nt(null),this.view=new dw(t,{arrayPosition:i.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new Hn(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}constrainValue_(t){var i,r;const a=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("min"),p=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let v=t;return a!==void 0&&(v=Math.max(v,a)),p!==void 0&&(v=Math.min(v,p)),v}onInputChange_(t){const r=t.currentTarget.value,a=this.parser_(r);Ct(a)||(this.value.rawValue=this.constrainValue_(a)),this.view.refresh()}onInputKeyDown_(t){const i=ae(this.props.get("keyScale"),or(t));i!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+i),{forceEmit:!1,last:!1})}onInputKeyUp_(t){ae(this.props.get("keyScale"),or(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const i=t.point.x-t.bounds.width/2;return this.constrainValue_(this.originRawValue_+i*this.props.get("pointerScale"))}onPointerMove_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const i=this.computeDraggingValue_(t.data);i!==null&&(this.value.setRawValue(i,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Yl=it("sld");class mw{constructor(t,i){this.onChange_=this.onChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Yl()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Yl("t")),i.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const a=t.createElement("div");a.classList.add(Yl("k")),this.trackElement.appendChild(a),this.knobElement=a,i.value.emitter.on("change",this.onChange_),this.value=i.value,this.update_()}update_(){const t=Dt(dt(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class vw{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.props=i.props,this.view=new mw(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){!t.point||this.value.setRawValue(dt(Dt(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("min"),this.props.get("max")),i)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ae(this.props.get("keyScale"),wn(t));i!==0&&this.value.setRawValue(this.value.rawValue+i,{forceEmit:!1,last:!1})}onKeyUp_(t){ae(this.props.get("keyScale"),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Wl=it("sldtxt");class fw{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Wl());const r=t.createElement("div");r.classList.add(Wl("s")),this.sliderView_=i.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Wl("t")),this.textView_=i.textView,a.appendChild(this.textView_.element),this.element.appendChild(a)}}class Gu{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.sliderC_=new vw(t,{props:i.sliderProps,value:i.value,viewProps:this.viewProps}),this.textC_=new os(t,{parser:i.parser,props:i.textProps,sliderProps:i.sliderProps,value:i.value,viewProps:i.viewProps}),this.view=new fw(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(t){return en(t,null,i=>({max:i.required.number,min:i.required.number}),i=>{const r=this.sliderC_.props;return r.set("max",i.max),r.set("min",i.min),!0})}exportProps(){const t=this.sliderC_.props;return nn(null,{max:t.get("max"),min:t.get("min")})}}function bw(e){return{sliderProps:new ot({keyScale:e.keyScale,max:e.max,min:e.min}),textProps:new ot({formatter:Nt(e.formatter),keyScale:e.keyScale,pointerScale:Nt(e.pointerScale)})}}const _w={containerUnitSize:"cnt-usz"};function dh(e){return`--${_w[e]}`}function lr(e){return Vo(e)}function Fn(e){if(!!da(e))return jt(e,lr)}function fn(e,t){if(!e)return;const i=[],r=Ha(e,t);r&&i.push(r);const a=qa(e);return a&&i.push(a),new ss(i)}function mh(e){if(e==="inline"||e==="popup")return e}function Ci(e,t){e.write(t)}const Yr=it("ckb");class ww{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Yr()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("label");r.classList.add(Yr("l")),this.element.appendChild(r);const a=t.createElement("input");a.classList.add(Yr("i")),a.type="checkbox",r.appendChild(a),this.inputElement=a,i.viewProps.bindDisabled(this.inputElement);const p=t.createElement("div");p.classList.add(Yr("w")),r.appendChild(p);const v=Lo(t,"check");p.appendChild(v),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class gw{constructor(t,i){this.onInputChange_=this.onInputChange_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new ww(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const i=t.currentTarget;this.value.rawValue=i.checked}}function Cw(e){const t=[],i=ic(e.options);return i&&t.push(i),new ss(t)}$t({id:"input-bool",type:"input",accept:(e,t)=>{if(typeof e!="boolean")return null;const i=jt(t,r=>({options:r.optional.custom(Ao),readonly:r.optional.constant(!1)}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>uh,constraint:e=>Cw(e.params),writer:e=>Ci},controller:e=>{const t=e.document,i=e.value,r=e.constraint,a=r&&uo(r,Mo);return a?new Ji(t,{props:new ot({options:a.values.value("options")}),value:i,viewProps:e.viewProps}):new gw(t,{value:i,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="boolean"?null:e.controller.valueController instanceof Ji?new nc(e.controller):null}});const di=it("col");class xw{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(di()),i.foldable.bindExpandedClass(this.element,di(void 0,"expanded")),Qe(i.foldable,"completed",is(this.element,di(void 0,"cpl")));const r=t.createElement("div");r.classList.add(di("h")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(di("s")),r.appendChild(a),this.swatchElement=a;const p=t.createElement("div");if(p.classList.add(di("t")),r.appendChild(p),this.textElement=p,i.pickerLayout==="inline"){const v=t.createElement("div");v.classList.add(di("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}function Pw(e,t,i){const r=Dt(e/255,0,1),a=Dt(t/255,0,1),p=Dt(i/255,0,1),v=Math.max(r,a,p),f=Math.min(r,a,p),w=v-f;let C=0,k=0;const E=(f+v)/2;return w!==0&&(k=w/(1-Math.abs(v+f-1)),r===v?C=(a-p)/w:a===v?C=2+(p-r)/w:C=4+(r-a)/w,C=C/6+(C<0?1:0)),[C*360,k*100,E*100]}function yw(e,t,i){const r=(e%360+360)%360,a=Dt(t/100,0,1),p=Dt(i/100,0,1),v=(1-Math.abs(2*p-1))*a,f=v*(1-Math.abs(r/60%2-1)),w=p-v/2;let C,k,E;return r>=0&&r<60?[C,k,E]=[v,f,0]:r>=60&&r<120?[C,k,E]=[f,v,0]:r>=120&&r<180?[C,k,E]=[0,v,f]:r>=180&&r<240?[C,k,E]=[0,f,v]:r>=240&&r<300?[C,k,E]=[f,0,v]:[C,k,E]=[v,0,f],[(C+w)*255,(k+w)*255,(E+w)*255]}function Ew(e,t,i){const r=Dt(e/255,0,1),a=Dt(t/255,0,1),p=Dt(i/255,0,1),v=Math.max(r,a,p),f=Math.min(r,a,p),w=v-f;let C;w===0?C=0:v===r?C=60*(((a-p)/w%6+6)%6):v===a?C=60*((p-r)/w+2):C=60*((r-a)/w+4);const k=v===0?0:w/v,E=v;return[C,k*100,E*100]}function vh(e,t,i){const r=Qp(e,360),a=Dt(t/100,0,1),p=Dt(i/100,0,1),v=p*a,f=v*(1-Math.abs(r/60%2-1)),w=p-v;let C,k,E;return r>=0&&r<60?[C,k,E]=[v,f,0]:r>=60&&r<120?[C,k,E]=[f,v,0]:r>=120&&r<180?[C,k,E]=[0,v,f]:r>=180&&r<240?[C,k,E]=[0,f,v]:r>=240&&r<300?[C,k,E]=[f,0,v]:[C,k,E]=[v,0,f],[(C+w)*255,(k+w)*255,(E+w)*255]}function kw(e,t,i){const r=i+t*(100-Math.abs(2*i-100))/200;return[e,r!==0?t*(100-Math.abs(2*i-100))/r:0,i+t*(100-Math.abs(2*i-100))/(2*100)]}function Vw(e,t,i){const r=100-Math.abs(i*(200-t)/100-100);return[e,r!==0?t*i/r:0,i*(200-t)/(2*100)]}function tn(e){return[e[0],e[1],e[2]]}function To(e,t){return[e[0],e[1],e[2],t]}const Sw={hsl:{hsl:(e,t,i)=>[e,t,i],hsv:kw,rgb:yw},hsv:{hsl:Vw,hsv:(e,t,i)=>[e,t,i],rgb:vh},rgb:{hsl:Pw,hsv:Ew,rgb:(e,t,i)=>[e,t,i]}};function Zi(e,t){return[t==="float"?1:e==="rgb"?255:360,t==="float"?1:e==="rgb"?255:100,t==="float"?1:e==="rgb"?255:100]}function Lw(e,t){return e===t?t:Qp(e,t)}function fh(e,t,i){var r;const a=Zi(t,i);return[t==="rgb"?Dt(e[0],0,a[0]):Lw(e[0],a[0]),Dt(e[1],0,a[1]),Dt(e[2],0,a[2]),Dt((r=e[3])!==null&&r!==void 0?r:1,0,1)]}function Yu(e,t,i,r){const a=Zi(t,i),p=Zi(t,r);return e.map((v,f)=>v/a[f]*p[f])}function bh(e,t,i){const r=Yu(e,t.mode,t.type,"int"),a=Sw[t.mode][i.mode](...r);return Yu(a,i.mode,"int",i.type)}class at{static black(){return new at([0,0,0],"rgb")}constructor(t,i){this.type="int",this.mode=i,this.comps_=fh(t,i,this.type)}getComponents(t){return To(bh(tn(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const Nn=it("colp");class Mw{constructor(t,i){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(Nn()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Nn("hsv"));const a=t.createElement("div");a.classList.add(Nn("sv")),this.svPaletteView_=i.svPaletteView,a.appendChild(this.svPaletteView_.element),r.appendChild(a);const p=t.createElement("div");p.classList.add(Nn("h")),this.hPaletteView_=i.hPaletteView,p.appendChild(this.hPaletteView_.element),r.appendChild(p),this.element.appendChild(r);const v=t.createElement("div");if(v.classList.add(Nn("rgb")),this.textsView_=i.textsView,v.appendChild(this.textsView_.element),this.element.appendChild(v),i.alphaViews){this.alphaViews_={palette:i.alphaViews.palette,text:i.alphaViews.text};const f=t.createElement("div");f.classList.add(Nn("a"));const w=t.createElement("div");w.classList.add(Nn("ap")),w.appendChild(this.alphaViews_.palette.element),f.appendChild(w);const C=t.createElement("div");C.classList.add(Nn("at")),C.appendChild(this.alphaViews_.text.element),f.appendChild(C),this.element.appendChild(f)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(i=>i.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function Aw(e){return e==="int"?"int":e==="float"?"float":void 0}function rc(e){return jt(e,t=>({color:t.optional.object({alpha:t.optional.boolean,type:t.optional.custom(Aw)}),expanded:t.optional.boolean,picker:t.optional.custom(mh),readonly:t.optional.constant(!1)}))}function gi(e){return e?.1:1}function _h(e){var t;return(t=e.color)===null||t===void 0?void 0:t.type}class oc{constructor(t,i){this.type="float",this.mode=i,this.comps_=fh(t,i,this.type)}getComponents(t){return To(bh(tn(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const Tw={int:(e,t)=>new at(e,t),float:(e,t)=>new oc(e,t)};function lc(e,t,i){return Tw[i](e,t)}function Dw(e){return e.type==="float"}function Ow(e){return e.type==="int"}function Rw(e){const t=e.getComponents(),i=Zi(e.mode,"int");return new at([Math.round(dt(t[0],0,1,0,i[0])),Math.round(dt(t[1],0,1,0,i[1])),Math.round(dt(t[2],0,1,0,i[2])),t[3]],e.mode)}function Nw(e){const t=e.getComponents(),i=Zi(e.mode,"int");return new oc([dt(t[0],0,i[0],0,1),dt(t[1],0,i[1],0,1),dt(t[2],0,i[2],0,1),t[3]],e.mode)}function ee(e,t){if(e.type===t)return e;if(Ow(e)&&t==="float")return Nw(e);if(Dw(e)&&t==="int")return Rw(e);throw ve.shouldNeverHappen()}function Iw(e,t){return e.alpha===t.alpha&&e.mode===t.mode&&e.notation===t.notation&&e.type===t.type}function Ve(e,t){const i=e.match(/^(.+)%$/);return Math.min(i?parseFloat(i[1])*.01*t:parseFloat(e),t)}const Bw={deg:e=>e,grad:e=>e*360/400,rad:e=>e*360/(2*Math.PI),turn:e=>e*360};function wh(e){const t=e.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(e);const i=parseFloat(t[1]),r=t[2];return Bw[r](i)}function gh(e){const t=e.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ve(t[1],255),Ve(t[2],255),Ve(t[3],255)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function jw(e){const t=gh(e);return t?new at(t,"rgb"):null}function Ch(e){const t=e.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[Ve(t[1],255),Ve(t[2],255),Ve(t[3],255),Ve(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:i}function Fw(e){const t=Ch(e);return t?new at(t,"rgb"):null}function xh(e){const t=e.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[wh(t[1]),Ve(t[2],100),Ve(t[3],100)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function zw(e){const t=xh(e);return t?new at(t,"hsl"):null}function Ph(e){const t=e.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const i=[wh(t[1]),Ve(t[2],100),Ve(t[3],100),Ve(t[4],1)];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:i}function $w(e){const t=Ph(e);return t?new at(t,"hsl"):null}function yh(e){const t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const i=e.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:null}function Kw(e){const t=yh(e);return t?new at(t,"rgb"):null}function Eh(e){const t=e.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),dt(parseInt(t[4]+t[4],16),0,255,0,1)];const i=e.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),dt(parseInt(i[4],16),0,255,0,1)]:null}function Uw(e){const t=Eh(e);return t?new at(t,"rgb"):null}function kh(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const i=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Wu(e){return t=>{const i=kh(t);return i?lc(i,"rgb",e):null}}function Vh(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const i=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(i[0])||isNaN(i[1])||isNaN(i[2])||isNaN(i[3])?null:i}function Xu(e){return t=>{const i=Vh(t);return i?lc(i,"rgb",e):null}}const Hw=[{parser:yh,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Eh,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:gh,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Ch,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:xh,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Ph,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:kh,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Vh,result:{alpha:!0,mode:"rgb",notation:"object"}}];function qw(e){return Hw.reduce((t,{parser:i,result:r})=>t||(i(e)?r:null),null)}function Gw(e,t="int"){const i=qw(e);return i?i.notation==="hex"&&t!=="float"?Object.assign(Object.assign({},i),{type:"int"}):i.notation==="func"?Object.assign(Object.assign({},i),{type:t}):null:null}function ur(e){const t=[Kw,Uw,jw,Fw,zw,$w];e==="int"&&t.push(Wu("int"),Xu("int")),e==="float"&&t.push(Wu("float"),Xu("float"));const i=uw(t);return r=>{const a=i(r);return a?ee(a,e):null}}function Yw(e){const t=ur("int");if(typeof e!="string")return at.black();const i=t(e);return i!=null?i:at.black()}function Sh(e){const t=Dt(Math.floor(e),0,255).toString(16);return t.length===1?`0${t}`:t}function ac(e,t="#"){const i=tn(e.getComponents("rgb")).map(Sh).join("");return`${t}${i}`}function cc(e,t="#"){const i=e.getComponents("rgb"),r=[i[0],i[1],i[2],i[3]*255].map(Sh).join("");return`${t}${r}`}function Lh(e){const t=Jt(0),i=ee(e,"int");return`rgb(${tn(i.getComponents("rgb")).map(a=>t(a)).join(", ")})`}function to(e){const t=Jt(2),i=Jt(0);return`rgba(${ee(e,"int").getComponents("rgb").map((p,v)=>(v===3?t:i)(p)).join(", ")})`}function Ww(e){const t=[Jt(0),po,po],i=ee(e,"int");return`hsl(${tn(i.getComponents("hsl")).map((a,p)=>t[p](a)).join(", ")})`}function Xw(e){const t=[Jt(0),po,po,Jt(2)];return`hsla(${ee(e,"int").getComponents("hsl").map((a,p)=>t[p](a)).join(", ")})`}function Mh(e,t){const i=Jt(t==="float"?2:0),r=["r","g","b"],a=ee(e,t);return`{${tn(a.getComponents("rgb")).map((v,f)=>`${r[f]}: ${i(v)}`).join(", ")}}`}function Jw(e){return t=>Mh(t,e)}function Ah(e,t){const i=Jt(2),r=Jt(t==="float"?2:0),a=["r","g","b","a"];return`{${ee(e,t).getComponents("rgb").map((f,w)=>{const C=w===3?i:r;return`${a[w]}: ${C(f)}`}).join(", ")}}`}function Zw(e){return t=>Ah(t,e)}const Qw=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:ac},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:cc},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Lh},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:to},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Ww},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Xw},...["int","float"].reduce((e,t)=>[...e,{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:Jw(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:Zw(t)}],[])];function Th(e){return Qw.reduce((t,i)=>t||(Iw(i.format,e)?i.stringifier:null),null)}const Ks=it("apl");class tg{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ks()),i.viewProps.bindClassModifiers(this.element),i.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Ks("b")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Ks("c")),r.appendChild(a),this.colorElem_=a;const p=t.createElement("div");p.classList.add(Ks("m")),this.element.appendChild(p),this.markerElem_=p;const v=t.createElement("div");v.classList.add(Ks("p")),this.markerElem_.appendChild(v),this.previewElem_=v,this.update_()}update_(){const t=this.value.rawValue,i=t.getComponents("rgb"),r=new at([i[0],i[1],i[2],0],"rgb"),a=new at([i[0],i[1],i[2],255],"rgb"),p=["to right",to(r),to(a)];this.colorElem_.style.background=`linear-gradient(${p.join(",")})`,this.previewElem_.style.backgroundColor=to(t);const v=dt(i[3],0,1,0,100);this.markerElem_.style.left=`${v}%`}onValueChange_(){this.update_()}}class eg{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new tg(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const r=t.point.x/t.bounds.width,a=this.value.rawValue,[p,v,f]=a.getComponents("hsv");this.value.setRawValue(new at([p,v,f,r],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ae(gi(!0),wn(t));if(i===0)return;const r=this.value.rawValue,[a,p,v,f]=r.getComponents("hsv");this.value.setRawValue(new at([a,p,v,f+i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ae(gi(!0),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const ji=it("coltxt");function ng(e){const t=e.createElement("select"),i=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return t.appendChild(i.reduce((r,a)=>{const p=e.createElement("option");return p.textContent=a.text,p.value=a.value,r.appendChild(p),r},e.createDocumentFragment())),t}class ig{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(ji()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(ji("m")),this.modeElem_=ng(t),this.modeElem_.classList.add(ji("ms")),r.appendChild(this.modeSelectElement),i.viewProps.bindDisabled(this.modeElem_);const a=t.createElement("div");a.classList.add(ji("mm")),a.appendChild(Lo(t,"dropdown")),r.appendChild(a),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(ji("w")),this.element.appendChild(p),this.inputsElem_=p,this.inputViews_=i.inputViews,this.applyInputViews_(),bn(i.mode,v=>{this.modeElem_.value=v})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(t){this.inputViews_=t,this.applyInputViews_()}applyInputViews_(){ih(this.inputsElem_);const t=this.element.ownerDocument;this.inputViews_.forEach(i=>{const r=t.createElement("div");r.classList.add(ji("c")),r.appendChild(i.element),this.inputsElem_.appendChild(r)})}}function sg(e){return Jt(e==="float"?2:0)}function rg(e,t,i){const r=Zi(e,t)[i];return new yo({min:0,max:r})}function og(e,t,i){return new os(e,{arrayPosition:i===0?"fst":i===3-1?"lst":"mid",parser:t.parser,props:ot.fromObject({formatter:sg(t.colorType),keyScale:gi(!1),pointerScale:t.colorType==="float"?.01:1}),value:Nt(0,{constraint:rg(t.colorMode,t.colorType,i)}),viewProps:t.viewProps})}function lg(e,t){const i={colorMode:t.colorMode,colorType:t.colorType,parser:Ze,viewProps:t.viewProps};return[0,1,2].map(r=>{const a=og(e,i,r);return rs({primary:t.value,secondary:a.value,forward(p){return ee(p,t.colorType).getComponents(t.colorMode)[r]},backward(p,v){const f=t.colorMode,C=ee(p,t.colorType).getComponents(f);C[r]=v;const k=lc(To(tn(C),C[3]),f,t.colorType);return ee(k,"int")}}),a})}function ag(e,t){const i=new sc(e,{parser:ur("int"),props:ot.fromObject({formatter:ac}),value:Nt(at.black()),viewProps:t.viewProps});return rs({primary:t.value,secondary:i.value,forward:r=>new at(tn(r.getComponents()),r.mode),backward:(r,a)=>new at(To(tn(a.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[i]}function cg(e){return e!=="hex"}class ug{constructor(t,i){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=i.colorType,this.value=i.value,this.viewProps=i.viewProps,this.colorMode=Nt(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new ig(t,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const i=this.colorMode.rawValue;return cg(i)?lg(t,{colorMode:i,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):ag(t,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(t){const i=t.currentTarget;this.colorMode.rawValue=i.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const Xl=it("hpl");class pg{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Xl()),i.viewProps.bindClassModifiers(this.element),i.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Xl("c")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Xl("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=this.value.rawValue,[i]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Lh(new at([i,100,100],"hsv"));const r=dt(i,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class hg{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new pg(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const r=dt(Dt(t.point.x,0,t.bounds.width),0,t.bounds.width,0,360),a=this.value.rawValue,[,p,v,f]=a.getComponents("hsv");this.value.setRawValue(new at([r,p,v,f],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const i=ae(gi(!1),wn(t));if(i===0)return;const r=this.value.rawValue,[a,p,v,f]=r.getComponents("hsv");this.value.setRawValue(new at([a+i,p,v,f],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ae(gi(!1),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Jl=it("svp"),Ju=64;class dg{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Jl()),i.viewProps.bindClassModifiers(this.element),i.viewProps.bindTabIndex(this.element);const r=t.createElement("canvas");r.height=Ju,r.width=Ju,r.classList.add(Jl("c")),this.element.appendChild(r),this.canvasElement=r;const a=t.createElement("div");a.classList.add(Jl("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=E_(this.canvasElement);if(!t)return;const r=this.value.rawValue.getComponents("hsv"),a=this.canvasElement.width,p=this.canvasElement.height,v=t.getImageData(0,0,a,p),f=v.data;for(let k=0;k<p;k++)for(let E=0;E<a;E++){const R=dt(E,0,a,0,100),G=dt(k,0,p,100,0),mt=vh(r[0],R,G),I=(k*a+E)*4;f[I]=mt[0],f[I+1]=mt[1],f[I+2]=mt[2],f[I+3]=255}t.putImageData(v,0,0);const w=dt(r[1],0,100,0,100);this.markerElem_.style.left=`${w}%`;const C=dt(r[2],0,100,100,0);this.markerElem_.style.top=`${C}%`}onValueChange_(){this.update_()}}class mg{constructor(t,i){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.view=new dg(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const r=dt(t.point.x,0,t.bounds.width,0,100),a=dt(t.point.y,0,t.bounds.height,100,0),[p,,,v]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new at([p,r,a,v],"hsv"),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){hh(t.key)&&t.preventDefault();const[i,r,a,p]=this.value.rawValue.getComponents("hsv"),v=gi(!1),f=ae(v,wn(t)),w=ae(v,or(t));f===0&&w===0||this.value.setRawValue(new at([i,r+f,a+w,p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const i=gi(!1),r=ae(i,wn(t)),a=ae(i,or(t));r===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class vg{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.hPaletteC_=new hg(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new mg(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=i.supportsAlpha?{palette:new eg(t,{value:this.value,viewProps:this.viewProps}),text:new os(t,{parser:Ze,props:ot.fromObject({pointerScale:.01,keyScale:.1,formatter:Jt(2)}),value:Nt(0,{constraint:new yo({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&rs({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,a)=>{const p=r.getComponents();return p[3]=a,new at(p,r.mode)}}),this.textsC_=new ug(t,{colorType:i.colorType,value:this.value,viewProps:this.viewProps}),this.view=new Mw(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:i.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const Zl=it("colsw");class fg{constructor(t,i){this.onValueChange_=this.onValueChange_.bind(this),i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.element=t.createElement("div"),this.element.classList.add(Zl()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Zl("sw")),this.element.appendChild(r),this.swatchElem_=r;const a=t.createElement("button");a.classList.add(Zl("b")),i.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=cc(t)}onValueChange_(){this.update_()}}class bg{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new fg(t,{value:this.value,viewProps:this.viewProps})}}class uc{constructor(t,i){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=ar.create(i.expanded),this.swatchC_=new bg(t,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new sc(t,{parser:i.parser,props:ot.fromObject({formatter:i.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new xw(t,{foldable:this.foldable_,pickerLayout:i.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=i.pickerLayout==="popup"?new ch(t,{viewProps:this.viewProps}):null;const a=new vg(t,{colorType:i.colorType,supportsAlpha:i.supportsAlpha,value:this.value,viewProps:this.viewProps});a.view.allFocusableElements.forEach(p=>{p.addEventListener("blur",this.onPopupChildBlur_),p.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=a,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(a.view.element),rs({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:p=>p,backward:(p,v)=>v})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ec(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,r=t.relatedTarget;(!r||!i.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,r=sh(t);r&&i.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!Xa(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function _g(e){return tn(e.getComponents("rgb")).reduce((t,i)=>t<<8|Math.floor(i)&255,0)}function wg(e){return e.getComponents("rgb").reduce((t,i,r)=>{const a=Math.floor(r===3?i*255:i)&255;return t<<8|a},0)>>>0}function gg(e){return new at([e>>16&255,e>>8&255,e&255],"rgb")}function Cg(e){return new at([e>>24&255,e>>16&255,e>>8&255,dt(e&255,0,255,0,1)],"rgb")}function xg(e){return typeof e!="number"?at.black():gg(e)}function Pg(e){return typeof e!="number"?at.black():Cg(e)}function eo(e,t){return typeof e!="object"||Ct(e)?!1:t in e&&typeof e[t]=="number"}function Dh(e){return eo(e,"r")&&eo(e,"g")&&eo(e,"b")}function Oh(e){return Dh(e)&&eo(e,"a")}function Rh(e){return Dh(e)}function pc(e,t){if(e.mode!==t.mode||e.type!==t.type)return!1;const i=e.getComponents(),r=t.getComponents();for(let a=0;a<i.length;a++)if(i[a]!==r[a])return!1;return!0}function Zu(e){return"a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b]}function yg(e){const t=Th(e);return t?(i,r)=>{Ci(i,t(r))}:null}function Eg(e){const t=e?wg:_g;return(i,r)=>{Ci(i,t(r))}}function kg(e,t,i){const a=ee(t,i).toRgbaObject();e.writeProperty("r",a.r),e.writeProperty("g",a.g),e.writeProperty("b",a.b),e.writeProperty("a",a.a)}function Vg(e,t,i){const a=ee(t,i).toRgbaObject();e.writeProperty("r",a.r),e.writeProperty("g",a.g),e.writeProperty("b",a.b)}function Sg(e,t){return(i,r)=>{e?kg(i,r,t):Vg(i,r,t)}}function Lg(e){var t;return!!(!((t=e==null?void 0:e.color)===null||t===void 0)&&t.alpha)}function Mg(e){return e?t=>cc(t,"0x"):t=>ac(t,"0x")}function Ag(e){return"color"in e||e.view==="color"}$t({id:"input-color-number",type:"input",accept:(e,t)=>{if(typeof e!="number"||!Ag(t))return null;const i=rc(t);return i?{initialValue:e,params:Object.assign(Object.assign({},i),{supportsAlpha:Lg(t)})}:null},binding:{reader:e=>e.params.supportsAlpha?Pg:xg,equals:pc,writer:e=>Eg(e.params.supportsAlpha)},controller:e=>{var t,i;return new uc(e.document,{colorType:"int",expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:Mg(e.params.supportsAlpha),parser:ur("int"),pickerLayout:(i=e.params.picker)!==null&&i!==void 0?i:"popup",supportsAlpha:e.params.supportsAlpha,value:e.value,viewProps:e.viewProps})}});function Tg(e,t){if(!Rh(e))return ee(at.black(),t);if(t==="int"){const i=Zu(e);return new at(i,"rgb")}if(t==="float"){const i=Zu(e);return new oc(i,"rgb")}return ee(at.black(),"int")}function Dg(e){return Oh(e)}function Og(e){return t=>{const i=Tg(t,e);return ee(i,"int")}}function Rg(e,t){return i=>e?Ah(i,t):Mh(i,t)}$t({id:"input-color-object",type:"input",accept:(e,t)=>{var i;if(!Rh(e))return null;const r=rc(t);return r?{initialValue:e,params:Object.assign(Object.assign({},r),{colorType:(i=_h(t))!==null&&i!==void 0?i:"int"})}:null},binding:{reader:e=>Og(e.params.colorType),equals:pc,writer:e=>Sg(Dg(e.initialValue),e.params.colorType)},controller:e=>{var t,i;const r=Oh(e.initialValue);return new uc(e.document,{colorType:e.params.colorType,expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:Rg(r,e.params.colorType),parser:ur("int"),pickerLayout:(i=e.params.picker)!==null&&i!==void 0?i:"popup",supportsAlpha:r,value:e.value,viewProps:e.viewProps})}});$t({id:"input-color-string",type:"input",accept:(e,t)=>{if(typeof e!="string"||t.view==="text")return null;const i=Gw(e,_h(t));if(!i)return null;const r=Th(i);if(!r)return null;const a=rc(t);return a?{initialValue:e,params:Object.assign(Object.assign({},a),{format:i,stringifier:r})}:null},binding:{reader:()=>Yw,equals:pc,writer:e=>{const t=yg(e.params.format);if(!t)throw ve.notBindable();return t}},controller:e=>{var t,i;return new uc(e.document,{colorType:e.params.format.type,expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:e.params.stringifier,parser:ur("int"),pickerLayout:(i=e.params.picker)!==null&&i!==void 0?i:"popup",supportsAlpha:e.params.format.alpha,value:e.value,viewProps:e.viewProps})}});class hc{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const i=this.asm_.toComponents(t).map((r,a)=>{var p,v;return(v=(p=this.components[a])===null||p===void 0?void 0:p.constrain(r))!==null&&v!==void 0?v:r});return this.asm_.fromComponents(i)}}const Qu=it("pndtxt");class Ng{constructor(t,i){this.textViews=i.textViews,this.element=t.createElement("div"),this.element.classList.add(Qu()),this.textViews.forEach(r=>{const a=t.createElement("div");a.classList.add(Qu("a")),a.appendChild(r.element),this.element.appendChild(a)})}}function Ig(e,t,i){return new os(e,{arrayPosition:i===0?"fst":i===t.axes.length-1?"lst":"mid",parser:t.parser,props:t.axes[i].textProps,value:Nt(0,{constraint:t.axes[i].constraint}),viewProps:t.viewProps})}class dc{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.acs_=i.axes.map((r,a)=>Ig(t,i,a)),this.acs_.forEach((r,a)=>{rs({primary:this.value,secondary:r.value,forward:p=>i.assembly.toComponents(p)[a],backward:(p,v)=>{const f=i.assembly.toComponents(p);return f[a]=v,i.assembly.fromComponents(f)}})}),this.view=new Ng(t,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class Bg extends Wa{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(t){this.controller.valueController.sliderController.props.set("max",t)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(t){this.controller.valueController.sliderController.props.set("min",t)}}function jg(e,t){const i=[],r=Ha(e,t);r&&i.push(r);const a=qa(e);a&&i.push(a);const p=ic(e.options);return p&&i.push(p),new ss(i)}$t({id:"input-number",type:"input",accept:(e,t)=>{if(typeof e!="number")return null;const i=jt(t,r=>Object.assign(Object.assign({},Vo(r)),{options:r.optional.custom(Ao),readonly:r.optional.constant(!1)}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>Eo,constraint:e=>jg(e.params,e.initialValue),writer:e=>Ci},controller:e=>{const t=e.value,i=e.constraint,r=i&&uo(i,Mo);if(r)return new Ji(e.document,{props:new ot({options:r.values.value("options")}),value:t,viewProps:e.viewProps});const a=ko(e.params,t.rawValue),p=i&&uo(i,yo);return p?new Gu(e.document,Object.assign(Object.assign({},bw(Object.assign(Object.assign({},a),{keyScale:Nt(a.keyScale),max:p.values.value("max"),min:p.values.value("min")}))),{parser:Ze,value:t,viewProps:e.viewProps})):new os(e.document,{parser:Ze,props:ot.fromObject(a),value:t,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="number"?null:e.controller.valueController instanceof Gu?new Bg(e.controller):e.controller.valueController instanceof Ji?new nc(e.controller):null}});class Kn{constructor(t=0,i=0){this.x=t,this.y=i}getComponents(){return[this.x,this.y]}static isObject(t){if(Ct(t))return!1;const i=t.x,r=t.y;return!(typeof i!="number"||typeof r!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y}toObject(){return{x:this.x,y:this.y}}}const Nh={toComponents:e=>e.getComponents(),fromComponents:e=>new Kn(...e)},Fi=it("p2d");class Fg{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Fi()),i.viewProps.bindClassModifiers(this.element),bn(i.expanded,is(this.element,Fi(void 0,"expanded")));const r=t.createElement("div");r.classList.add(Fi("h")),this.element.appendChild(r);const a=t.createElement("button");a.classList.add(Fi("b")),a.appendChild(Lo(t,"p2dpad")),i.viewProps.bindDisabled(a),r.appendChild(a),this.buttonElement=a;const p=t.createElement("div");if(p.classList.add(Fi("t")),r.appendChild(p),this.textElement=p,i.pickerLayout==="inline"){const v=t.createElement("div");v.classList.add(Fi("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}const In=it("p2dp");class zg{constructor(t,i){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=i.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=t.createElement("div"),this.element.classList.add(In()),i.layout==="popup"&&this.element.classList.add(In(void 0,"p")),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(In("p")),i.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const a=t.createElementNS(fe,"svg");a.classList.add(In("g")),this.padElement.appendChild(a),this.svgElem_=a;const p=t.createElementNS(fe,"line");p.classList.add(In("ax")),p.setAttributeNS(null,"x1","0"),p.setAttributeNS(null,"y1","50%"),p.setAttributeNS(null,"x2","100%"),p.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(p);const v=t.createElementNS(fe,"line");v.classList.add(In("ax")),v.setAttributeNS(null,"x1","50%"),v.setAttributeNS(null,"y1","0"),v.setAttributeNS(null,"x2","50%"),v.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(v);const f=t.createElementNS(fe,"line");f.classList.add(In("l")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(f),this.lineElem_=f;const w=t.createElement("div");w.classList.add(In("m")),this.padElement.appendChild(w),this.markerElem_=w,i.value.emitter.on("change",this.onValueChange_),this.value=i.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,i]=this.value.rawValue.getComponents(),r=this.props_.get("max"),a=dt(t,-r,+r,0,100),p=dt(i,-r,+r,0,100),v=this.props_.get("invertsY")?100-p:p;this.lineElem_.setAttributeNS(null,"x2",`${a}%`),this.lineElem_.setAttributeNS(null,"y2",`${v}%`),this.markerElem_.style.left=`${a}%`,this.markerElem_.style.top=`${v}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function tp(e,t,i){return[ae(t[0],wn(e)),ae(t[1],or(e))*(i?1:-1)]}class $g{constructor(t,i){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.view=new zg(t,{layout:i.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,i){if(!t.point)return;const r=this.props.get("max"),a=dt(t.point.x,0,t.bounds.width,-r,+r),p=dt(this.props.get("invertsY")?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-r,+r);this.value.setRawValue(new Kn(a,p),i)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){hh(t.key)&&t.preventDefault();const[i,r]=tp(t,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));i===0&&r===0||this.value.setRawValue(new Kn(this.value.rawValue.x+i,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[i,r]=tp(t,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));i===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Kg{constructor(t,i){var r,a;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.foldable_=ar.create(i.expanded),this.popC_=i.pickerLayout==="popup"?new ch(t,{viewProps:this.viewProps}):null;const p=new $g(t,{layout:i.pickerLayout,props:new ot({invertsY:Nt(i.invertsY),max:Nt(i.max),xKeyScale:i.axes[0].textProps.value("keyScale"),yKeyScale:i.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(v=>{v.addEventListener("blur",this.onPopupChildBlur_),v.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.textC_=new dc(t,{assembly:Nh,axes:i.axes,parser:i.parser,value:this.value,viewProps:this.viewProps}),this.view=new Fg(t,{expanded:this.foldable_.value("expanded"),pickerLayout:i.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),rs({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:v=>v,backward:(v,f)=>f})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),ec(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(t){if(!this.popC_)return;const i=this.view.element,r=t.relatedTarget;(!r||!i.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const i=this.popC_.view.element,r=sh(t);r&&i.contains(r)||r&&r===this.view.buttonElement&&!Xa(i.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function Ug(e){return Kn.isObject(e)?new Kn(e.x,e.y):new Kn}function Hg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y)}function qg(e,t){return new hc({assembly:Nh,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y)]})}function ep(e,t){var i,r;if(!Ct(e.min)||!Ct(e.max))return Math.max(Math.abs((i=e.min)!==null&&i!==void 0?i:0),Math.abs((r=e.max)!==null&&r!==void 0?r:0));const a=th(e);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function Gg(e,t){var i,r;const a=ep(wi(e,(i=e.x)!==null&&i!==void 0?i:{}),t.x),p=ep(wi(e,(r=e.y)!==null&&r!==void 0?r:{}),t.y);return Math.max(a,p)}function Yg(e){if(!("y"in e))return!1;const t=e.y;return t&&"inverted"in t?!!t.inverted:!1}$t({id:"input-point2d",type:"input",accept:(e,t)=>{if(!Kn.isObject(e))return null;const i=jt(t,r=>Object.assign(Object.assign({},lr(r)),{expanded:r.optional.boolean,picker:r.optional.custom(mh),readonly:r.optional.constant(!1),x:r.optional.custom(Fn),y:r.optional.object(Object.assign(Object.assign({},lr(r)),{inverted:r.optional.boolean}))}));return i?{initialValue:e,params:i}:null},binding:{reader:()=>Ug,constraint:e=>qg(e.params,e.initialValue),equals:Kn.equals,writer:()=>Hg},controller:e=>{var t,i;const r=e.document,a=e.value,p=e.constraint,v=[e.params.x,e.params.y];return new Kg(r,{axes:a.rawValue.getComponents().map((f,w)=>{var C;return Ga({constraint:p.components[w],initialValue:f,params:wi(e.params,(C=v[w])!==null&&C!==void 0?C:{})})}),expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,invertsY:Yg(e.params),max:Gg(e.params,a.rawValue),parser:Ze,pickerLayout:(i=e.params.picker)!==null&&i!==void 0?i:"popup",value:a,viewProps:e.viewProps})}});class qi{constructor(t=0,i=0,r=0){this.x=t,this.y=i,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(Ct(t))return!1;const i=t.x,r=t.y,a=t.z;return!(typeof i!="number"||typeof r!="number"||typeof a!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ih={toComponents:e=>e.getComponents(),fromComponents:e=>new qi(...e)};function Wg(e){return qi.isObject(e)?new qi(e.x,e.y,e.z):new qi}function Xg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z)}function Jg(e,t){return new hc({assembly:Ih,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y),fn(Object.assign(Object.assign({},e),e.z),t.z)]})}$t({id:"input-point3d",type:"input",accept:(e,t)=>{if(!qi.isObject(e))return null;const i=jt(t,r=>Object.assign(Object.assign({},lr(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(Fn),y:r.optional.custom(Fn),z:r.optional.custom(Fn)}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>Wg,constraint:e=>Jg(e.params,e.initialValue),equals:qi.equals,writer:e=>Xg},controller:e=>{const t=e.value,i=e.constraint,r=[e.params.x,e.params.y,e.params.z];return new dc(e.document,{assembly:Ih,axes:t.rawValue.getComponents().map((a,p)=>{var v;return Ga({constraint:i.components[p],initialValue:a,params:wi(e.params,(v=r[p])!==null&&v!==void 0?v:{})})}),parser:Ze,value:t,viewProps:e.viewProps})}});class Gi{constructor(t=0,i=0,r=0,a=0){this.x=t,this.y=i,this.z=r,this.w=a}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(Ct(t))return!1;const i=t.x,r=t.y,a=t.z,p=t.w;return!(typeof i!="number"||typeof r!="number"||typeof a!="number"||typeof p!="number")}static equals(t,i){return t.x===i.x&&t.y===i.y&&t.z===i.z&&t.w===i.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Bh={toComponents:e=>e.getComponents(),fromComponents:e=>new Gi(...e)};function Zg(e){return Gi.isObject(e)?new Gi(e.x,e.y,e.z,e.w):new Gi}function Qg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z),e.writeProperty("w",t.w)}function t0(e,t){return new hc({assembly:Bh,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y),fn(Object.assign(Object.assign({},e),e.z),t.z),fn(Object.assign(Object.assign({},e),e.w),t.w)]})}$t({id:"input-point4d",type:"input",accept:(e,t)=>{if(!Gi.isObject(e))return null;const i=jt(t,r=>Object.assign(Object.assign({},lr(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(Fn),x:r.optional.custom(Fn),y:r.optional.custom(Fn),z:r.optional.custom(Fn)}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>Zg,constraint:e=>t0(e.params,e.initialValue),equals:Gi.equals,writer:e=>Qg},controller:e=>{const t=e.value,i=e.constraint,r=[e.params.x,e.params.y,e.params.z,e.params.w];return new dc(e.document,{assembly:Bh,axes:t.rawValue.getComponents().map((a,p)=>{var v;return Ga({constraint:i.components[p],initialValue:a,params:wi(e.params,(v=r[p])!==null&&v!==void 0?v:{})})}),parser:Ze,value:t,viewProps:e.viewProps})}});function e0(e){const t=[],i=ic(e.options);return i&&t.push(i),new ss(t)}$t({id:"input-string",type:"input",accept:(e,t)=>{if(typeof e!="string")return null;const i=jt(t,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(Ao)}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>ph,constraint:e=>e0(e.params),writer:e=>Ci},controller:e=>{const t=e.document,i=e.value,r=e.constraint,a=r&&uo(r,Mo);return a?new Ji(t,{props:new ot({options:a.values.value("options")}),value:i,viewProps:e.viewProps}):new sc(t,{parser:p=>p,props:ot.fromObject({formatter:_a}),value:i,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="string"?null:e.controller.valueController instanceof Ji?new nc(e.controller):null}});const Do={monitor:{defaultInterval:200,defaultRows:3}},np=it("mll");class n0{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(np()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("textarea");r.classList.add(np("i")),r.style.height=`calc(var(${dh("containerUnitSize")}) * ${i.rows})`,r.readOnly=!0,i.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.textareaElem_,i=t.scrollTop===t.scrollHeight-t.clientHeight,r=[];this.value.rawValue.forEach(a=>{a!==void 0&&r.push(this.formatter_(a))}),t.textContent=r.join(`
`),i&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class mc{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new n0(t,{formatter:i.formatter,rows:i.rows,value:this.value,viewProps:this.viewProps})}}const ip=it("sgl");class i0{constructor(t,i){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=i.formatter,this.element=t.createElement("div"),this.element.classList.add(ip()),i.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(ip("i")),r.readOnly=!0,r.type="text",i.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}update_(){const t=this.value.rawValue,i=t[t.length-1];this.inputElement.value=i!==void 0?this.formatter_(i):""}onValueUpdate_(){this.update_()}}class vc{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.view=new i0(t,{formatter:i.formatter,value:this.value,viewProps:this.viewProps})}}$t({id:"monitor-bool",type:"monitor",accept:(e,t)=>{if(typeof e!="boolean")return null;const i=jt(t,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>uh},controller:e=>{var t;return e.value.rawValue.length===1?new vc(e.document,{formatter:qu,value:e.value,viewProps:e.viewProps}):new mc(e.document,{formatter:qu,rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:e.value,viewProps:e.viewProps})}});class s0 extends Wa{get max(){return this.controller.valueController.props.get("max")}set max(t){this.controller.valueController.props.set("max",t)}get min(){return this.controller.valueController.props.get("min")}set min(t){this.controller.valueController.props.set("min",t)}}const Bn=it("grl");class r0{constructor(t,i){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Bn()),i.viewProps.bindClassModifiers(this.element),this.formatter_=i.formatter,this.props_=i.props,this.cursor_=i.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=t.createElementNS(fe,"svg");r.classList.add(Bn("g")),r.style.height=`calc(var(${dh("containerUnitSize")}) * ${i.rows})`,this.element.appendChild(r),this.svgElem_=r;const a=t.createElementNS(fe,"polyline");this.svgElem_.appendChild(a),this.lineElem_=a;const p=t.createElement("div");p.classList.add(Bn("t"),it("tt")()),this.element.appendChild(p),this.tooltipElem_=p,i.value.emitter.on("change",this.onValueUpdate_),this.value=i.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),i=this.value.rawValue.length-1,r=this.props_.get("min"),a=this.props_.get("max"),p=[];this.value.rawValue.forEach((k,E)=>{if(k===void 0)return;const R=dt(E,0,i,0,t.width),G=dt(k,r,a,t.height,0);p.push([R,G].join(","))}),this.lineElem_.setAttributeNS(null,"points",p.join(" "));const v=this.tooltipElem_,f=this.value.rawValue[this.cursor_.rawValue];if(f===void 0){v.classList.remove(Bn("t","a"));return}const w=dt(this.cursor_.rawValue,0,i,0,t.width),C=dt(f,r,a,t.height,0);v.style.left=`${w}px`,v.style.top=`${C}px`,v.textContent=`${this.formatter_(f)}`,v.classList.contains(Bn("t","a"))||(v.classList.add(Bn("t","a"),Bn("t","in")),co(v),v.classList.remove(Bn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class jh{constructor(t,i){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=i.props,this.value=i.value,this.viewProps=i.viewProps,this.cursor_=Nt(-1),this.view=new r0(t,{cursor:this.cursor_,formatter:i.formatter,rows:i.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Xa(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new Hn(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(t){return en(t,null,i=>({max:i.required.number,min:i.required.number}),i=>(this.props.set("max",i.max),this.props.set("min",i.min),!0))}exportProps(){return nn(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(t){const i=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(dt(t.offsetX,0,i.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(dt(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function wa(e){return Ct(e.format)?Jt(2):e.format}function o0(e){var t;return e.value.rawValue.length===1?new vc(e.document,{formatter:wa(e.params),value:e.value,viewProps:e.viewProps}):new mc(e.document,{formatter:wa(e.params),rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:e.value,viewProps:e.viewProps})}function l0(e){var t,i,r;return new jh(e.document,{formatter:wa(e.params),rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,props:ot.fromObject({max:(i=e.params.max)!==null&&i!==void 0?i:100,min:(r=e.params.min)!==null&&r!==void 0?r:0}),value:e.value,viewProps:e.viewProps})}function sp(e){return e.view==="graph"}$t({id:"monitor-number",type:"monitor",accept:(e,t)=>{if(typeof e!="number")return null;const i=jt(t,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return i?{initialValue:e,params:i}:null},binding:{defaultBufferSize:e=>sp(e)?64:1,reader:e=>Eo},controller:e=>sp(e.params)?l0(e):o0(e),api:e=>e.controller.valueController instanceof jh?new s0(e.controller):null});$t({id:"monitor-string",type:"monitor",accept:(e,t)=>{if(typeof e!="string")return null;const i=jt(t,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>ph},controller:e=>{var t;const i=e.value;return i.rawValue.length>1||e.params.multiline?new mc(e.document,{formatter:_a,rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:i,viewProps:e.viewProps}):new vc(e.document,{formatter:_a,value:i,viewProps:e.viewProps})}});const De=it("ckr");class a0{constructor(t,i){this.tickElems_=[],this.labelElems_=[],this.boundsWidth_=-1,this.onShowsTooltipChange_=this.onShowsTooltipChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.formatters_=i.formatters,this.unit_=i.unit,this.element=t.createElement("div"),this.element.classList.add(De(),De(void 0,`m${i.seriesId}`)),i.viewProps.bindClassModifiers(this.element),this.value_=i.value,this.value_.emitter.on("change",this.onValueChange_),i.showsTooltip.emitter.on("change",this.onShowsTooltipChange_);const r=t.createElement("div");r.classList.add(De("w")),this.element.appendChild(r),this.offsetElem_=t.createElement("div"),this.offsetElem_.classList.add(De("o")),r.appendChild(this.offsetElem_),this.svgElem_=t.createElementNS(fe,"svg"),this.svgElem_.classList.add(De("g")),this.offsetElem_.appendChild(this.svgElem_),this.tooltipElem_=t.createElement("div"),this.tooltipElem_.classList.add(it("tt")(),De("tt")),this.element.appendChild(this.tooltipElem_),this.waitToBeAdded_()}waitToBeAdded_(){const t=new IntersectionObserver(i=>{i.forEach(r=>{r.target!==this.element||r.intersectionRatio===0||(this.update(),t.disconnect())})},{root:null});t.observe(this.element)}rebuildScaleIfNeeded_(t){if(this.boundsWidth_===t)return;this.boundsWidth_=t,this.tickElems_.forEach(C=>{rr(C)}),this.tickElems_=[],this.labelElems_.forEach(C=>{rr(C)}),this.labelElems_=[];const i=this.element.ownerDocument,r=this.unit_.ticks,a=this.unit_.pixels,f=((Math.ceil(t/2/a)+1)*2+1)*r,w=a/r;for(let C=0;C<f;C++){const k=C*w;if(C%r===0){const E=i.createElementNS(fe,"line");E.classList.add(De("mjt")),E.setAttributeNS(null,"x1",String(k)),E.setAttributeNS(null,"y1","0"),E.setAttributeNS(null,"x2",String(k)),E.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(E),this.tickElems_.push(E);const R=i.createElement("div");R.classList.add(De("l")),R.style.left=`${k}px`,this.offsetElem_.appendChild(R),this.labelElems_.push(R)}else{const E=i.createElementNS(fe,"line");E.classList.add(De("mnt")),E.setAttributeNS(null,"x1",String(k)),E.setAttributeNS(null,"y1","0"),E.setAttributeNS(null,"x2",String(k)),E.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(E),this.tickElems_.push(E)}}}updateScale_(t){const i=this.unit_.value,r=this.unit_.pixels,a=this.value_.rawValue,p=Math.ceil(t/2/r)+1,v=a-a%i-i*p,f=C=>1-Math.pow(Dt(Math.abs(a-C)/(t/2*(i/r)),0,1),10);this.labelElems_.forEach((C,k)=>{const E=v+k*i;C.textContent=this.formatters_.ring(E),C.style.opacity=String(f(E))});const w=this.unit_.ticks;this.tickElems_.forEach((C,k)=>{const E=v+k/w*i;C.style.opacity=String(f(E))})}update(){const t=this.element.getBoundingClientRect().width,i=this.unit_.value,r=this.unit_.pixels,a=this.value_.rawValue,p=Math.ceil(t/2/r)+1,v=(a%i+i*p)*(r/i),f=t/2-v;this.offsetElem_.style.transform=`translateX(${f}px)`,this.tooltipElem_.textContent=this.formatters_.text(a),this.rebuildScaleIfNeeded_(t),this.updateScale_(t)}onValueChange_(){this.update()}onShowsTooltipChange_(t){t.rawValue?this.element.classList.add(De(void 0,"tt")):this.element.classList.remove(De(void 0,"tt"))}}class fc{constructor(t,i){this.ox_=0,this.ov_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=i.value,this.viewProps=i.viewProps,this.tooltipEnabled_=i.tooltipEnabled,this.unit_=i.unit,this.showsTooltip_=Nt(!1),this.view=new a0(t,{formatters:i.formatters,seriesId:i.seriesId,showsTooltip:this.showsTooltip_,unit:i.unit,value:this.value,viewProps:this.viewProps});const r=new Hn(this.view.element);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}onPointerDown_(t){const i=t.data;!i.point||(this.ox_=i.point.x,this.ov_=this.value.rawValue,this.tooltipEnabled_&&(this.showsTooltip_.rawValue=!0))}onPointerMove_(t){const i=t.data;if(!i.point)return;const r=i.point.x-this.ox_,a=this.unit_.pixels,p=this.unit_.value;this.value.setRawValue(this.ov_-r/a*p,{forceEmit:!1,last:!1})}onPointerUp_(){this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0}),this.showsTooltip_.rawValue=!1}}const Ql=it("ckrtxt");class c0{constructor(t,i){this.element=t.createElement("div"),this.element.classList.add(Ql());const r=t.createElement("div");r.classList.add(Ql("r")),r.appendChild(i.ringView.element),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Ql("t")),a.appendChild(i.textView.element),this.element.appendChild(a)}}class Fh{constructor(t,i){this.value=i.value,this.viewProps=i.viewProps,this.rc_=new fc(t,{formatters:{ring:i.ringFormatter,text:i.textProps.get("formatter")},seriesId:i.seriesId,tooltipEnabled:!1,unit:i.ringUnit,value:this.value,viewProps:this.viewProps}),this.tc_=new os(t,{parser:i.parser,props:i.textProps,value:this.value,viewProps:this.viewProps}),this.view=new c0(t,{ringView:this.rc_.view,textView:this.tc_.view})}}function zh(e){const t=[],i=qa(e);i&&t.push(i);const r=Ha(e);return r&&t.push(r),new ss(t)}function u0(e){return e===0||e===1||e===2?e:void 0}function rp(e){return e!==void 0?String(e):"0"}function p0(e){const t=Jt(ma(e.value));return i=>{const r=t(i),a=r.substr(0,1);return r+(a==="-"||a==="+"?" ":"")}}const h0=$t({id:"input-ring",type:"input",accept(e,t){if(typeof e!="number")return null;const i=jt(t,r=>Object.assign(Object.assign({},Vo(r)),{series:r.optional.custom(u0),unit:r.optional.object({pixels:r.required.number,ticks:r.required.number,value:r.required.number}),view:r.required.constant("cameraring"),wide:r.optional.boolean}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>Eo,constraint:e=>zh(e.params),writer:e=>Ci},controller(e){var t,i,r;const a=(t=e.params.unit)!==null&&t!==void 0?t:{ticks:5,pixels:40,value:10},p=p0(a),v=ko(e.params,e.initialValue);if(e.params.wide)return new fc(e.document,{formatters:{ring:p,text:v.formatter},seriesId:(i=rp(e.params.series))!==null&&i!==void 0?i:"0",tooltipEnabled:!0,unit:a,value:e.value,viewProps:e.viewProps});const f=ot.fromObject(v);return new Fh(e.document,{parser:Ze,ringFormatter:p,ringUnit:a,seriesId:(r=rp(e.params.series))!==null&&r!==void 0?r:"0",textProps:f,value:e.value,viewProps:e.viewProps})}}),d0=$t({id:"input-wheel",type:"input",accept(e,t){if(typeof e!="number")return null;const i=jt(t,r=>Object.assign(Object.assign({},Vo(r)),{amount:r.optional.number,view:r.required.constant("camerawheel"),wide:r.optional.boolean}));return i?{initialValue:e,params:i}:null},binding:{reader:e=>Eo,constraint:e=>zh(e.params),writer:e=>Ci},controller(e){var t,i;const r=Jt(0),a=ko(e.params,e.initialValue);return e.params.wide?new fc(e.document,{formatters:{ring:r,text:a.formatter},seriesId:"w",tooltipEnabled:!0,unit:{ticks:10,pixels:40,value:((t=e.params.amount)!==null&&t!==void 0?t:a.pointerScale)*40},value:e.value,viewProps:e.viewProps}):new Fh(e.document,{parser:Ze,ringFormatter:r,ringUnit:{ticks:10,pixels:40,value:((i=e.params.amount)!==null&&i!==void 0?i:a.pointerScale)*40},seriesId:"w",textProps:ot.fromObject(a),value:e.value,viewProps:e.viewProps})}}),m0="camerakit",v0='.tp-ckrv_w{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-ckrv_w{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-ckrv_w:hover{background-color:var(--in-bg-h)}.tp-ckrv_w:focus{background-color:var(--in-bg-f)}.tp-ckrv_w:active{background-color:var(--in-bg-a)}.tp-ckrv_w:disabled{opacity:.5}.tp-ckrv{position:relative}.tp-ckrv.tp-v-disabled{opacity:.5}.tp-ckrv::before{background-color:var(--grv-fg);bottom:0;content:"";height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-ckrv::after{background-color:var(--in-fg);content:"";left:0;margin:auto;position:absolute;right:0}.tp-ckrv_w{cursor:pointer;height:calc(var(--cnt-usz));overflow:hidden}.tp-ckrv_o{height:100%;left:0;position:relative}.tp-ckrv_g{display:block;height:2px;overflow:visible;position:absolute;width:100%}.tp-ckrv_mjt{stroke:var(--in-fg);stroke-width:2;transform-origin:bottom}.tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:1;transform-origin:bottom}.tp-ckrv_l{color:var(--in-fg);font-size:.9em;pointer-events:none;position:absolute;top:0;transform:translateX(-50%);white-space:pre}.tp-ckrv_tt{left:50%;top:-4px;visibility:hidden}.tp-ckrv.tp-ckrv-tt .tp-ckrv_tt{visibility:visible}.tp-ckrv.tp-ckrv-m0::before{display:none}.tp-ckrv.tp-ckrv-m0::after{bottom:0;height:6px;width:2px}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_g{bottom:0;margin:auto;transform:translateY(3px);top:0}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mjt{transform:scaleY(3)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_l{line-height:8px;transform:translateX(-50%) scale(0.8)}.tp-ckrv.tp-ckrv-m1::before{display:none}.tp-ckrv.tp-ckrv-m1::after{bottom:0;height:8px;width:2px}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_g{bottom:0}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mjt{stroke-width:1;transform:scaleY(4)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_l{line-height:12px}.tp-ckrv.tp-ckrv-m2::before{transform:translateY(3px)}.tp-ckrv.tp-ckrv-m2::after{border-radius:2px;bottom:1px;height:4px;width:4px}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_g{display:none}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_l{line-height:12px;transform:translateX(-50%)}.tp-ckrv.tp-ckrv-mw::before,.tp-ckrv.tp-ckrv-mw::after{display:none}.tp-ckrv.tp-ckrv-mw .tp-ckrv_g{bottom:0;opacity:.2}.tp-ckrv.tp-ckrv-mw .tp-ckrv_mjt,.tp-ckrv.tp-ckrv-mw .tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:2;transform:scaleY(10)}.tp-ckrv.tp-ckrv-mw .tp-ckrv_l{display:none}.tp-ckrtxtv{display:flex}.tp-ckrtxtv_r{flex:2}.tp-ckrtxtv_t{flex:1;margin-left:4px}',f0=[h0,d0],b0=Object.freeze(Object.defineProperty({__proto__:null,css:v0,id:m0,plugins:f0},Symbol.toStringTag,{value:"Module"})),_0=Na({components:{VTweakpane:Ob,VGithubIcon:Eb},setup(){return{onPaneOneCreated:a=>{const p={interval:{min:16,max:48}};a.addInput(p,"interval",{min:0,max:100,step:1})},onPaneTwoCreated:a=>{a.registerPlugin(b0);const p={flen:55,fnum:1.8,iso:100};a.addInput(p,"flen",{view:"cameraring",series:0,unit:{pixels:50,ticks:10,value:.2},min:1,step:.02}),a.addInput(p,"fnum",{view:"cameraring",series:1,unit:{ticks:10,pixels:40,value:.2},wide:!0,min:1.4,step:.02}),a.addInput(p,"iso",{view:"camerawheel",amount:100})},onPaneThreeCreated:a=>{a.addBlade({view:"text",label:"name",parse:p=>String(p),value:"sketch-01"})},onPaneFourCreated:a=>{const p={background:{r:255,g:0,b:55},tint:{r:0,g:255,b:214,a:.5}};a.addInput(p,"background"),a.addInput(p,"tint")}}}});const w0=(e,t)=>{const i=e.__vccOpts||e;for(const[r,a]of t)i[r]=a;return i},g0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},C0=be("div",{class:"absolute bottom-4 right-4"},[be("a",{href:"https://app.netlify.com/sites/v-tweakpane/deploys","aria-label":"View deploys on Netlify",target:"_blank",rel:"noopener noreferrer",class:"gray-400"},[be("img",{src:"https://www.netlify.com/img/global/badges/netlify-color-accent.svg",alt:"Deploys by Netlify"})])],-1);function x0(e,t,i,r,a,p){const v=hu("v-github-icon"),f=hu("v-tweakpane");return Hi(),Ws(Ye,null,[le(v,{url:"https://github.com/vinayakkulkarni/v-tweakpane"}),be("section",g0,[le(f,{class:"p-4",pane:{title:"Simple Interval / Range Slider Example"},onOnPaneCreated:e.onPaneOneCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Camera Kit Plugin Example"},onOnPaneCreated:e.onPaneTwoCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Blade Example"},onOnPaneCreated:e.onPaneThreeCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Colorpicker Example"},onOnPaneCreated:e.onPaneFourCreated},null,8,["onOnPaneCreated"])]),C0],64)}const P0=w0(_0,[["render",x0]]);pb(P0).mount("#app");
