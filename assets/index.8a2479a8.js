function Dm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const p=Object.getOwnPropertyDescriptor(r,a);p&&Object.defineProperty(e,a,p.get?p:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function n(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(a){if(a.ep)return;a.ep=!0;const p=n(a);fetch(a.href,p)}})();function ga(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const wt={},$i=[],Be=()=>{},Rm=()=>!1,Om=/^on[^a-z]/,ho=e=>Om.test(e),Ca=e=>e.startsWith("onUpdate:"),Ft=Object.assign,xa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Nm=Object.prototype.hasOwnProperty,rt=(e,t)=>Nm.call(e,t),Q=Array.isArray,Gs=e=>mo(e)==="[object Map]",Im=e=>mo(e)==="[object Set]",tt=e=>typeof e=="function",zt=e=>typeof e=="string",ya=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",op=e=>(Rt(e)||tt(e))&&tt(e.then)&&tt(e.catch),Bm=Object.prototype.toString,mo=e=>Bm.call(e),jm=e=>mo(e).slice(8,-1),Fm=e=>mo(e)==="[object Object]",Pa=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wr=ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zm=/-(\w)/g,Je=vo(e=>e.replace(zm,(t,n)=>n?n.toUpperCase():"")),Km=/\B([A-Z])/g,ts=vo(e=>e.replace(Km,"-$1").toLowerCase()),fo=vo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Il=vo(e=>e?`on${fo(e)}`:""),_i=(e,t)=>!Object.is(e,t),Bl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},no=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$m=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let tu;const ta=()=>tu||(tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Js(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=zt(r)?Gm(r):Js(r);if(a)for(const p in a)t[p]=a[p]}return t}else if(zt(e)||Rt(e))return e}const Um=/;(?![^(]*\))/g,Hm=/:([^]+)/,qm=/\/\*[^]*?\*\//g;function Gm(e){const t={};return e.replace(qm,"").split(Um).forEach(n=>{if(n){const r=n.split(Hm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ea(e){let t="";if(zt(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const r=Ea(e[n]);r&&(t+=r+" ")}else if(Rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ym="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wm=ga(Ym);function lp(e){return!!e||e===""}let Re;class Xm{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!t&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Re;try{return Re=this,t()}finally{Re=n}}}on(){Re=this}off(){Re=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Jm(e,t=Re){t&&t.active&&t.effects.push(e)}function Zm(){return Re}const ka=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ap=e=>(e.w&Un)>0,cp=e=>(e.n&Un)>0,Qm=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Un},tv=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];ap(a)&&!cp(a)?a.delete(e):t[n++]=a,a.w&=~Un,a.n&=~Un}t.length=n}},ea=new WeakMap;let Hs=0,Un=1;const na=30;let Oe;const fi=Symbol(""),ia=Symbol("");class Va{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Jm(this,r)}run(){if(!this.active)return this.fn();let t=Oe,n=zn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Oe,Oe=this,zn=!0,Un=1<<++Hs,Hs<=na?Qm(this):eu(this),this.fn()}finally{Hs<=na&&tv(this),Un=1<<--Hs,Oe=this.parent,zn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Oe===this?this.deferStop=!0:this.active&&(eu(this),this.onStop&&this.onStop(),this.active=!1)}}function eu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let zn=!0;const up=[];function es(){up.push(zn),zn=!1}function ns(){const e=up.pop();zn=e===void 0?!0:e}function ce(e,t,n){if(zn&&Oe){let r=ea.get(e);r||ea.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=ka()),pp(a)}}function pp(e,t){let n=!1;Hs<=na?cp(e)||(e.n|=Un,n=!ap(e)):n=!e.has(Oe),n&&(e.add(Oe),Oe.deps.push(e))}function bn(e,t,n,r,a,p){const v=ea.get(e);if(!v)return;let f=[];if(t==="clear")f=[...v.values()];else if(n==="length"&&Q(e)){const g=Number(r);v.forEach((C,k)=>{(k==="length"||k>=g)&&f.push(C)})}else switch(n!==void 0&&f.push(v.get(n)),t){case"add":Q(e)?Pa(n)&&f.push(v.get("length")):(f.push(v.get(fi)),Gs(e)&&f.push(v.get(ia)));break;case"delete":Q(e)||(f.push(v.get(fi)),Gs(e)&&f.push(v.get(ia)));break;case"set":Gs(e)&&f.push(v.get(fi));break}if(f.length===1)f[0]&&sa(f[0]);else{const g=[];for(const C of f)C&&g.push(...C);sa(ka(g))}}function sa(e,t){const n=Q(e)?e:[...e];for(const r of n)r.computed&&nu(r);for(const r of n)r.computed||nu(r)}function nu(e,t){(e!==Oe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ev=ga("__proto__,__v_isRef,__isVue"),hp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ya)),iu=nv();function nv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=pt(this);for(let p=0,v=this.length;p<v;p++)ce(r,"get",p+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(pt)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){es();const r=pt(this)[t].apply(this,n);return ns(),r}}),e}function iv(e){const t=pt(this);return ce(t,"has",e),t.hasOwnProperty(e)}class dp{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const a=this._isReadonly,p=this._shallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return p;if(n==="__v_raw"&&r===(a?p?fv:bp:p?fp:vp).get(t))return t;const v=Q(t);if(!a){if(v&&rt(iu,n))return Reflect.get(iu,n,r);if(n==="hasOwnProperty")return iv}const f=Reflect.get(t,n,r);return(ya(n)?hp.has(n):ev(n))||(a||ce(t,"get",n),p)?f:Xt(f)?v&&Pa(n)?f:f.value:Rt(f)?a?_p(f):Ma(f):f}}class mp extends dp{constructor(t=!1){super(!1,t)}set(t,n,r,a){let p=t[n];if(Wi(p)&&Xt(p)&&!Xt(r))return!1;if(!this._shallow&&(!io(r)&&!Wi(r)&&(p=pt(p),r=pt(r)),!Q(t)&&Xt(p)&&!Xt(r)))return p.value=r,!0;const v=Q(t)&&Pa(n)?Number(n)<t.length:rt(t,n),f=Reflect.set(t,n,r,a);return t===pt(a)&&(v?_i(r,p)&&bn(t,"set",n,r):bn(t,"add",n,r)),f}deleteProperty(t,n){const r=rt(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&bn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!ya(n)||!hp.has(n))&&ce(t,"has",n),r}ownKeys(t){return ce(t,"iterate",Q(t)?"length":fi),Reflect.ownKeys(t)}}class sv extends dp{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rv=new mp,ov=new sv,lv=new mp(!0),Sa=e=>e,bo=e=>Reflect.getPrototypeOf(e);function Kr(e,t,n=!1,r=!1){e=e.__v_raw;const a=pt(e),p=pt(t);n||(_i(t,p)&&ce(a,"get",t),ce(a,"get",p));const{has:v}=bo(a),f=r?Sa:n?Ta:Zs;if(v.call(a,t))return f(e.get(t));if(v.call(a,p))return f(e.get(p));e!==a&&e.get(t)}function $r(e,t=!1){const n=this.__v_raw,r=pt(n),a=pt(e);return t||(_i(e,a)&&ce(r,"has",e),ce(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Ur(e,t=!1){return e=e.__v_raw,!t&&ce(pt(e),"iterate",fi),Reflect.get(e,"size",e)}function su(e){e=pt(e);const t=pt(this);return bo(t).has.call(t,e)||(t.add(e),bn(t,"add",e,e)),this}function ru(e,t){t=pt(t);const n=pt(this),{has:r,get:a}=bo(n);let p=r.call(n,e);p||(e=pt(e),p=r.call(n,e));const v=a.call(n,e);return n.set(e,t),p?_i(t,v)&&bn(n,"set",e,t):bn(n,"add",e,t),this}function ou(e){const t=pt(this),{has:n,get:r}=bo(t);let a=n.call(t,e);a||(e=pt(e),a=n.call(t,e)),r&&r.call(t,e);const p=t.delete(e);return a&&bn(t,"delete",e,void 0),p}function lu(){const e=pt(this),t=e.size!==0,n=e.clear();return t&&bn(e,"clear",void 0,void 0),n}function Hr(e,t){return function(r,a){const p=this,v=p.__v_raw,f=pt(v),g=t?Sa:e?Ta:Zs;return!e&&ce(f,"iterate",fi),v.forEach((C,k)=>r.call(a,g(C),g(k),p))}}function qr(e,t,n){return function(...r){const a=this.__v_raw,p=pt(a),v=Gs(p),f=e==="entries"||e===Symbol.iterator&&v,g=e==="keys"&&v,C=a[e](...r),k=n?Sa:t?Ta:Zs;return!t&&ce(p,"iterate",g?ia:fi),{next(){const{value:E,done:O}=C.next();return O?{value:E,done:O}:{value:f?[k(E[0]),k(E[1])]:k(E),done:O}},[Symbol.iterator](){return this}}}}function On(e){return function(...t){return e==="delete"?!1:this}}function av(){const e={get(p){return Kr(this,p)},get size(){return Ur(this)},has:$r,add:su,set:ru,delete:ou,clear:lu,forEach:Hr(!1,!1)},t={get(p){return Kr(this,p,!1,!0)},get size(){return Ur(this)},has:$r,add:su,set:ru,delete:ou,clear:lu,forEach:Hr(!1,!0)},n={get(p){return Kr(this,p,!0)},get size(){return Ur(this,!0)},has(p){return $r.call(this,p,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Hr(!0,!1)},r={get(p){return Kr(this,p,!0,!0)},get size(){return Ur(this,!0)},has(p){return $r.call(this,p,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Hr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=qr(p,!1,!1),n[p]=qr(p,!0,!1),t[p]=qr(p,!1,!0),r[p]=qr(p,!0,!0)}),[e,n,t,r]}const[cv,uv,pv,hv]=av();function La(e,t){const n=t?e?hv:pv:e?uv:cv;return(r,a,p)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(rt(n,a)&&a in r?n:r,a,p)}const dv={get:La(!1,!1)},mv={get:La(!1,!0)},vv={get:La(!0,!1)},vp=new WeakMap,fp=new WeakMap,bp=new WeakMap,fv=new WeakMap;function bv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _v(e){return e.__v_skip||!Object.isExtensible(e)?0:bv(jm(e))}function Ma(e){return Wi(e)?e:Aa(e,!1,rv,dv,vp)}function wv(e){return Aa(e,!1,lv,mv,fp)}function _p(e){return Aa(e,!0,ov,vv,bp)}function Aa(e,t,n,r,a){if(!Rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=a.get(e);if(p)return p;const v=_v(e);if(v===0)return e;const f=new Proxy(e,v===2?r:n);return a.set(e,f),f}function Ui(e){return Wi(e)?Ui(e.__v_raw):!!(e&&e.__v_isReactive)}function Wi(e){return!!(e&&e.__v_isReadonly)}function io(e){return!!(e&&e.__v_isShallow)}function wp(e){return Ui(e)||Wi(e)}function pt(e){const t=e&&e.__v_raw;return t?pt(t):e}function gp(e){return no(e,"__v_skip",!0),e}const Zs=e=>Rt(e)?Ma(e):e,Ta=e=>Rt(e)?_p(e):e;function Cp(e){zn&&Oe&&(e=pt(e),pp(e.dep||(e.dep=ka())))}function xp(e,t){e=pt(e);const n=e.dep;n&&sa(n)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function au(e){return gv(e,!1)}function gv(e,t){return Xt(e)?e:new Cv(e,t)}class Cv{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:pt(t),this._value=n?t:Zs(t)}get value(){return Cp(this),this._value}set value(t){const n=this.__v_isShallow||io(t)||Wi(t);t=n?t:pt(t),_i(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Zs(t),xp(this))}}function xv(e){return Xt(e)?e.value:e}const yv={get:(e,t,n)=>xv(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Xt(a)&&!Xt(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function yp(e){return Ui(e)?e:new Proxy(e,yv)}class Pv{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Va(t,()=>{this._dirty||(this._dirty=!0,xp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=pt(this);return Cp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ev(e,t,n=!1){let r,a;const p=tt(e);return p?(r=e,a=Be):(r=e.get,a=e.set),new Pv(r,a,p||!a,n)}function Kn(e,t,n,r){let a;try{a=r?e(...r):e()}catch(p){_o(p,t,n)}return a}function je(e,t,n,r){if(tt(e)){const p=Kn(e,t,n,r);return p&&op(p)&&p.catch(v=>{_o(v,t,n)}),p}const a=[];for(let p=0;p<e.length;p++)a.push(je(e[p],t,n,r));return a}function _o(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let p=t.parent;const v=t.proxy,f=n;for(;p;){const C=p.ec;if(C){for(let k=0;k<C.length;k++)if(C[k](e,v,f)===!1)return}p=p.parent}const g=t.appContext.config.errorHandler;if(g){Kn(g,null,10,[e,v,f]);return}}kv(e,n,a,r)}function kv(e,t,n,r=!0){console.error(e)}let Qs=!1,ra=!1;const Wt=[];let Xe=0;const Hi=[];let vn=null,mi=0;const Pp=Promise.resolve();let Da=null;function Ep(e){const t=Da||Pp;return e?t.then(this?e.bind(this):e):t}function Vv(e){let t=Xe+1,n=Wt.length;for(;t<n;){const r=t+n>>>1;tr(Wt[r])<e?t=r+1:n=r}return t}function Ra(e){(!Wt.length||!Wt.includes(e,Qs&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?Wt.push(e):Wt.splice(Vv(e.id),0,e),kp())}function kp(){!Qs&&!ra&&(ra=!0,Da=Pp.then(Sp))}function Sv(e){const t=Wt.indexOf(e);t>Xe&&Wt.splice(t,1)}function Lv(e){Q(e)?Hi.push(...e):(!vn||!vn.includes(e,e.allowRecurse?mi+1:mi))&&Hi.push(e),kp()}function cu(e,t=Qs?Xe+1:0){for(;t<Wt.length;t++){const n=Wt[t];n&&n.pre&&(Wt.splice(t,1),t--,n())}}function Vp(e){if(Hi.length){const t=[...new Set(Hi)];if(Hi.length=0,vn){vn.push(...t);return}for(vn=t,vn.sort((n,r)=>tr(n)-tr(r)),mi=0;mi<vn.length;mi++)vn[mi]();vn=null,mi=0}}const tr=e=>e.id==null?1/0:e.id,Mv=(e,t)=>{const n=tr(e)-tr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sp(e){ra=!1,Qs=!0,Wt.sort(Mv);const t=Be;try{for(Xe=0;Xe<Wt.length;Xe++){const n=Wt[Xe];n&&n.active!==!1&&Kn(n,null,14)}}finally{Xe=0,Wt.length=0,Vp(),Qs=!1,Da=null,(Wt.length||Hi.length)&&Sp()}}function Av(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||wt;let a=n;const p=t.startsWith("update:"),v=p&&t.slice(7);if(v&&v in r){const k=`${v==="modelValue"?"model":v}Modifiers`,{number:E,trim:O}=r[k]||wt;O&&(a=n.map(G=>zt(G)?G.trim():G)),E&&(a=n.map($m))}let f,g=r[f=Il(t)]||r[f=Il(Je(t))];!g&&p&&(g=r[f=Il(ts(t))]),g&&je(g,e,6,a);const C=r[f+"Once"];if(C){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,je(C,e,6,a)}}function Lp(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const p=e.emits;let v={},f=!1;if(!tt(e)){const g=C=>{const k=Lp(C,t,!0);k&&(f=!0,Ft(v,k))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!p&&!f?(Rt(e)&&r.set(e,null),null):(Q(p)?p.forEach(g=>v[g]=null):Ft(v,p),Rt(e)&&r.set(e,v),v)}function wo(e,t){return!e||!ho(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,ts(t))||rt(e,t))}let Ne=null,go=null;function so(e){const t=Ne;return Ne=e,go=e&&e.type.__scopeId||null,t}function Tv(e){go=e}function Dv(){go=null}function Rv(e,t=Ne,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&Cu(-1);const p=so(t);let v;try{v=e(...a)}finally{so(p),r._d&&Cu(1)}return v};return r._n=!0,r._c=!0,r._d=!0,r}function jl(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:p,propsOptions:[v],slots:f,attrs:g,emit:C,render:k,renderCache:E,data:O,setupState:G,ctx:mt,inheritAttrs:I}=e;let ht,kt;const X=so(e);try{if(n.shapeFlag&4){const j=a||r;ht=We(k.call(j,j,E,p,G,O,mt)),kt=g}else{const j=t;ht=We(j.length>1?j(p,{attrs:g,slots:f,emit:C}):j(p,null)),kt=t.props?g:Ov(g)}}catch(j){Ws.length=0,_o(j,e,1),ht=le(wi)}let Vt=ht;if(kt&&I!==!1){const j=Object.keys(kt),{shapeFlag:we}=Vt;j.length&&we&7&&(v&&j.some(Ca)&&(kt=Nv(kt,v)),Vt=Xi(Vt,kt))}return n.dirs&&(Vt=Xi(Vt),Vt.dirs=Vt.dirs?Vt.dirs.concat(n.dirs):n.dirs),n.transition&&(Vt.transition=n.transition),ht=Vt,so(X),ht}const Ov=e=>{let t;for(const n in e)(n==="class"||n==="style"||ho(n))&&((t||(t={}))[n]=e[n]);return t},Nv=(e,t)=>{const n={};for(const r in e)(!Ca(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Iv(e,t,n){const{props:r,children:a,component:p}=e,{props:v,children:f,patchFlag:g}=t,C=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return r?uu(r,v,C):!!v;if(g&8){const k=t.dynamicProps;for(let E=0;E<k.length;E++){const O=k[E];if(v[O]!==r[O]&&!wo(C,O))return!0}}}else return(a||f)&&(!f||!f.$stable)?!0:r===v?!1:r?v?uu(r,v,C):!0:!!v;return!1}function uu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const p=r[a];if(t[p]!==e[p]&&!wo(n,p))return!0}return!1}function Bv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const jv=e=>e.__isSuspense;function Fv(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Lv(e)}const Gr={};function Fl(e,t,n){return Mp(e,t,n)}function Mp(e,t,{immediate:n,deep:r,flush:a,onTrack:p,onTrigger:v}=wt){var f;const g=Zm()===((f=jt)==null?void 0:f.scope)?jt:null;let C,k=!1,E=!1;if(Xt(e)?(C=()=>e.value,k=io(e)):Ui(e)?(C=()=>e,r=!0):Q(e)?(E=!0,k=e.some(j=>Ui(j)||io(j)),C=()=>e.map(j=>{if(Xt(j))return j.value;if(Ui(j))return Ki(j);if(tt(j))return Kn(j,g,2)})):tt(e)?t?C=()=>Kn(e,g,2):C=()=>{if(!(g&&g.isUnmounted))return O&&O(),je(e,g,3,[G])}:C=Be,t&&r){const j=C;C=()=>Ki(j())}let O,G=j=>{O=X.onStop=()=>{Kn(j,g,4)}},mt;if(nr)if(G=Be,t?n&&je(t,g,3,[C(),E?[]:void 0,G]):C(),a==="sync"){const j=Bf();mt=j.__watcherHandles||(j.__watcherHandles=[])}else return Be;let I=E?new Array(e.length).fill(Gr):Gr;const ht=()=>{if(!!X.active)if(t){const j=X.run();(r||k||(E?j.some((we,sn)=>_i(we,I[sn])):_i(j,I)))&&(O&&O(),je(t,g,3,[j,I===Gr?void 0:E&&I[0]===Gr?[]:I,G]),I=j)}else X.run()};ht.allowRecurse=!!t;let kt;a==="sync"?kt=ht:a==="post"?kt=()=>oe(ht,g&&g.suspense):(ht.pre=!0,g&&(ht.id=g.uid),kt=()=>Ra(ht));const X=new Va(C,kt);t?n?ht():I=X.run():a==="post"?oe(X.run.bind(X),g&&g.suspense):X.run();const Vt=()=>{X.stop(),g&&g.scope&&xa(g.scope.effects,X)};return mt&&mt.push(Vt),Vt}function zv(e,t,n){const r=this.proxy,a=zt(e)?e.includes(".")?Ap(r,e):()=>r[e]:e.bind(r,r);let p;tt(t)?p=t:(p=t.handler,n=t);const v=jt;Ji(this);const f=Mp(a,p.bind(r),n);return v?Ji(v):bi(),f}function Ap(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function Ki(e,t){if(!Rt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Xt(e))Ki(e.value,t);else if(Q(e))for(let n=0;n<e.length;n++)Ki(e[n],t);else if(Im(e)||Gs(e))e.forEach(n=>{Ki(n,t)});else if(Fm(e))for(const n in e)Ki(e[n],t);return e}function pi(e,t,n,r){const a=e.dirs,p=t&&t.dirs;for(let v=0;v<a.length;v++){const f=a[v];p&&(f.oldValue=p[v].value);let g=f.dir[r];g&&(es(),je(g,n,8,[e.el,f,e,t]),ns())}}/*! #__NO_SIDE_EFFECTS__ */function Oa(e,t){return tt(e)?(()=>Ft({name:e.name},t,{setup:e}))():e}const Xr=e=>!!e.type.__asyncLoader,Tp=e=>e.type.__isKeepAlive;function Kv(e,t){Dp(e,"a",t)}function $v(e,t){Dp(e,"da",t)}function Dp(e,t,n=jt){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Co(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Tp(a.parent.vnode)&&Uv(r,t,n,a),a=a.parent}}function Uv(e,t,n,r){const a=Co(t,e,r,!0);Op(()=>{xa(r[t],a)},n)}function Co(e,t,n=jt,r=!1){if(n){const a=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...v)=>{if(n.isUnmounted)return;es(),Ji(n);const f=je(t,n,e,v);return bi(),ns(),f});return r?a.unshift(p):a.push(p),p}}const gn=e=>(t,n=jt)=>(!nr||e==="sp")&&Co(e,(...r)=>t(...r),n),Hv=gn("bm"),Rp=gn("m"),qv=gn("bu"),Gv=gn("u"),Yv=gn("bum"),Op=gn("um"),Wv=gn("sp"),Xv=gn("rtg"),Jv=gn("rtc");function Zv(e,t=jt){Co("ec",e,t)}const Np="components";function pu(e,t){return tf(Np,e,!0,t)||e}const Qv=Symbol.for("v-ndc");function tf(e,t,n=!0,r=!1){const a=Ne||jt;if(a){const p=a.type;if(e===Np){const f=Rf(p,!1);if(f&&(f===t||f===Je(t)||f===fo(Je(t))))return p}const v=hu(a[e]||p[e],t)||hu(a.appContext[e],t);return!v&&r?p:v}}function hu(e,t){return e&&(e[t]||e[Je(t)]||e[fo(Je(t))])}const oa=e=>e?Gp(e)?Fa(e)||e.proxy:oa(e.parent):null,Ys=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$emit:e=>e.emit,$options:e=>Na(e),$forceUpdate:e=>e.f||(e.f=()=>Ra(e.update)),$nextTick:e=>e.n||(e.n=Ep.bind(e.proxy)),$watch:e=>zv.bind(e)}),zl=(e,t)=>e!==wt&&!e.__isScriptSetup&&rt(e,t),ef={get({_:e},t){const{ctx:n,setupState:r,data:a,props:p,accessCache:v,type:f,appContext:g}=e;let C;if(t[0]!=="$"){const G=v[t];if(G!==void 0)switch(G){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return p[t]}else{if(zl(r,t))return v[t]=1,r[t];if(a!==wt&&rt(a,t))return v[t]=2,a[t];if((C=e.propsOptions[0])&&rt(C,t))return v[t]=3,p[t];if(n!==wt&&rt(n,t))return v[t]=4,n[t];la&&(v[t]=0)}}const k=Ys[t];let E,O;if(k)return t==="$attrs"&&ce(e,"get",t),k(e);if((E=f.__cssModules)&&(E=E[t]))return E;if(n!==wt&&rt(n,t))return v[t]=4,n[t];if(O=g.config.globalProperties,rt(O,t))return O[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:p}=e;return zl(a,t)?(a[t]=n,!0):r!==wt&&rt(r,t)?(r[t]=n,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:p}},v){let f;return!!n[v]||e!==wt&&rt(e,v)||zl(t,v)||(f=p[0])&&rt(f,v)||rt(r,v)||rt(Ys,v)||rt(a.config.globalProperties,v)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function du(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let la=!0;function nf(e){const t=Na(e),n=e.proxy,r=e.ctx;la=!1,t.beforeCreate&&mu(t.beforeCreate,e,"bc");const{data:a,computed:p,methods:v,watch:f,provide:g,inject:C,created:k,beforeMount:E,mounted:O,beforeUpdate:G,updated:mt,activated:I,deactivated:ht,beforeDestroy:kt,beforeUnmount:X,destroyed:Vt,unmounted:j,render:we,renderTracked:sn,renderTriggered:$t,errorCaptured:St,serverPrefetch:Ut,expose:et,inheritAttrs:Se,components:Fe,directives:Cn,filters:Ht}=t;if(C&&sf(C,r,null),v)for(const W in v){const z=v[W];tt(z)&&(r[W]=z.bind(n))}if(a){const W=a.call(n,n);Rt(W)&&(e.data=Ma(W))}if(la=!0,p)for(const W in p){const z=p[W],Le=tt(z)?z.bind(n,n):tt(z.get)?z.get.bind(n,n):Be,ze=!tt(z)&&tt(z.set)?z.set.bind(n):Be,Me=Nf({get:Le,set:ze});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>Me.value,set:gt=>Me.value=gt})}if(f)for(const W in f)Ip(f[W],r,n,W);if(g){const W=tt(g)?g.call(n):g;Reflect.ownKeys(W).forEach(z=>{uf(z,W[z])})}k&&mu(k,e,"c");function _t(W,z){Q(z)?z.forEach(Le=>W(Le.bind(n))):z&&W(z.bind(n))}if(_t(Hv,E),_t(Rp,O),_t(qv,G),_t(Gv,mt),_t(Kv,I),_t($v,ht),_t(Zv,St),_t(Jv,sn),_t(Xv,$t),_t(Yv,X),_t(Op,j),_t(Wv,Ut),Q(et))if(et.length){const W=e.exposed||(e.exposed={});et.forEach(z=>{Object.defineProperty(W,z,{get:()=>n[z],set:Le=>n[z]=Le})})}else e.exposed||(e.exposed={});we&&e.render===Be&&(e.render=we),Se!=null&&(e.inheritAttrs=Se),Fe&&(e.components=Fe),Cn&&(e.directives=Cn)}function sf(e,t,n=Be){Q(e)&&(e=aa(e));for(const r in e){const a=e[r];let p;Rt(a)?"default"in a?p=Jr(a.from||r,a.default,!0):p=Jr(a.from||r):p=Jr(a),Xt(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:v=>p.value=v}):t[r]=p}}function mu(e,t,n){je(Q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ip(e,t,n,r){const a=r.includes(".")?Ap(n,r):()=>n[r];if(zt(e)){const p=t[e];tt(p)&&Fl(a,p)}else if(tt(e))Fl(a,e.bind(n));else if(Rt(e))if(Q(e))e.forEach(p=>Ip(p,t,n,r));else{const p=tt(e.handler)?e.handler.bind(n):t[e.handler];tt(p)&&Fl(a,p,e)}}function Na(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:p,config:{optionMergeStrategies:v}}=e.appContext,f=p.get(t);let g;return f?g=f:!a.length&&!n&&!r?g=t:(g={},a.length&&a.forEach(C=>ro(g,C,v,!0)),ro(g,t,v)),Rt(t)&&p.set(t,g),g}function ro(e,t,n,r=!1){const{mixins:a,extends:p}=t;p&&ro(e,p,n,!0),a&&a.forEach(v=>ro(e,v,n,!0));for(const v in t)if(!(r&&v==="expose")){const f=rf[v]||n&&n[v];e[v]=f?f(e[v],t[v]):t[v]}return e}const rf={data:vu,props:fu,emits:fu,methods:qs,computed:qs,beforeCreate:te,created:te,beforeMount:te,mounted:te,beforeUpdate:te,updated:te,beforeDestroy:te,beforeUnmount:te,destroyed:te,unmounted:te,activated:te,deactivated:te,errorCaptured:te,serverPrefetch:te,components:qs,directives:qs,watch:lf,provide:vu,inject:of};function vu(e,t){return t?e?function(){return Ft(tt(e)?e.call(this,this):e,tt(t)?t.call(this,this):t)}:t:e}function of(e,t){return qs(aa(e),aa(t))}function aa(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function te(e,t){return e?[...new Set([].concat(e,t))]:t}function qs(e,t){return e?Ft(Object.create(null),e,t):t}function fu(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Ft(Object.create(null),du(e),du(t!=null?t:{})):t}function lf(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const r in t)n[r]=te(e[r],t[r]);return n}function Bp(){return{app:null,config:{isNativeTag:Rm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let af=0;function cf(e,t){return function(r,a=null){tt(r)||(r=Ft({},r)),a!=null&&!Rt(a)&&(a=null);const p=Bp(),v=new WeakSet;let f=!1;const g=p.app={_uid:af++,_component:r,_props:a,_container:null,_context:p,_instance:null,version:jf,get config(){return p.config},set config(C){},use(C,...k){return v.has(C)||(C&&tt(C.install)?(v.add(C),C.install(g,...k)):tt(C)&&(v.add(C),C(g,...k))),g},mixin(C){return p.mixins.includes(C)||p.mixins.push(C),g},component(C,k){return k?(p.components[C]=k,g):p.components[C]},directive(C,k){return k?(p.directives[C]=k,g):p.directives[C]},mount(C,k,E){if(!f){const O=le(r,a);return O.appContext=p,k&&t?t(O,C):e(O,C,E),f=!0,g._container=C,C.__vue_app__=g,Fa(O.component)||O.component.proxy}},unmount(){f&&(e(null,g._container),delete g._container.__vue_app__)},provide(C,k){return p.provides[C]=k,g},runWithContext(C){oo=g;try{return C()}finally{oo=null}}};return g}}let oo=null;function uf(e,t){if(jt){let n=jt.provides;const r=jt.parent&&jt.parent.provides;r===n&&(n=jt.provides=Object.create(r)),n[e]=t}}function Jr(e,t,n=!1){const r=jt||Ne;if(r||oo){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:oo._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&tt(t)?t.call(r&&r.proxy):t}}function pf(e,t,n,r=!1){const a={},p={};no(p,yo,1),e.propsDefaults=Object.create(null),jp(e,t,a,p);for(const v in e.propsOptions[0])v in a||(a[v]=void 0);n?e.props=r?a:wv(a):e.type.props?e.props=a:e.props=p,e.attrs=p}function hf(e,t,n,r){const{props:a,attrs:p,vnode:{patchFlag:v}}=e,f=pt(a),[g]=e.propsOptions;let C=!1;if((r||v>0)&&!(v&16)){if(v&8){const k=e.vnode.dynamicProps;for(let E=0;E<k.length;E++){let O=k[E];if(wo(e.emitsOptions,O))continue;const G=t[O];if(g)if(rt(p,O))G!==p[O]&&(p[O]=G,C=!0);else{const mt=Je(O);a[mt]=ca(g,f,mt,G,e,!1)}else G!==p[O]&&(p[O]=G,C=!0)}}}else{jp(e,t,a,p)&&(C=!0);let k;for(const E in f)(!t||!rt(t,E)&&((k=ts(E))===E||!rt(t,k)))&&(g?n&&(n[E]!==void 0||n[k]!==void 0)&&(a[E]=ca(g,f,E,void 0,e,!0)):delete a[E]);if(p!==f)for(const E in p)(!t||!rt(t,E)&&!0)&&(delete p[E],C=!0)}C&&bn(e,"set","$attrs")}function jp(e,t,n,r){const[a,p]=e.propsOptions;let v=!1,f;if(t)for(let g in t){if(Wr(g))continue;const C=t[g];let k;a&&rt(a,k=Je(g))?!p||!p.includes(k)?n[k]=C:(f||(f={}))[k]=C:wo(e.emitsOptions,g)||(!(g in r)||C!==r[g])&&(r[g]=C,v=!0)}if(p){const g=pt(n),C=f||wt;for(let k=0;k<p.length;k++){const E=p[k];n[E]=ca(a,g,E,C[E],e,!rt(C,E))}}return v}function ca(e,t,n,r,a,p){const v=e[n];if(v!=null){const f=rt(v,"default");if(f&&r===void 0){const g=v.default;if(v.type!==Function&&!v.skipFactory&&tt(g)){const{propsDefaults:C}=a;n in C?r=C[n]:(Ji(a),r=C[n]=g.call(null,t),bi())}else r=g}v[0]&&(p&&!f?r=!1:v[1]&&(r===""||r===ts(n))&&(r=!0))}return r}function Fp(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const p=e.props,v={},f=[];let g=!1;if(!tt(e)){const k=E=>{g=!0;const[O,G]=Fp(E,t,!0);Ft(v,O),G&&f.push(...G)};!n&&t.mixins.length&&t.mixins.forEach(k),e.extends&&k(e.extends),e.mixins&&e.mixins.forEach(k)}if(!p&&!g)return Rt(e)&&r.set(e,$i),$i;if(Q(p))for(let k=0;k<p.length;k++){const E=Je(p[k]);bu(E)&&(v[E]=wt)}else if(p)for(const k in p){const E=Je(k);if(bu(E)){const O=p[k],G=v[E]=Q(O)||tt(O)?{type:O}:Ft({},O);if(G){const mt=gu(Boolean,G.type),I=gu(String,G.type);G[0]=mt>-1,G[1]=I<0||mt<I,(mt>-1||rt(G,"default"))&&f.push(E)}}}const C=[v,f];return Rt(e)&&r.set(e,C),C}function bu(e){return e[0]!=="$"}function _u(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function wu(e,t){return _u(e)===_u(t)}function gu(e,t){return Q(t)?t.findIndex(n=>wu(n,e)):tt(t)&&wu(t,e)?0:-1}const zp=e=>e[0]==="_"||e==="$stable",Ia=e=>Q(e)?e.map(We):[We(e)],df=(e,t,n)=>{if(t._n)return t;const r=Rv((...a)=>Ia(t(...a)),n);return r._c=!1,r},Kp=(e,t,n)=>{const r=e._ctx;for(const a in e){if(zp(a))continue;const p=e[a];if(tt(p))t[a]=df(a,p,r);else if(p!=null){const v=Ia(p);t[a]=()=>v}}},$p=(e,t)=>{const n=Ia(t);e.slots.default=()=>n},mf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=pt(t),no(t,"_",n)):Kp(t,e.slots={})}else e.slots={},t&&$p(e,t);no(e.slots,yo,1)},vf=(e,t,n)=>{const{vnode:r,slots:a}=e;let p=!0,v=wt;if(r.shapeFlag&32){const f=t._;f?n&&f===1?p=!1:(Ft(a,t),!n&&f===1&&delete a._):(p=!t.$stable,Kp(t,a)),v=t}else t&&($p(e,t),v={default:1});if(p)for(const f in a)!zp(f)&&v[f]==null&&delete a[f]};function ua(e,t,n,r,a=!1){if(Q(e)){e.forEach((O,G)=>ua(O,t&&(Q(t)?t[G]:t),n,r,a));return}if(Xr(r)&&!a)return;const p=r.shapeFlag&4?Fa(r.component)||r.component.proxy:r.el,v=a?null:p,{i:f,r:g}=e,C=t&&t.r,k=f.refs===wt?f.refs={}:f.refs,E=f.setupState;if(C!=null&&C!==g&&(zt(C)?(k[C]=null,rt(E,C)&&(E[C]=null)):Xt(C)&&(C.value=null)),tt(g))Kn(g,f,12,[v,k]);else{const O=zt(g),G=Xt(g);if(O||G){const mt=()=>{if(e.f){const I=O?rt(E,g)?E[g]:k[g]:g.value;a?Q(I)&&xa(I,p):Q(I)?I.includes(p)||I.push(p):O?(k[g]=[p],rt(E,g)&&(E[g]=k[g])):(g.value=[p],e.k&&(k[e.k]=g.value))}else O?(k[g]=v,rt(E,g)&&(E[g]=v)):G&&(g.value=v,e.k&&(k[e.k]=v))};v?(mt.id=-1,oe(mt,n)):mt()}}}const oe=Fv;function ff(e){return bf(e)}function bf(e,t){const n=ta();n.__VUE__=!0;const{insert:r,remove:a,patchProp:p,createElement:v,createText:f,createComment:g,setText:C,setElementText:k,parentNode:E,nextSibling:O,setScopeId:G=Be,insertStaticContent:mt}=e,I=(w,x,S,M=null,L=null,D=null,F=!1,R=null,B=!!x.dynamicChildren)=>{if(w===x)return;w&&!Fs(w,x)&&(M=rn(w),gt(w,L,D,!0),w=null),x.patchFlag===-2&&(B=!1,x.dynamicChildren=null);const{type:A,ref:U,shapeFlag:K}=x;switch(A){case xo:ht(w,x,S,M);break;case wi:kt(w,x,S,M);break;case Kl:w==null&&X(x,S,M,F);break;case Ye:Fe(w,x,S,M,L,D,F,R,B);break;default:K&1?we(w,x,S,M,L,D,F,R,B):K&6?Cn(w,x,S,M,L,D,F,R,B):(K&64||K&128)&&A.process(w,x,S,M,L,D,F,R,B,pe)}U!=null&&L&&ua(U,w&&w.ref,D,x||w,!x)},ht=(w,x,S,M)=>{if(w==null)r(x.el=f(x.children),S,M);else{const L=x.el=w.el;x.children!==w.children&&C(L,x.children)}},kt=(w,x,S,M)=>{w==null?r(x.el=g(x.children||""),S,M):x.el=w.el},X=(w,x,S,M)=>{[w.el,w.anchor]=mt(w.children,x,S,M,w.el,w.anchor)},Vt=({el:w,anchor:x},S,M)=>{let L;for(;w&&w!==x;)L=O(w),r(w,S,M),w=L;r(x,S,M)},j=({el:w,anchor:x})=>{let S;for(;w&&w!==x;)S=O(w),a(w),w=S;a(x)},we=(w,x,S,M,L,D,F,R,B)=>{F=F||x.type==="svg",w==null?sn(x,S,M,L,D,F,R,B):Ut(w,x,L,D,F,R,B)},sn=(w,x,S,M,L,D,F,R)=>{let B,A;const{type:U,props:K,shapeFlag:$,transition:H,dirs:J}=w;if(B=w.el=v(w.type,D,K&&K.is,K),$&8?k(B,w.children):$&16&&St(w.children,B,null,M,L,D&&U!=="foreignObject",F,R),J&&pi(w,null,M,"created"),$t(B,w,w.scopeId,F,M),K){for(const st in K)st!=="value"&&!Wr(st)&&p(B,st,null,K[st],D,w.children,M,L,qt);"value"in K&&p(B,"value",null,K.value),(A=K.onVnodeBeforeMount)&&Ge(A,M,w)}J&&pi(w,null,M,"beforeMount");const ct=(!L||L&&!L.pendingBranch)&&H&&!H.persisted;ct&&H.beforeEnter(B),r(B,x,S),((A=K&&K.onVnodeMounted)||ct||J)&&oe(()=>{A&&Ge(A,M,w),ct&&H.enter(B),J&&pi(w,null,M,"mounted")},L)},$t=(w,x,S,M,L)=>{if(S&&G(w,S),M)for(let D=0;D<M.length;D++)G(w,M[D]);if(L){let D=L.subTree;if(x===D){const F=L.vnode;$t(w,F,F.scopeId,F.slotScopeIds,L.parent)}}},St=(w,x,S,M,L,D,F,R,B=0)=>{for(let A=B;A<w.length;A++){const U=w[A]=R?jn(w[A]):We(w[A]);I(null,U,x,S,M,L,D,F,R)}},Ut=(w,x,S,M,L,D,F)=>{const R=x.el=w.el;let{patchFlag:B,dynamicChildren:A,dirs:U}=x;B|=w.patchFlag&16;const K=w.props||wt,$=x.props||wt;let H;S&&hi(S,!1),(H=$.onVnodeBeforeUpdate)&&Ge(H,S,x,w),U&&pi(x,w,S,"beforeUpdate"),S&&hi(S,!0);const J=L&&x.type!=="foreignObject";if(A?et(w.dynamicChildren,A,R,S,M,J,D):F||z(w,x,R,null,S,M,J,D,!1),B>0){if(B&16)Se(R,x,K,$,S,M,L);else if(B&2&&K.class!==$.class&&p(R,"class",null,$.class,L),B&4&&p(R,"style",K.style,$.style,L),B&8){const ct=x.dynamicProps;for(let st=0;st<ct.length;st++){const ft=ct[st],Mt=K[ft],ge=$[ft];(ge!==Mt||ft==="value")&&p(R,ft,Mt,ge,L,w.children,S,M,qt)}}B&1&&w.children!==x.children&&k(R,x.children)}else!F&&A==null&&Se(R,x,K,$,S,M,L);((H=$.onVnodeUpdated)||U)&&oe(()=>{H&&Ge(H,S,x,w),U&&pi(x,w,S,"updated")},M)},et=(w,x,S,M,L,D,F)=>{for(let R=0;R<x.length;R++){const B=w[R],A=x[R],U=B.el&&(B.type===Ye||!Fs(B,A)||B.shapeFlag&70)?E(B.el):S;I(B,A,U,null,M,L,D,F,!0)}},Se=(w,x,S,M,L,D,F)=>{if(S!==M){if(S!==wt)for(const R in S)!Wr(R)&&!(R in M)&&p(w,R,S[R],null,F,x.children,L,D,qt);for(const R in M){if(Wr(R))continue;const B=M[R],A=S[R];B!==A&&R!=="value"&&p(w,R,A,B,F,x.children,L,D,qt)}"value"in M&&p(w,"value",S.value,M.value)}},Fe=(w,x,S,M,L,D,F,R,B)=>{const A=x.el=w?w.el:f(""),U=x.anchor=w?w.anchor:f("");let{patchFlag:K,dynamicChildren:$,slotScopeIds:H}=x;H&&(R=R?R.concat(H):H),w==null?(r(A,S,M),r(U,S,M),St(x.children,S,U,L,D,F,R,B)):K>0&&K&64&&$&&w.dynamicChildren?(et(w.dynamicChildren,$,S,L,D,F,R),(x.key!=null||L&&x===L.subTree)&&Up(w,x,!0)):z(w,x,S,U,L,D,F,R,B)},Cn=(w,x,S,M,L,D,F,R,B)=>{x.slotScopeIds=R,w==null?x.shapeFlag&512?L.ctx.activate(x,S,M,F,B):Ht(x,S,M,L,D,F,B):qn(w,x,B)},Ht=(w,x,S,M,L,D,F)=>{const R=w.component=Lf(w,M,L);if(Tp(w)&&(R.ctx.renderer=pe),Mf(R),R.asyncDep){if(L&&L.registerDep(R,_t),!w.el){const B=R.subTree=le(wi);kt(null,B,x,S)}return}_t(R,w,x,S,L,D,F)},qn=(w,x,S)=>{const M=x.component=w.component;if(Iv(w,x,S))if(M.asyncDep&&!M.asyncResolved){W(M,x,S);return}else M.next=x,Sv(M.update),M.update();else x.el=w.el,M.vnode=x},_t=(w,x,S,M,L,D,F)=>{const R=()=>{if(w.isMounted){let{next:U,bu:K,u:$,parent:H,vnode:J}=w,ct=U,st;hi(w,!1),U?(U.el=J.el,W(w,U,F)):U=J,K&&Bl(K),(st=U.props&&U.props.onVnodeBeforeUpdate)&&Ge(st,H,U,J),hi(w,!0);const ft=jl(w),Mt=w.subTree;w.subTree=ft,I(Mt,ft,E(Mt.el),rn(Mt),w,L,D),U.el=ft.el,ct===null&&Bv(w,ft.el),$&&oe($,L),(st=U.props&&U.props.onVnodeUpdated)&&oe(()=>Ge(st,H,U,J),L)}else{let U;const{el:K,props:$}=x,{bm:H,m:J,parent:ct}=w,st=Xr(x);if(hi(w,!1),H&&Bl(H),!st&&(U=$&&$.onVnodeBeforeMount)&&Ge(U,ct,x),hi(w,!0),K&&Gt){const ft=()=>{w.subTree=jl(w),Gt(K,w.subTree,w,L,null)};st?x.type.__asyncLoader().then(()=>!w.isUnmounted&&ft()):ft()}else{const ft=w.subTree=jl(w);I(null,ft,S,M,w,L,D),x.el=ft.el}if(J&&oe(J,L),!st&&(U=$&&$.onVnodeMounted)){const ft=x;oe(()=>Ge(U,ct,ft),L)}(x.shapeFlag&256||ct&&Xr(ct.vnode)&&ct.vnode.shapeFlag&256)&&w.a&&oe(w.a,L),w.isMounted=!0,x=S=M=null}},B=w.effect=new Va(R,()=>Ra(A),w.scope),A=w.update=()=>B.run();A.id=w.uid,hi(w,!0),A()},W=(w,x,S)=>{x.component=w;const M=w.vnode.props;w.vnode=x,w.next=null,hf(w,x.props,M,S),vf(w,x.children,S),es(),cu(),ns()},z=(w,x,S,M,L,D,F,R,B=!1)=>{const A=w&&w.children,U=w?w.shapeFlag:0,K=x.children,{patchFlag:$,shapeFlag:H}=x;if($>0){if($&128){ze(A,K,S,M,L,D,F,R,B);return}else if($&256){Le(A,K,S,M,L,D,F,R,B);return}}H&8?(U&16&&qt(A,L,D),K!==A&&k(S,K)):U&16?H&16?ze(A,K,S,M,L,D,F,R,B):qt(A,L,D,!0):(U&8&&k(S,""),H&16&&St(K,S,M,L,D,F,R,B))},Le=(w,x,S,M,L,D,F,R,B)=>{w=w||$i,x=x||$i;const A=w.length,U=x.length,K=Math.min(A,U);let $;for($=0;$<K;$++){const H=x[$]=B?jn(x[$]):We(x[$]);I(w[$],H,S,null,L,D,F,R,B)}A>U?qt(w,L,D,!0,!1,K):St(x,S,M,L,D,F,R,B,K)},ze=(w,x,S,M,L,D,F,R,B)=>{let A=0;const U=x.length;let K=w.length-1,$=U-1;for(;A<=K&&A<=$;){const H=w[A],J=x[A]=B?jn(x[A]):We(x[A]);if(Fs(H,J))I(H,J,S,null,L,D,F,R,B);else break;A++}for(;A<=K&&A<=$;){const H=w[K],J=x[$]=B?jn(x[$]):We(x[$]);if(Fs(H,J))I(H,J,S,null,L,D,F,R,B);else break;K--,$--}if(A>K){if(A<=$){const H=$+1,J=H<U?x[H].el:M;for(;A<=$;)I(null,x[A]=B?jn(x[A]):We(x[A]),S,J,L,D,F,R,B),A++}}else if(A>$)for(;A<=K;)gt(w[A],L,D,!0),A++;else{const H=A,J=A,ct=new Map;for(A=J;A<=$;A++){const yt=x[A]=B?jn(x[A]):We(x[A]);yt.key!=null&&ct.set(yt.key,A)}let st,ft=0;const Mt=$-J+1;let ge=!1,Ke=0;const he=new Array(Mt);for(A=0;A<Mt;A++)he[A]=0;for(A=H;A<=K;A++){const yt=w[A];if(ft>=Mt){gt(yt,L,D,!0);continue}let Ot;if(yt.key!=null)Ot=ct.get(yt.key);else for(st=J;st<=$;st++)if(he[st-J]===0&&Fs(yt,x[st])){Ot=st;break}Ot===void 0?gt(yt,L,D,!0):(he[Ot-J]=A+1,Ot>=Ke?Ke=Ot:ge=!0,I(yt,x[Ot],S,null,L,D,F,R,B),ft++)}const yi=ge?_f(he):$i;for(st=yi.length-1,A=Mt-1;A>=0;A--){const yt=J+A,Ot=x[yt],$e=yt+1<U?x[yt+1].el:M;he[A]===0?I(null,Ot,S,$e,L,D,F,R,B):ge&&(st<0||A!==yi[st]?Me(Ot,S,$e,2):st--)}}},Me=(w,x,S,M,L=null)=>{const{el:D,type:F,transition:R,children:B,shapeFlag:A}=w;if(A&6){Me(w.component.subTree,x,S,M);return}if(A&128){w.suspense.move(x,S,M);return}if(A&64){F.move(w,x,S,pe);return}if(F===Ye){r(D,x,S);for(let K=0;K<B.length;K++)Me(B[K],x,S,M);r(w.anchor,x,S);return}if(F===Kl){Vt(w,x,S);return}if(M!==2&&A&1&&R)if(M===0)R.beforeEnter(D),r(D,x,S),oe(()=>R.enter(D),L);else{const{leave:K,delayLeave:$,afterLeave:H}=R,J=()=>r(D,x,S),ct=()=>{K(D,()=>{J(),H&&H()})};$?$(D,J,ct):ct()}else r(D,x,S)},gt=(w,x,S,M=!1,L=!1)=>{const{type:D,props:F,ref:R,children:B,dynamicChildren:A,shapeFlag:U,patchFlag:K,dirs:$}=w;if(R!=null&&ua(R,null,S,w,!0),U&256){x.ctx.deactivate(w);return}const H=U&1&&$,J=!Xr(w);let ct;if(J&&(ct=F&&F.onVnodeBeforeUnmount)&&Ge(ct,x,w),U&6)xt(w.component,S,M);else{if(U&128){w.suspense.unmount(S,M);return}H&&pi(w,null,x,"beforeUnmount"),U&64?w.type.remove(w,x,S,L,pe,M):A&&(D!==Ye||K>0&&K&64)?qt(A,x,S,!1,!0):(D===Ye&&K&384||!L&&U&16)&&qt(B,x,S),M&&ue(w)}(J&&(ct=F&&F.onVnodeUnmounted)||H)&&oe(()=>{ct&&Ge(ct,x,w),H&&pi(w,null,x,"unmounted")},S)},ue=w=>{const{type:x,el:S,anchor:M,transition:L}=w;if(x===Ye){vt(S,M);return}if(x===Kl){j(w);return}const D=()=>{a(S),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(w.shapeFlag&1&&L&&!L.persisted){const{leave:F,delayLeave:R}=L,B=()=>F(S,D);R?R(w.el,D,B):B()}else D()},vt=(w,x)=>{let S;for(;w!==x;)S=O(w),a(w),w=S;a(x)},xt=(w,x,S)=>{const{bum:M,scope:L,update:D,subTree:F,um:R}=w;M&&Bl(M),L.stop(),D&&(D.active=!1,gt(F,w,x,S)),R&&oe(R,x),oe(()=>{w.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},qt=(w,x,S,M=!1,L=!1,D=0)=>{for(let F=D;F<w.length;F++)gt(w[F],x,S,M,L)},rn=w=>w.shapeFlag&6?rn(w.component.subTree):w.shapeFlag&128?w.suspense.next():O(w.anchor||w.el),Lt=(w,x,S)=>{w==null?x._vnode&&gt(x._vnode,null,null,!0):I(x._vnode||null,w,x,null,null,null,S),cu(),Vp(),x._vnode=w},pe={p:I,um:gt,m:Me,r:ue,mt:Ht,mc:St,pc:z,pbc:et,n:rn,o:e};let xn,Gt;return t&&([xn,Gt]=t(pe)),{render:Lt,hydrate:xn,createApp:cf(Lt,xn)}}function hi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Up(e,t,n=!1){const r=e.children,a=t.children;if(Q(r)&&Q(a))for(let p=0;p<r.length;p++){const v=r[p];let f=a[p];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=a[p]=jn(a[p]),f.el=v.el),n||Up(v,f)),f.type===xo&&(f.el=v.el)}}function _f(e){const t=e.slice(),n=[0];let r,a,p,v,f;const g=e.length;for(r=0;r<g;r++){const C=e[r];if(C!==0){if(a=n[n.length-1],e[a]<C){t[r]=a,n.push(r);continue}for(p=0,v=n.length-1;p<v;)f=p+v>>1,e[n[f]]<C?p=f+1:v=f;C<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,v=n[p-1];p-- >0;)n[p]=v,v=t[v];return n}const wf=e=>e.__isTeleport,Ye=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),wi=Symbol.for("v-cmt"),Kl=Symbol.for("v-stc"),Ws=[];let Ie=null;function qi(e=!1){Ws.push(Ie=e?null:[])}function gf(){Ws.pop(),Ie=Ws[Ws.length-1]||null}let er=1;function Cu(e){er+=e}function Hp(e){return e.dynamicChildren=er>0?Ie||$i:null,gf(),er>0&&Ie&&Ie.push(e),e}function Xs(e,t,n,r,a,p){return Hp(be(e,t,n,r,a,p,!0))}function Cf(e,t,n,r,a){return Hp(le(e,t,n,r,a,!0))}function xf(e){return e?e.__v_isVNode===!0:!1}function Fs(e,t){return e.type===t.type&&e.key===t.key}const yo="__vInternal",qp=({key:e})=>e!=null?e:null,Zr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||Xt(e)||tt(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function be(e,t=null,n=null,r=0,a=null,p=e===Ye?0:1,v=!1,f=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qp(t),ref:t&&Zr(t),scopeId:go,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ne};return f?(Ba(g,n),p&128&&e.normalize(g)):n&&(g.shapeFlag|=zt(n)?8:16),er>0&&!v&&Ie&&(g.patchFlag>0||p&6)&&g.patchFlag!==32&&Ie.push(g),g}const le=yf;function yf(e,t=null,n=null,r=0,a=null,p=!1){if((!e||e===Qv)&&(e=wi),xf(e)){const f=Xi(e,t,!0);return n&&Ba(f,n),er>0&&!p&&Ie&&(f.shapeFlag&6?Ie[Ie.indexOf(e)]=f:Ie.push(f)),f.patchFlag|=-2,f}if(Of(e)&&(e=e.__vccOpts),t){t=Pf(t);let{class:f,style:g}=t;f&&!zt(f)&&(t.class=Ea(f)),Rt(g)&&(wp(g)&&!Q(g)&&(g=Ft({},g)),t.style=Js(g))}const v=zt(e)?1:jv(e)?128:wf(e)?64:Rt(e)?4:tt(e)?2:0;return be(e,t,n,r,a,v,p,!0)}function Pf(e){return e?wp(e)||yo in e?Ft({},e):e:null}function Xi(e,t,n=!1){const{props:r,ref:a,patchFlag:p,children:v}=e,f=t?kf(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&qp(f),ref:t&&t.ref?n&&a?Q(a)?a.concat(Zr(t)):[a,Zr(t)]:Zr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:v,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xi(e.ssContent),ssFallback:e.ssFallback&&Xi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ef(e=" ",t=0){return le(xo,null,e,t)}function xu(e="",t=!1){return t?(qi(),Cf(wi,null,e)):le(wi,null,e)}function We(e){return e==null||typeof e=="boolean"?le(wi):Q(e)?le(Ye,null,e.slice()):typeof e=="object"?jn(e):le(xo,null,String(e))}function jn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xi(e)}function Ba(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Ba(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(yo in t)?t._ctx=Ne:a===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else tt(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),r&64?(n=16,t=[Ef(t)]):n=8);e.children=t,e.shapeFlag|=n}function kf(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Ea([t.class,r.class]));else if(a==="style")t.style=Js([t.style,r.style]);else if(ho(a)){const p=t[a],v=r[a];v&&p!==v&&!(Q(p)&&p.includes(v))&&(t[a]=p?[].concat(p,v):v)}else a!==""&&(t[a]=r[a])}return t}function Ge(e,t,n,r=null){je(e,t,7,[n,r])}const Vf=Bp();let Sf=0;function Lf(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||Vf,p={uid:Sf++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fp(r,a),emitsOptions:Lp(r,a),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:r.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Av.bind(null,p),e.ce&&e.ce(p),p}let jt=null,ja,ji,yu="__VUE_INSTANCE_SETTERS__";(ji=ta()[yu])||(ji=ta()[yu]=[]),ji.push(e=>jt=e),ja=e=>{ji.length>1?ji.forEach(t=>t(e)):ji[0](e)};const Ji=e=>{ja(e),e.scope.on()},bi=()=>{jt&&jt.scope.off(),ja(null)};function Gp(e){return e.vnode.shapeFlag&4}let nr=!1;function Mf(e,t=!1){nr=t;const{props:n,children:r}=e.vnode,a=Gp(e);pf(e,n,a,t),mf(e,r);const p=a?Af(e,t):void 0;return nr=!1,p}function Af(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=gp(new Proxy(e.ctx,ef));const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?Df(e):null;Ji(e),es();const p=Kn(r,e,0,[e.props,a]);if(ns(),bi(),op(p)){if(p.then(bi,bi),t)return p.then(v=>{Pu(e,v,t)}).catch(v=>{_o(v,e,0)});e.asyncDep=p}else Pu(e,p,t)}else Yp(e,t)}function Pu(e,t,n){tt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)&&(e.setupState=yp(t)),Yp(e,n)}let Eu;function Yp(e,t,n){const r=e.type;if(!e.render){if(!t&&Eu&&!r.render){const a=r.template||Na(e).template;if(a){const{isCustomElement:p,compilerOptions:v}=e.appContext.config,{delimiters:f,compilerOptions:g}=r,C=Ft(Ft({isCustomElement:p,delimiters:f},v),g);r.render=Eu(a,C)}}e.render=r.render||Be}{Ji(e),es();try{nf(e)}finally{ns(),bi()}}}function Tf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ce(e,"get","$attrs"),t[n]}}))}function Df(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Tf(e)},slots:e.slots,emit:e.emit,expose:t}}function Fa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yp(gp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ys)return Ys[n](e)},has(t,n){return n in t||n in Ys}}))}function Rf(e,t=!0){return tt(e)?e.displayName||e.name:e.name||t&&e.__name}function Of(e){return tt(e)&&"__vccOpts"in e}const Nf=(e,t)=>Ev(e,t,nr),If=Symbol.for("v-scx"),Bf=()=>Jr(If),jf="3.3.6",Ff="http://www.w3.org/2000/svg",vi=typeof document<"u"?document:null,ku=vi&&vi.createElement("template"),zf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?vi.createElementNS(Ff,e):vi.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>vi.createTextNode(e),createComment:e=>vi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,p){const v=n?n.previousSibling:t.lastChild;if(a&&(a===p||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===p||!(a=a.nextSibling)););else{ku.innerHTML=r?`<svg>${e}</svg>`:e;const f=ku.content;if(r){const g=f.firstChild;for(;g.firstChild;)f.appendChild(g.firstChild);f.removeChild(g)}t.insertBefore(f,n)}return[v?v.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Kf=Symbol("_vtc");function $f(e,t,n){const r=e[Kf];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Uf=Symbol("_vod");function Hf(e,t,n){const r=e.style,a=zt(n);if(n&&!a){if(t&&!zt(t))for(const p in t)n[p]==null&&pa(r,p,"");for(const p in n)pa(r,p,n[p])}else{const p=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),Uf in e&&(r.display=p)}}const Vu=/\s*!important$/;function pa(e,t,n){if(Q(n))n.forEach(r=>pa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=qf(e,t);Vu.test(n)?e.setProperty(ts(r),n.replace(Vu,""),"important"):e[r]=n}}const Su=["Webkit","Moz","ms"],$l={};function qf(e,t){const n=$l[t];if(n)return n;let r=Je(t);if(r!=="filter"&&r in e)return $l[t]=r;r=fo(r);for(let a=0;a<Su.length;a++){const p=Su[a]+r;if(p in e)return $l[t]=p}return t}const Lu="http://www.w3.org/1999/xlink";function Gf(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Lu,t.slice(6,t.length)):e.setAttributeNS(Lu,t,n);else{const p=Wm(t);n==null||p&&!lp(n)?e.removeAttribute(t):e.setAttribute(t,p?"":n)}}function Yf(e,t,n,r,a,p,v){if(t==="innerHTML"||t==="textContent"){r&&v(r,a,p),e[t]=n==null?"":n;return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){e._value=n;const C=f==="OPTION"?e.getAttribute("value"):e.value,k=n==null?"":n;C!==k&&(e.value=k),n==null&&e.removeAttribute(t);return}let g=!1;if(n===""||n==null){const C=typeof e[t];C==="boolean"?n=lp(n):n==null&&C==="string"?(n="",g=!0):C==="number"&&(n=0,g=!0)}try{e[t]=n}catch{}g&&e.removeAttribute(t)}function Wf(e,t,n,r){e.addEventListener(t,n,r)}function Xf(e,t,n,r){e.removeEventListener(t,n,r)}const Mu=Symbol("_vei");function Jf(e,t,n,r,a=null){const p=e[Mu]||(e[Mu]={}),v=p[t];if(r&&v)v.value=r;else{const[f,g]=Zf(t);if(r){const C=p[t]=eb(r,a);Wf(e,f,C,g)}else v&&(Xf(e,f,v,g),p[t]=void 0)}}const Au=/(?:Once|Passive|Capture)$/;function Zf(e){let t;if(Au.test(e)){t={};let r;for(;r=e.match(Au);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ts(e.slice(2)),t]}let Ul=0;const Qf=Promise.resolve(),tb=()=>Ul||(Qf.then(()=>Ul=0),Ul=Date.now());function eb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;je(nb(r,n.value),t,5,[r])};return n.value=e,n.attached=tb(),n}function nb(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const Tu=/^on[a-z]/,ib=(e,t,n,r,a=!1,p,v,f,g)=>{t==="class"?$f(e,r,a):t==="style"?Hf(e,n,r):ho(t)?Ca(t)||Jf(e,t,n,r,v):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sb(e,t,r,a))?Yf(e,t,r,p,v,f,g):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Gf(e,t,r,a))};function sb(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Tu.test(t)&&tt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Tu.test(t)&&zt(n)?!1:t in e}const rb=Ft({patchProp:ib},zf);let Du;function ob(){return Du||(Du=ff(rb))}const lb=(...e)=>{const t=ob().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=ab(r);if(!a)return;const p=t._component;!tt(p)&&!p.render&&!p.template&&(p.template=a.innerHTML),a.innerHTML="";const v=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),v},t};function ab(e){return zt(e)?document.querySelector(e):e}/*!
 * v-github-icon v3.1.1
 * (c) 2023 Vinayak Kulkarni
 * @license MIT
 */const cb=Oa({name:"VGithubIcon",props:{url:{type:String,required:!0,default:""},position:{type:String,required:!1,default:"top-right"},bgColor:{type:String,required:!1,default:"#FFFFFF"},fillColor:{type:String,required:!1,default:"#151513"}}}),ub=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},is=e=>(Tv("data-v-6c7dc248"),e=e(),Dv(),e),pb=["href"],hb=is(()=>be("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),db=is(()=>be("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),mb=is(()=>be("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),vb=[hb,db,mb],fb=is(()=>be("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),bb=is(()=>be("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),_b=is(()=>be("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),wb=[fb,bb,_b];function gb(e,t,n,r,a,p){return qi(),Xs("a",{href:e.url,class:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},[e.position==="top-left"?(qi(),Xs("svg",{key:0,width:"80",height:"80",viewBox:"0 0 250 250",style:Js([{fill:e.fillColor,color:e.bgColor},{position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"}]),"aria-hidden":"true"},vb,4)):xu("",!0),e.position==="top-right"?(qi(),Xs("svg",{key:1,width:"80",height:"80",viewBox:"0 0 250 250",style:Js([{fill:e.fillColor,color:e.bgColor},{position:"absolute",top:"0",border:"0",right:"0"}]),"aria-hidden":"true"},wb,4)):xu("",!0)],8,pb)}const Cb=ub(cb,[["render",gb],["__scopeId","data-v-6c7dc248"]]);var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ha={exports:{}};/*! Tweakpane 3.1.10 (c) 2016 cocopon, licensed under the MIT license. */(function(e,t){(function(n,r){r(t)})(Wp,function(n){class r{constructor(i){const[s,c]=i.split("-"),m=s.split(".");this.major=parseInt(m[0],10),this.minor=parseInt(m[1],10),this.patch=parseInt(m[2],10),this.prerelease=c!=null?c:null}toString(){const i=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[i,this.prerelease].join("-"):i}}class a{constructor(i){this.controller_=i}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(i){this.controller_.viewProps.set("disabled",i)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(i){this.controller_.viewProps.set("hidden",i)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class p{constructor(i){this.target=i}}class v extends p{constructor(i,s,c,m){super(i),this.value=s,this.presetKey=c,this.last=m!=null?m:!0}}class f extends p{constructor(i,s,c){super(i),this.value=s,this.presetKey=c}}class g extends p{constructor(i,s){super(i),this.expanded=s}}class C extends p{constructor(i,s){super(i),this.index=s}}function k(o){return o}function E(o){return o==null}function O(o,i){if(o.length!==i.length)return!1;for(let s=0;s<o.length;s++)if(o[s]!==i[s])return!1;return!0}function G(o,i){let s=o;do{const c=Object.getOwnPropertyDescriptor(s,i);if(c&&(c.set!==void 0||c.writable===!0))return!0;s=Object.getPrototypeOf(s)}while(s!==null);return!1}const mt={alreadydisposed:()=>"View has been already disposed",invalidparams:o=>`Invalid parameters for '${o.name}'`,nomatchingcontroller:o=>`No matching controller for '${o.key}'`,nomatchingview:o=>`No matching view for '${JSON.stringify(o.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:o=>`Property '${o.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class I{static alreadyDisposed(){return new I({type:"alreadydisposed"})}static notBindable(){return new I({type:"notbindable"})}static propertyNotFound(i){return new I({type:"propertynotfound",context:{name:i}})}static shouldNeverHappen(){return new I({type:"shouldneverhappen"})}constructor(i){var s;this.message=(s=mt[i.type](i.context))!==null&&s!==void 0?s:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=i.type}}class ht{constructor(i,s,c){this.obj_=i,this.key_=s,this.presetKey_=c!=null?c:s}static isBindable(i){return!(i===null||typeof i!="object"&&typeof i!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(i){this.obj_[this.key_]=i}writeProperty(i,s){const c=this.read();if(!ht.isBindable(c))throw I.notBindable();if(!(i in c))throw I.propertyNotFound(i);c[i]=s}}class kt extends a{get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get title(){var i;return(i=this.controller_.valueController.props.get("title"))!==null&&i!==void 0?i:""}set title(i){this.controller_.valueController.props.set("title",i)}on(i,s){const c=s.bind(this);return this.controller_.valueController.emitter.on(i,()=>{c(new p(this))}),this}}class X{constructor(){this.observers_={}}on(i,s){let c=this.observers_[i];return c||(c=this.observers_[i]=[]),c.push({handler:s}),this}off(i,s){const c=this.observers_[i];return c&&(this.observers_[i]=c.filter(m=>m.handler!==s)),this}emit(i,s){const c=this.observers_[i];!c||c.forEach(m=>{m.handler(s)})}}const Vt="tp";function j(o){return(s,c)=>[Vt,"-",o,"v",s?`_${s}`:"",c?`-${c}`:""].join("")}function we(o,i){return s=>i(o(s))}function sn(o){return o.rawValue}function $t(o,i){o.emitter.on("change",we(sn,i)),i(o.rawValue)}function St(o,i,s){$t(o.value(i),s)}function Ut(o,i,s){s?o.classList.add(i):o.classList.remove(i)}function et(o,i){return s=>{Ut(o,i,s)}}function Se(o,i){$t(o,s=>{i.textContent=s!=null?s:""})}const Fe=j("btn");class Cn{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(Fe()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("button");c.classList.add(Fe("b")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.buttonElement=c;const m=i.createElement("div");m.classList.add(Fe("t")),Se(s.props.value("title"),m),this.buttonElement.appendChild(m)}}class Ht{constructor(i,s){this.emitter=new X,this.onClick_=this.onClick_.bind(this),this.props=s.props,this.viewProps=s.viewProps,this.view=new Cn(i,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class qn{constructor(i,s){var c;this.constraint_=s==null?void 0:s.constraint,this.equals_=(c=s==null?void 0:s.equals)!==null&&c!==void 0?c:(m,_)=>m===_,this.emitter=new X,this.rawValue_=i}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(i){this.setRawValue(i,{forceEmit:!1,last:!0})}setRawValue(i,s){const c=s!=null?s:{forceEmit:!1,last:!0},m=this.constraint_?this.constraint_.constrain(i):i,_=this.rawValue_;!!this.equals_(_,m)&&!c.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=m,this.emitter.emit("change",{options:c,previousRawValue:_,rawValue:m,sender:this}))}}class _t{constructor(i){this.emitter=new X,this.value_=i}get rawValue(){return this.value_}set rawValue(i){this.setRawValue(i,{forceEmit:!1,last:!0})}setRawValue(i,s){const c=s!=null?s:{forceEmit:!1,last:!0},m=this.value_;m===i&&!c.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=i,this.emitter.emit("change",{options:c,previousRawValue:m,rawValue:this.value_,sender:this}))}}function W(o,i){const s=i==null?void 0:i.constraint,c=i==null?void 0:i.equals;return!s&&!c?new _t(o):new qn(o,i)}class z{constructor(i){this.emitter=new X,this.valMap_=i;for(const s in this.valMap_)this.valMap_[s].emitter.on("change",()=>{this.emitter.emit("change",{key:s,sender:this})})}static createCore(i){return Object.keys(i).reduce((c,m)=>Object.assign(c,{[m]:W(i[m])}),{})}static fromObject(i){const s=this.createCore(i);return new z(s)}get(i){return this.valMap_[i].rawValue}set(i,s){this.valMap_[i].rawValue=s}value(i){return this.valMap_[i]}}function Le(o,i){const c=Object.keys(i).reduce((m,_)=>{if(m===void 0)return;const P=i[_],T=P(o[_]);return T.succeeded?Object.assign(Object.assign({},m),{[_]:T.value}):void 0},{});return c}function ze(o,i){return o.reduce((s,c)=>{if(s===void 0)return;const m=i(c);if(!(!m.succeeded||m.value===void 0))return[...s,m.value]},[])}function Me(o){return o===null?!1:typeof o=="object"}function gt(o){return i=>s=>{if(!i&&s===void 0)return{succeeded:!1,value:void 0};if(i&&s===void 0)return{succeeded:!0,value:void 0};const c=o(s);return c!==void 0?{succeeded:!0,value:c}:{succeeded:!1,value:void 0}}}function ue(o){return{custom:i=>gt(i)(o),boolean:gt(i=>typeof i=="boolean"?i:void 0)(o),number:gt(i=>typeof i=="number"?i:void 0)(o),string:gt(i=>typeof i=="string"?i:void 0)(o),function:gt(i=>typeof i=="function"?i:void 0)(o),constant:i=>gt(s=>s===i?i:void 0)(o),raw:gt(i=>i)(o),object:i=>gt(s=>{if(!!Me(s))return Le(s,i)})(o),array:i=>gt(s=>{if(!!Array.isArray(s))return ze(s,i)})(o)}}const vt={optional:ue(!0),required:ue(!1)};function xt(o,i){const s=vt.required.object(i)(o);return s.succeeded?s.value:void 0}function qt(o){console.warn([`Missing '${o.key}' of ${o.target} in ${o.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function rn(o){return o&&o.parentElement&&o.parentElement.removeChild(o),null}class Lt{constructor(i){this.value_=i}static create(i){return[new Lt(i),(s,c)=>{i.setRawValue(s,c)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const pe=j("");function xn(o,i){return et(o,pe(void 0,i))}class Gt extends z{constructor(i){var s;super(i),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Lt.create(W(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(s=this.get("parent"))===null||s===void 0||s.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(i){var s,c,m;const _=i!=null?i:{};return new Gt(z.createCore({disabled:(s=_.disabled)!==null&&s!==void 0?s:!1,disposed:!1,hidden:(c=_.hidden)!==null&&c!==void 0?c:!1,parent:(m=_.parent)!==null&&m!==void 0?m:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(i){$t(this.globalDisabled_,xn(i,"disabled")),St(this,"hidden",xn(i,"hidden"))}bindDisabled(i){$t(this.globalDisabled_,s=>{i.disabled=s})}bindTabIndex(i){$t(this.globalDisabled_,s=>{i.tabIndex=s?-1:0})}handleDispose(i){this.value("disposed").emitter.on("change",s=>{s&&i()})}getGlobalDisabled_(){const i=this.get("parent");return(i?i.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(i){var s;const c=i.previousRawValue;c==null||c.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(s=this.get("parent"))===null||s===void 0||s.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function w(){return["veryfirst","first","last","verylast"]}const x=j(""),S={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class M{constructor(i){this.parent_=null,this.blade=i.blade,this.view=i.view,this.viewProps=i.viewProps;const s=this.view.element;this.blade.value("positions").emitter.on("change",()=>{w().forEach(c=>{s.classList.remove(x(void 0,S[c]))}),this.blade.get("positions").forEach(c=>{s.classList.add(x(void 0,S[c]))})}),this.viewProps.handleDispose(()=>{rn(s)})}get parent(){return this.parent_}set parent(i){if(this.parent_=i,!("parent"in this.viewProps.valMap_)){qt({key:"parent",target:Gt.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const L="http://www.w3.org/2000/svg";function D(o){o.offsetHeight}function F(o,i){const s=o.style.transition;o.style.transition="none",i(),o.style.transition=s}function R(o){return o.ontouchstart!==void 0}function B(){return globalThis}function A(){return B().document}function U(o){const i=o.ownerDocument.defaultView;return i&&"document"in i?o.getContext("2d",{willReadFrequently:!0}):null}const K={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function $(o,i){const s=o.createElementNS(L,"svg");return s.innerHTML=K[i],s}function H(o,i,s){o.insertBefore(i,o.children[s])}function J(o){o.parentElement&&o.parentElement.removeChild(o)}function ct(o){for(;o.children.length>0;)o.removeChild(o.children[0])}function st(o){for(;o.childNodes.length>0;)o.removeChild(o.childNodes[0])}function ft(o){return o.relatedTarget?o.relatedTarget:"explicitOriginalTarget"in o?o.explicitOriginalTarget:null}const Mt=j("lbl");function ge(o,i){const s=o.createDocumentFragment();return i.split(`
`).map(m=>o.createTextNode(m)).forEach((m,_)=>{_>0&&s.appendChild(o.createElement("br")),s.appendChild(m)}),s}class Ke{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(Mt()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(Mt("l")),St(s.props,"label",_=>{E(_)?this.element.classList.add(Mt(void 0,"nol")):(this.element.classList.remove(Mt(void 0,"nol")),st(c),c.appendChild(ge(i,_)))}),this.element.appendChild(c),this.labelElement=c;const m=i.createElement("div");m.classList.add(Mt("v")),this.element.appendChild(m),this.valueElement=m}}class he extends M{constructor(i,s){const c=s.valueController.viewProps;super(Object.assign(Object.assign({},s),{view:new Ke(i,{props:s.props,viewProps:c}),viewProps:c})),this.props=s.props,this.valueController=s.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const yi={id:"button",type:"blade",accept(o){const i=vt,s=xt(o,{title:i.required.string,view:i.required.constant("button"),label:i.optional.string});return s?{params:s}:null},controller(o){return new he(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:new Ht(o.document,{props:z.fromObject({title:o.params.title}),viewProps:o.viewProps})})},api(o){return!(o.controller instanceof he)||!(o.controller.valueController instanceof Ht)?null:new kt(o.controller)}};class yt extends M{constructor(i){super(i),this.value=i.value}}function Ot(){return new z({positions:W([],{equals:O})})}class $e extends z{constructor(i){super(i)}static create(i){const s={completed:!0,expanded:i,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},c=z.createCore(s);return new $e(c)}get styleExpanded(){var i;return(i=this.get("temporaryExpanded"))!==null&&i!==void 0?i:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const i=this.get("expandedHeight");return this.get("shouldFixHeight")&&!E(i)?`${i}px`:"auto"}bindExpandedClass(i,s){const c=()=>{this.styleExpanded?i.classList.add(s):i.classList.remove(s)};St(this,"expanded",c),St(this,"temporaryExpanded",c)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Ro(o,i){let s=0;return F(i,()=>{o.set("expandedHeight",null),o.set("temporaryExpanded",!0),D(i),s=i.clientHeight,o.set("temporaryExpanded",null),D(i)}),s}function pr(o,i){i.style.height=o.styleHeight}function as(o,i){o.value("expanded").emitter.on("beforechange",()=>{if(o.set("completed",!1),E(o.get("expandedHeight"))){const s=Ro(o,i);s>0&&o.set("expandedHeight",s)}o.set("shouldFixHeight",!0),D(i)}),o.emitter.on("change",()=>{pr(o,i)}),pr(o,i),i.addEventListener("transitionend",s=>{s.propertyName==="height"&&o.cleanUpTransition()})}class cs extends a{constructor(i,s){super(i),this.rackApi_=s}}function Oo(o,i){return o.addBlade(Object.assign(Object.assign({},i),{view:"button"}))}function No(o,i){return o.addBlade(Object.assign(Object.assign({},i),{view:"folder"}))}function Io(o,i){const s=i!=null?i:{};return o.addBlade(Object.assign(Object.assign({},s),{view:"separator"}))}function us(o,i){return o.addBlade(Object.assign(Object.assign({},i),{view:"tab"}))}class on{constructor(i){this.emitter=new X,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=i}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(i){for(const s of this.allItems())if(i(s))return s;return null}includes(i){return this.cache_.has(i)}add(i,s){if(this.includes(i))throw I.shouldNeverHappen();const c=s!==void 0?s:this.items_.length;this.items_.splice(c,0,i),this.cache_.add(i);const m=this.extract_(i);m&&(m.emitter.on("add",this.onSubListAdd_),m.emitter.on("remove",this.onSubListRemove_),m.allItems().forEach(_=>{this.cache_.add(_)})),this.emitter.emit("add",{index:c,item:i,root:this,target:this})}remove(i){const s=this.items_.indexOf(i);if(s<0)return;this.items_.splice(s,1),this.cache_.delete(i);const c=this.extract_(i);c&&(c.emitter.off("add",this.onSubListAdd_),c.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:s,item:i,root:this,target:this})}onSubListAdd_(i){this.cache_.add(i.item),this.emitter.emit("add",{index:i.index,item:i.item,root:this,target:i.target})}onSubListRemove_(i){this.cache_.delete(i.item),this.emitter.emit("remove",{index:i.index,item:i.item,root:this,target:i.target})}}class ps extends a{constructor(i){super(i),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new X,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(i){const s=i.sender.target.read();this.emitter_.emit("change",{event:new v(this,s,this.controller_.binding.target.presetKey,i.options.last)})}}class Yt extends he{constructor(i,s){super(i,s),this.binding=s.binding}}class hs extends a{constructor(i){super(i),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new X,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(i){const s=i.sender.target.read();this.emitter_.emit("update",{event:new f(this,s,this.controller_.binding.target.presetKey)})}}class Ce extends he{constructor(i,s){super(i,s),this.binding=s.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function hr(o){return o instanceof Pi?o.apiSet_:o instanceof cs?o.rackApi_.apiSet_:null}function Gn(o,i){const s=o.find(c=>c.controller_===i);if(!s)throw I.shouldNeverHappen();return s}function dr(o,i,s){if(!ht.isBindable(o))throw I.notBindable();return new ht(o,i,s)}class Pi extends a{constructor(i,s){super(i),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new X,this.apiSet_=new on(hr),this.pool_=s;const c=this.controller_.rack;c.emitter.on("add",this.onRackAdd_),c.emitter.on("remove",this.onRackRemove_),c.emitter.on("inputchange",this.onRackInputChange_),c.emitter.on("monitorupdate",this.onRackMonitorUpdate_),c.children.forEach(m=>{this.setUpApi_(m)})}get children(){return this.controller_.rack.children.map(i=>Gn(this.apiSet_,i))}addInput(i,s,c){const m=c!=null?c:{},_=this.controller_.view.element.ownerDocument,P=this.pool_.createInput(_,dr(i,s,m.presetKey),m),T=new ps(P);return this.add(T,m.index)}addMonitor(i,s,c){const m=c!=null?c:{},_=this.controller_.view.element.ownerDocument,P=this.pool_.createMonitor(_,dr(i,s),m),T=new hs(P);return this.add(T,m.index)}addFolder(i){return No(this,i)}addButton(i){return Oo(this,i)}addSeparator(i){return Io(this,i)}addTab(i){return us(this,i)}add(i,s){this.controller_.rack.add(i.controller_,s);const c=this.apiSet_.find(m=>m.controller_===i.controller_);return c&&this.apiSet_.remove(c),this.apiSet_.add(i),i}remove(i){this.controller_.rack.remove(i.controller_)}addBlade(i){const s=this.controller_.view.element.ownerDocument,c=this.pool_.createBlade(s,i),m=this.pool_.createBladeApi(c);return this.add(m,i.index)}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}setUpApi_(i){this.apiSet_.find(c=>c.controller_===i)||this.apiSet_.add(this.pool_.createBladeApi(i))}onRackAdd_(i){this.setUpApi_(i.bladeController)}onRackRemove_(i){if(i.isRoot){const s=Gn(this.apiSet_,i.bladeController);this.apiSet_.remove(s)}}onRackInputChange_(i){const s=i.bladeController;if(s instanceof Yt){const c=Gn(this.apiSet_,s),m=s.binding;this.emitter_.emit("change",{event:new v(c,m.target.read(),m.target.presetKey,i.options.last)})}else if(s instanceof yt){const c=Gn(this.apiSet_,s);this.emitter_.emit("change",{event:new v(c,s.value.rawValue,void 0,i.options.last)})}}onRackMonitorUpdate_(i){if(!(i.bladeController instanceof Ce))throw I.shouldNeverHappen();const s=Gn(this.apiSet_,i.bladeController),c=i.bladeController.binding;this.emitter_.emit("update",{event:new f(s,c.target.read(),c.target.presetKey)})}}class ds extends cs{constructor(i,s){super(i,new Pi(i.rackController,s)),this.emitter_=new X,this.controller_.foldable.value("expanded").emitter.on("change",c=>{this.emitter_.emit("fold",{event:new g(this,c.sender.rawValue)})}),this.rackApi_.on("change",c=>{this.emitter_.emit("change",{event:c})}),this.rackApi_.on("update",c=>{this.emitter_.emit("update",{event:c})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(i){this.controller_.foldable.set("expanded",i)}get title(){return this.controller_.props.get("title")}set title(i){this.controller_.props.set("title",i)}get children(){return this.rackApi_.children}addInput(i,s,c){return this.rackApi_.addInput(i,s,c)}addMonitor(i,s,c){return this.rackApi_.addMonitor(i,s,c)}addFolder(i){return this.rackApi_.addFolder(i)}addButton(i){return this.rackApi_.addButton(i)}addSeparator(i){return this.rackApi_.addSeparator(i)}addTab(i){return this.rackApi_.addTab(i)}add(i,s){return this.rackApi_.add(i,s)}remove(i){this.rackApi_.remove(i)}addBlade(i){return this.rackApi_.addBlade(i)}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}}class ms extends M{constructor(i){super({blade:i.blade,view:i.view,viewProps:i.rackController.viewProps}),this.rackController=i.rackController}}class Bo{constructor(i,s){const c=j(s.viewName);this.element=i.createElement("div"),this.element.classList.add(c()),s.viewProps.bindClassModifiers(this.element)}}function jo(o,i){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof Yt&&c.binding===i)return c}return null}function Fo(o,i){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof Ce&&c.binding===i)return c}return null}function zo(o,i){for(let s=0;s<o.length;s++){const c=o[s];if(c instanceof yt&&c.value===i)return c}return null}function vs(o){return o instanceof Yn?o.rack:o instanceof ms?o.rackController.rack:null}function Ko(o){const i=vs(o);return i?i.bcSet_:null}class $o{constructor(i){var s,c;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new X,this.blade_=(s=i.blade)!==null&&s!==void 0?s:null,(c=this.blade_)===null||c===void 0||c.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=i.viewProps,this.bcSet_=new on(Ko),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(i,s){var c;(c=i.parent)===null||c===void 0||c.remove(i),G(i,"parent")?i.parent=this:(i.parent_=this,qt({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(i,s)}remove(i){G(i,"parent")?i.parent=null:(i.parent_=null,qt({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(i)}find(i){return this.bcSet_.allItems().filter(s=>s instanceof i)}onSetAdd_(i){this.updatePositions_();const s=i.target===i.root;if(this.emitter.emit("add",{bladeController:i.item,index:i.index,isRoot:s,sender:this}),!s)return;const c=i.item;if(c.viewProps.emitter.on("change",this.onChildViewPropsChange_),c.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),c.viewProps.handleDispose(this.onChildDispose_),c instanceof Yt)c.binding.emitter.on("change",this.onChildInputChange_);else if(c instanceof Ce)c.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(c instanceof yt)c.value.emitter.on("change",this.onChildValueChange_);else{const m=vs(c);if(m){const _=m.emitter;_.on("layout",this.onDescendantLayout_),_.on("inputchange",this.onDescendantInputChange_),_.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(i){this.updatePositions_();const s=i.target===i.root;if(this.emitter.emit("remove",{bladeController:i.item,isRoot:s,sender:this}),!s)return;const c=i.item;if(c instanceof Yt)c.binding.emitter.off("change",this.onChildInputChange_);else if(c instanceof Ce)c.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(c instanceof yt)c.value.emitter.off("change",this.onChildValueChange_);else{const m=vs(c);if(m){const _=m.emitter;_.off("layout",this.onDescendantLayout_),_.off("inputchange",this.onDescendantInputChange_),_.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const i=this.bcSet_.items.filter(m=>!m.viewProps.get("hidden")),s=i[0],c=i[i.length-1];this.bcSet_.items.forEach(m=>{const _=[];m===s&&(_.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&_.push("veryfirst")),m===c&&(_.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&_.push("verylast")),m.blade.set("positions",_)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(i){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(s=>s.viewProps.get("disposed")).forEach(s=>{this.bcSet_.remove(s)})}onChildInputChange_(i){const s=jo(this.find(Yt),i.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:s,options:i.options,sender:this})}onChildMonitorUpdate_(i){const s=Fo(this.find(Ce),i.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:s,sender:this})}onChildValueChange_(i){const s=zo(this.find(yt),i.sender);if(!s)throw I.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:s,options:i.options,sender:this})}onDescendantLayout_(i){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(i){this.emitter.emit("inputchange",{bladeController:i.bladeController,options:i.options,sender:this})}onDescendantMonitorUpdate_(i){this.emitter.emit("monitorupdate",{bladeController:i.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Yn extends M{constructor(i,s){super(Object.assign(Object.assign({},s),{view:new Bo(i,{viewName:"brk",viewProps:s.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const c=new $o({blade:s.root?void 0:s.blade,viewProps:s.viewProps});c.emitter.on("add",this.onRackAdd_),c.emitter.on("remove",this.onRackRemove_),this.rack=c,this.viewProps.handleDispose(()=>{for(let m=this.rack.children.length-1;m>=0;m--)this.rack.children[m].viewProps.set("disposed",!0)})}onRackAdd_(i){!i.isRoot||H(this.view.element,i.bladeController.view.element,i.index)}onRackRemove_(i){!i.isRoot||J(i.bladeController.view.element)}}const mr=j("cnt");class Uo{constructor(i,s){var c;this.className_=j((c=s.viewName)!==null&&c!==void 0?c:"fld"),this.element=i.createElement("div"),this.element.classList.add(this.className_(),mr()),s.viewProps.bindClassModifiers(this.element),this.foldable_=s.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),St(this.foldable_,"completed",et(this.element,this.className_(void 0,"cpl")));const m=i.createElement("button");m.classList.add(this.className_("b")),St(s.props,"title",Y=>{E(Y)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),s.viewProps.bindDisabled(m),this.element.appendChild(m),this.buttonElement=m;const _=i.createElement("div");_.classList.add(this.className_("i")),this.element.appendChild(_);const P=i.createElement("div");P.classList.add(this.className_("t")),Se(s.props.value("title"),P),this.buttonElement.appendChild(P),this.titleElement=P;const T=i.createElement("div");T.classList.add(this.className_("m")),this.buttonElement.appendChild(T);const q=s.containerElement;q.classList.add(this.className_("c")),this.element.appendChild(q),this.containerElement=q}}class Ei extends ms{constructor(i,s){var c;const m=$e.create((c=s.expanded)!==null&&c!==void 0?c:!0),_=new Yn(i,{blade:s.blade,root:s.root,viewProps:s.viewProps});super(Object.assign(Object.assign({},s),{rackController:_,view:new Uo(i,{containerElement:_.view.element,foldable:m,props:s.props,viewName:s.root?"rot":void 0,viewProps:s.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=s.props,this.foldable=m,as(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Ho={id:"folder",type:"blade",accept(o){const i=vt,s=xt(o,{title:i.required.string,view:i.required.constant("folder"),expanded:i.optional.boolean});return s?{params:s}:null},controller(o){return new Ei(o.document,{blade:o.blade,expanded:o.params.expanded,props:z.fromObject({title:o.params.title}),viewProps:o.viewProps})},api(o){return o.controller instanceof Ei?new ds(o.controller,o.pool):null}};class yn extends yt{constructor(i,s){const c=s.valueController.viewProps;super(Object.assign(Object.assign({},s),{value:s.valueController.value,view:new Ke(i,{props:s.props,viewProps:c}),viewProps:c})),this.props=s.props,this.valueController=s.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class vr extends a{}const fs=j("spr");class qo{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(fs()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("hr");c.classList.add(fs("r")),this.element.appendChild(c)}}class Wn extends M{constructor(i,s){super(Object.assign(Object.assign({},s),{view:new qo(i,{viewProps:s.viewProps})}))}}const Go={id:"separator",type:"blade",accept(o){const s=xt(o,{view:vt.required.constant("separator")});return s?{params:s}:null},controller(o){return new Wn(o.document,{blade:o.blade,viewProps:o.viewProps})},api(o){return o.controller instanceof Wn?new vr(o.controller):null}},At=j("tbi");class Yo{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(At()),s.viewProps.bindClassModifiers(this.element),St(s.props,"selected",_=>{_?this.element.classList.add(At(void 0,"sel")):this.element.classList.remove(At(void 0,"sel"))});const c=i.createElement("button");c.classList.add(At("b")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.buttonElement=c;const m=i.createElement("div");m.classList.add(At("t")),Se(s.props.value("title"),m),this.buttonElement.appendChild(m),this.titleElement=m}}class ki{constructor(i,s){this.emitter=new X,this.onClick_=this.onClick_.bind(this),this.props=s.props,this.viewProps=s.viewProps,this.view=new Yo(i,{props:s.props,viewProps:s.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class fr{constructor(i,s){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ki(i,{props:s.itemProps,viewProps:Gt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Yn(i,{blade:Ot(),viewProps:Gt.create()}),this.props=s.props,St(this.props,"selected",c=>{this.itemController.props.set("selected",c),this.contentController.viewProps.set("hidden",!c)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class bs{constructor(i,s){this.controller_=i,this.rackApi_=s}get title(){var i;return(i=this.controller_.itemController.props.get("title"))!==null&&i!==void 0?i:""}set title(i){this.controller_.itemController.props.set("title",i)}get selected(){return this.controller_.props.get("selected")}set selected(i){this.controller_.props.set("selected",i)}get children(){return this.rackApi_.children}addButton(i){return this.rackApi_.addButton(i)}addFolder(i){return this.rackApi_.addFolder(i)}addSeparator(i){return this.rackApi_.addSeparator(i)}addTab(i){return this.rackApi_.addTab(i)}add(i,s){this.rackApi_.add(i,s)}remove(i){this.rackApi_.remove(i)}addInput(i,s,c){return this.rackApi_.addInput(i,s,c)}addMonitor(i,s,c){return this.rackApi_.addMonitor(i,s,c)}addBlade(i){return this.rackApi_.addBlade(i)}}class br extends cs{constructor(i,s){super(i,new Pi(i.rackController,s)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new X,this.pageApiMap_=new Map,this.rackApi_.on("change",c=>{this.emitter_.emit("change",{event:c})}),this.rackApi_.on("update",c=>{this.emitter_.emit("update",{event:c})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(c=>{this.setUpPageApi_(c)})}get pages(){return this.controller_.pageSet.items.map(i=>{const s=this.pageApiMap_.get(i);if(!s)throw I.shouldNeverHappen();return s})}addPage(i){const s=this.controller_.view.element.ownerDocument,c=new fr(s,{itemProps:z.fromObject({selected:!1,title:i.title}),props:z.fromObject({selected:!1})});this.controller_.add(c,i.index);const m=this.pageApiMap_.get(c);if(!m)throw I.shouldNeverHappen();return m}removePage(i){this.controller_.remove(i)}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}setUpPageApi_(i){const s=this.rackApi_.apiSet_.find(m=>m.controller_===i.contentController);if(!s)throw I.shouldNeverHappen();const c=new bs(i,s);this.pageApiMap_.set(i,c)}onPageAdd_(i){this.setUpPageApi_(i.item)}onPageRemove_(i){if(!this.pageApiMap_.get(i.item))throw I.shouldNeverHappen();this.pageApiMap_.delete(i.item)}onSelect_(i){this.emitter_.emit("select",{event:new C(this,i.rawValue)})}}const _r=-1;class Wo{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=W(!0),this.selectedIndex=W(_r),this.items_=[]}add(i,s){const c=s!=null?s:this.items_.length;this.items_.splice(c,0,i),i.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(i){const s=this.items_.indexOf(i);s<0||(this.items_.splice(s,1),i.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=_r,this.empty.rawValue=!0;return}const i=this.items_.findIndex(s=>s.rawValue);i<0?(this.items_.forEach((s,c)=>{s.rawValue=c===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((s,c)=>{s.rawValue=c===i}),this.selectedIndex.rawValue=i),this.empty.rawValue=!1}onItemSelectedChange_(i){if(i.rawValue){const s=this.items_.findIndex(c=>c===i.sender);this.items_.forEach((c,m)=>{c.rawValue=m===s}),this.selectedIndex.rawValue=s}else this.keepSelection_()}}const Pn=j("tab");class En{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(Pn(),mr()),s.viewProps.bindClassModifiers(this.element),$t(s.empty,et(this.element,Pn(void 0,"nop")));const c=i.createElement("div");c.classList.add(Pn("t")),this.element.appendChild(c),this.itemsElement=c;const m=i.createElement("div");m.classList.add(Pn("i")),this.element.appendChild(m);const _=s.contentsElement;_.classList.add(Pn("c")),this.element.appendChild(_),this.contentsElement=_}}class Xn extends ms{constructor(i,s){const c=new Yn(i,{blade:s.blade,viewProps:s.viewProps}),m=new Wo;super({blade:s.blade,rackController:c,view:new En(i,{contentsElement:c.view.element,empty:m.empty,viewProps:s.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new on(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=m}get pageSet(){return this.pageSet_}add(i,s){this.pageSet_.add(i,s)}remove(i){this.pageSet_.remove(this.pageSet_.items[i])}onPageAdd_(i){const s=i.item;H(this.view.itemsElement,s.itemController.view.element,i.index),s.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(s.contentController,i.index),this.tab.add(s.props.value("selected"))}onPageRemove_(i){const s=i.item;J(s.itemController.view.element),s.itemController.viewProps.set("parent",null),this.rackController.rack.remove(s.contentController),this.tab.remove(s.props.value("selected"))}}const _s={id:"tab",type:"blade",accept(o){const i=vt,s=xt(o,{pages:i.required.array(i.required.object({title:i.required.string})),view:i.required.constant("tab")});return!s||s.pages.length===0?null:{params:s}},controller(o){const i=new Xn(o.document,{blade:o.blade,viewProps:o.viewProps});return o.params.pages.forEach(s=>{const c=new fr(o.document,{itemProps:z.fromObject({selected:!1,title:s.title}),props:z.fromObject({selected:!1})});i.add(c)}),i},api(o){return o.controller instanceof Xn?new br(o.controller,o.pool):null}};function Xo(o,i){const s=o.accept(i.params);if(!s)return null;const c=vt.optional.boolean(i.params.disabled).value,m=vt.optional.boolean(i.params.hidden).value;return o.controller({blade:Ot(),document:i.document,params:Object.assign(Object.assign({},s.params),{disabled:c,hidden:m}),viewProps:Gt.create({disabled:c,hidden:m})})}class wr{constructor(){this.disabled=!1,this.emitter=new X}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ws{constructor(i,s){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=i,this.emitter=new X,this.interval_=s,this.setTimer_()}get disabled(){return this.disabled_}set disabled(i){this.disabled_=i,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const i=this.doc_.defaultView;i&&i.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const i=this.doc_.defaultView;i&&(this.timerId_=i.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Vi{constructor(i){this.onValueChange_=this.onValueChange_.bind(this),this.reader=i.reader,this.writer=i.writer,this.emitter=new X,this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.target=i.target,this.read()}read(){const i=this.target.read();i!==void 0&&(this.value.rawValue=this.reader(i))}write_(i){this.writer(this.target,i)}onValueChange_(i){this.write_(i.rawValue),this.emitter.emit("change",{options:i.options,rawValue:i.rawValue,sender:this})}}function Pt(o,i){for(;o.length<i;)o.push(void 0)}function gr(o){const i=[];return Pt(i,o),W(i)}function kn(o){const i=o.indexOf(void 0);return i<0?o:o.slice(0,i)}function ne(o,i){const s=[...kn(o),i];return s.length>o.length?s.splice(0,s.length-o.length):Pt(s,o.length),s}class Jo{constructor(i){this.onTick_=this.onTick_.bind(this),this.reader_=i.reader,this.target=i.target,this.emitter=new X,this.value=i.value,this.ticker=i.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const i=this.target.read();if(i===void 0)return;const s=this.value.rawValue,c=this.reader_(i);this.value.rawValue=ne(s,c),this.emitter.emit("update",{rawValue:c,sender:this})}onTick_(i){this.read()}}class Jn{constructor(i){this.constraints=i}constrain(i){return this.constraints.reduce((s,c)=>c.constrain(s),i)}}function de(o,i){if(o instanceof i)return o;if(o instanceof Jn){const s=o.constraints.reduce((c,m)=>c||(m instanceof i?m:null),null);if(s)return s}return null}class Vn{constructor(i){this.values=z.fromObject({max:i.max,min:i.min})}constrain(i){const s=this.values.get("max"),c=this.values.get("min");return Math.min(Math.max(i,c),s)}}class Zn{constructor(i){this.values=z.fromObject({options:i})}get options(){return this.values.get("options")}constrain(i){const s=this.values.get("options");return s.length===0||s.filter(m=>m.value===i).length>0?i:s[0].value}}class gs{constructor(i){this.values=z.fromObject({max:i.max,min:i.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(i){const s=this.values.get("max"),c=this.values.get("min");let m=i;return E(c)||(m=Math.max(m,c)),E(s)||(m=Math.min(m,s)),m}}class Si{constructor(i,s=0){this.step=i,this.origin=s}constrain(i){const s=this.origin%this.step,c=Math.round((i-s)/this.step);return s+c*this.step}}const Sn=j("lst");class Cr{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),this.props_=s.props,this.element=i.createElement("div"),this.element.classList.add(Sn()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("select");c.classList.add(Sn("s")),s.viewProps.bindDisabled(c),this.element.appendChild(c),this.selectElement=c;const m=i.createElement("div");m.classList.add(Sn("m")),m.appendChild($(i,"dropdown")),this.element.appendChild(m),s.value.emitter.on("change",this.onValueChange_),this.value_=s.value,St(this.props_,"options",_=>{ct(this.selectElement),_.forEach(P=>{const T=i.createElement("option");T.textContent=P.text,this.selectElement.appendChild(T)}),this.update_()})}update_(){const i=this.props_.get("options").map(s=>s.value);this.selectElement.selectedIndex=i.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Qn{constructor(i,s){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=s.props,this.value=s.value,this.viewProps=s.viewProps,this.view=new Cr(i,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(i){const s=i.currentTarget;this.value.rawValue=this.props.get("options")[s.selectedIndex].value}}const xr=j("pop");class Zo{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(xr()),s.viewProps.bindClassModifiers(this.element),$t(s.shows,et(this.element,xr(void 0,"v")))}}class yr{constructor(i,s){this.shows=W(!1),this.viewProps=s.viewProps,this.view=new Zo(i,{shows:this.shows,viewProps:this.viewProps})}}const Pr=j("txt");class Qo{constructor(i,s){this.onChange_=this.onChange_.bind(this),this.element=i.createElement("div"),this.element.classList.add(Pr()),s.viewProps.bindClassModifiers(this.element),this.props_=s.props,this.props_.emitter.on("change",this.onChange_);const c=i.createElement("input");c.classList.add(Pr("i")),c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,s.value.emitter.on("change",this.onChange_),this.value_=s.value,this.refresh()}refresh(){const i=this.props_.get("formatter");this.inputElement.value=i(this.value_.rawValue)}onChange_(){this.refresh()}}class Li{constructor(i,s){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=s.parser,this.props=s.props,this.value=s.value,this.viewProps=s.viewProps,this.view=new Qo(i,{props:s.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(i){const c=i.currentTarget.value,m=this.parser_(c);E(m)||(this.value.rawValue=m),this.view.refresh()}}function tl(o){return String(o)}function Er(o){return o==="false"?!1:!!o}function kr(o){return tl(o)}class el{constructor(i){this.text=i}evaluate(){return Number(this.text)}toString(){return this.text}}const nl={"**":(o,i)=>Math.pow(o,i),"*":(o,i)=>o*i,"/":(o,i)=>o/i,"%":(o,i)=>o%i,"+":(o,i)=>o+i,"-":(o,i)=>o-i,"<<":(o,i)=>o<<i,">>":(o,i)=>o>>i,">>>":(o,i)=>o>>>i,"&":(o,i)=>o&i,"^":(o,i)=>o^i,"|":(o,i)=>o|i};class il{constructor(i,s,c){this.left=s,this.operator=i,this.right=c}evaluate(){const i=nl[this.operator];if(!i)throw new Error(`unexpected binary operator: '${this.operator}`);return i(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Vr={"+":o=>o,"-":o=>-o,"~":o=>~o};class sl{constructor(i,s){this.operator=i,this.expression=s}evaluate(){const i=Vr[this.operator];if(!i)throw new Error(`unexpected unary operator: '${this.operator}`);return i(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Cs(o){return(i,s)=>{for(let c=0;c<o.length;c++){const m=o[c](i,s);if(m!=="")return m}return""}}function ln(o,i){var s;const c=o.substr(i).match(/^\s+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function rl(o,i){const s=o.substr(i,1);return s.match(/^[1-9]$/)?s:""}function ti(o,i){var s;const c=o.substr(i).match(/^[0-9]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function ol(o,i){const s=ti(o,i);if(s!=="")return s;const c=o.substr(i,1);if(i+=1,c!=="-"&&c!=="+")return"";const m=ti(o,i);return m===""?"":c+m}function xe(o,i){const s=o.substr(i,1);if(i+=1,s.toLowerCase()!=="e")return"";const c=ol(o,i);return c===""?"":s+c}function Sr(o,i){const s=o.substr(i,1);if(s==="0")return s;const c=rl(o,i);return i+=c.length,c===""?"":c+ti(o,i)}function ll(o,i){const s=Sr(o,i);if(i+=s.length,s==="")return"";const c=o.substr(i,1);if(i+=c.length,c!==".")return"";const m=ti(o,i);return i+=m.length,s+c+m+xe(o,i)}function Lr(o,i){const s=o.substr(i,1);if(i+=s.length,s!==".")return"";const c=ti(o,i);return i+=c.length,c===""?"":s+c+xe(o,i)}function al(o,i){const s=Sr(o,i);return i+=s.length,s===""?"":s+xe(o,i)}const Mr=Cs([ll,Lr,al]);function xs(o,i){var s;const c=o.substr(i).match(/^[01]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function cl(o,i){const s=o.substr(i,2);if(i+=s.length,s.toLowerCase()!=="0b")return"";const c=xs(o,i);return c===""?"":s+c}function Ar(o,i){var s;const c=o.substr(i).match(/^[0-7]+/);return(s=c&&c[0])!==null&&s!==void 0?s:""}function ie(o,i){const s=o.substr(i,2);if(i+=s.length,s.toLowerCase()!=="0o")return"";const c=Ar(o,i);return c===""?"":s+c}function ul(o,i){var s;const c=o.substr(i).match(/^[0-9a-f]+/i);return(s=c&&c[0])!==null&&s!==void 0?s:""}function pl(o,i){const s=o.substr(i,2);if(i+=s.length,s.toLowerCase()!=="0x")return"";const c=ul(o,i);return c===""?"":s+c}const ys=Cs([cl,ie,pl]),hl=Cs([ys,Mr]);function Ue(o,i){const s=hl(o,i);return i+=s.length,s===""?null:{evaluable:new el(s),cursor:i}}function Ps(o,i){const s=o.substr(i,1);if(i+=s.length,s!=="(")return null;const c=Mi(o,i);if(!c)return null;i=c.cursor,i+=ln(o,i).length;const m=o.substr(i,1);return i+=m.length,m!==")"?null:{evaluable:c.evaluable,cursor:i}}function dl(o,i){var s;return(s=Ue(o,i))!==null&&s!==void 0?s:Ps(o,i)}function Es(o,i){const s=dl(o,i);if(s)return s;const c=o.substr(i,1);if(i+=c.length,c!=="+"&&c!=="-"&&c!=="~")return null;const m=Es(o,i);return m?(i=m.cursor,{cursor:i,evaluable:new sl(c,m.evaluable)}):null}function ml(o,i,s){s+=ln(i,s).length;const c=o.filter(m=>i.startsWith(m,s))[0];return c?(s+=c.length,s+=ln(i,s).length,{cursor:s,operator:c}):null}function an(o,i){return(s,c)=>{const m=o(s,c);if(!m)return null;c=m.cursor;let _=m.evaluable;for(;;){const P=ml(i,s,c);if(!P)break;c=P.cursor;const T=o(s,c);if(!T)return null;c=T.cursor,_=new il(P.operator,_,T.evaluable)}return _?{cursor:c,evaluable:_}:null}}const Tr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((o,i)=>an(o,i),Es);function Mi(o,i){return i+=ln(o,i).length,Tr(o,i)}function Dr(o){const i=Mi(o,0);return!i||i.cursor+ln(o,i.cursor).length!==o.length?null:i.evaluable}function ye(o){var i;const s=Dr(o);return(i=s==null?void 0:s.evaluate())!==null&&i!==void 0?i:null}function Ae(o){if(typeof o=="number")return o;if(typeof o=="string"){const i=ye(o);if(!E(i))return i}return 0}function vl(o){return String(o)}function Tt(o){return i=>i.toFixed(Math.max(Math.min(o,20),0))}const Rr=Tt(0);function ei(o){return Rr(o)+"%"}function ks(o){return String(o)}function He(o){return o}function Ln({primary:o,secondary:i,forward:s,backward:c}){let m=!1;function _(P){m||(m=!0,P(),m=!1)}o.emitter.on("change",P=>{_(()=>{i.setRawValue(s(o,i),P.options)})}),i.emitter.on("change",P=>{_(()=>{o.setRawValue(c(o,i),P.options)}),_(()=>{i.setRawValue(s(o,i),P.options)})}),_(()=>{i.setRawValue(s(o,i),{forceEmit:!1,last:!0})})}function It(o,i){const s=o*(i.altKey?.1:1)*(i.shiftKey?10:1);return i.upKey?+s:i.downKey?-s:0}function ni(o){return{altKey:o.altKey,downKey:o.key==="ArrowDown",shiftKey:o.shiftKey,upKey:o.key==="ArrowUp"}}function Pe(o){return{altKey:o.altKey,downKey:o.key==="ArrowLeft",shiftKey:o.shiftKey,upKey:o.key==="ArrowRight"}}function Or(o){return o==="ArrowUp"||o==="ArrowDown"}function Ai(o){return Or(o)||o==="ArrowLeft"||o==="ArrowRight"}function Vs(o,i){var s,c;const m=i.ownerDocument.defaultView,_=i.getBoundingClientRect();return{x:o.pageX-(((s=m&&m.scrollX)!==null&&s!==void 0?s:0)+_.left),y:o.pageY-(((c=m&&m.scrollY)!==null&&c!==void 0?c:0)+_.top)}}class cn{constructor(i){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=i,this.emitter=new X,i.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),i.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),i.addEventListener("touchend",this.onTouchEnd_),i.addEventListener("mousedown",this.onMouseDown_)}computePosition_(i){const s=this.elem_.getBoundingClientRect();return{bounds:{width:s.width,height:s.height},point:i?{x:i.x,y:i.y}:null}}onMouseDown_(i){var s;i.preventDefault(),(s=i.currentTarget)===null||s===void 0||s.focus();const c=this.elem_.ownerDocument;c.addEventListener("mousemove",this.onDocumentMouseMove_),c.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:i.altKey,data:this.computePosition_(Vs(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onDocumentMouseMove_(i){this.emitter.emit("move",{altKey:i.altKey,data:this.computePosition_(Vs(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onDocumentMouseUp_(i){const s=this.elem_.ownerDocument;s.removeEventListener("mousemove",this.onDocumentMouseMove_),s.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:i.altKey,data:this.computePosition_(Vs(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onTouchStart_(i){i.preventDefault();const s=i.targetTouches.item(0),c=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:i.altKey,data:this.computePosition_(s?{x:s.clientX-c.left,y:s.clientY-c.top}:void 0),sender:this,shiftKey:i.shiftKey}),this.lastTouch_=s}onTouchMove_(i){const s=i.targetTouches.item(0),c=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:i.altKey,data:this.computePosition_(s?{x:s.clientX-c.left,y:s.clientY-c.top}:void 0),sender:this,shiftKey:i.shiftKey}),this.lastTouch_=s}onTouchEnd_(i){var s;const c=(s=i.targetTouches.item(0))!==null&&s!==void 0?s:this.lastTouch_,m=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:i.altKey,data:this.computePosition_(c?{x:c.clientX-m.left,y:c.clientY-m.top}:void 0),sender:this,shiftKey:i.shiftKey})}}function bt(o,i,s,c,m){const _=(o-i)/(s-i);return c+_*(m-c)}function Ss(o){return String(o.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Et(o,i,s){return Math.min(Math.max(o,i),s)}function Mn(o,i){return(o%i+i)%i}const Zt=j("txt");class Ls{constructor(i,s){this.onChange_=this.onChange_.bind(this),this.props_=s.props,this.props_.emitter.on("change",this.onChange_),this.element=i.createElement("div"),this.element.classList.add(Zt(),Zt(void 0,"num")),s.arrayPosition&&this.element.classList.add(Zt(void 0,s.arrayPosition)),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("input");c.classList.add(Zt("i")),c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=s.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Zt()),this.inputElement.classList.add(Zt("i"));const m=i.createElement("div");m.classList.add(Zt("k")),this.element.appendChild(m),this.knobElement=m;const _=i.createElementNS(L,"svg");_.classList.add(Zt("g")),this.knobElement.appendChild(_);const P=i.createElementNS(L,"path");P.classList.add(Zt("gb")),_.appendChild(P),this.guideBodyElem_=P;const T=i.createElementNS(L,"path");T.classList.add(Zt("gh")),_.appendChild(T),this.guideHeadElem_=T;const q=i.createElement("div");q.classList.add(j("tt")()),this.knobElement.appendChild(q),this.tooltipElem_=q,s.value.emitter.on("change",this.onChange_),this.value=s.value,this.refresh()}onDraggingChange_(i){if(i.rawValue===null){this.element.classList.remove(Zt(void 0,"drg"));return}this.element.classList.add(Zt(void 0,"drg"));const s=i.rawValue/this.props_.get("draggingScale"),c=s+(s>0?-1:s<0?1:0),m=Et(-c,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${c+m},0 L${c},4 L${c+m},8`,`M ${s},-1 L${s},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${s},4`);const _=this.props_.get("formatter");this.tooltipElem_.textContent=_(this.value.rawValue),this.tooltipElem_.style.left=`${s}px`}refresh(){const i=this.props_.get("formatter");this.inputElement.value=i(this.value.rawValue)}onChange_(){this.refresh()}}class ii{constructor(i,s){var c;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=s.baseStep,this.parser_=s.parser,this.props=s.props,this.sliderProps_=(c=s.sliderProps)!==null&&c!==void 0?c:null,this.value=s.value,this.viewProps=s.viewProps,this.dragging_=W(null),this.view=new Ls(i,{arrayPosition:s.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const m=new cn(this.view.knobElement);m.emitter.on("down",this.onPointerDown_),m.emitter.on("move",this.onPointerMove_),m.emitter.on("up",this.onPointerUp_)}constrainValue_(i){var s,c;const m=(s=this.sliderProps_)===null||s===void 0?void 0:s.get("minValue"),_=(c=this.sliderProps_)===null||c===void 0?void 0:c.get("maxValue");let P=i;return m!==void 0&&(P=Math.max(P,m)),_!==void 0&&(P=Math.min(P,_)),P}onInputChange_(i){const c=i.currentTarget.value,m=this.parser_(c);E(m)||(this.value.rawValue=this.constrainValue_(m)),this.view.refresh()}onInputKeyDown_(i){const s=It(this.baseStep_,ni(i));s!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+s),{forceEmit:!1,last:!1})}onInputKeyUp_(i){It(this.baseStep_,ni(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(i){if(!i.point)return null;const s=i.point.x-i.bounds.width/2;return this.constrainValue_(this.originRawValue_+s*this.props.get("draggingScale"))}onPointerMove_(i){const s=this.computeDraggingValue_(i.data);s!==null&&(this.value.setRawValue(s,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(i){const s=this.computeDraggingValue_(i.data);s!==null&&(this.value.setRawValue(s,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ms=j("sld");class Qt{constructor(i,s){this.onChange_=this.onChange_.bind(this),this.props_=s.props,this.props_.emitter.on("change",this.onChange_),this.element=i.createElement("div"),this.element.classList.add(Ms()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(Ms("t")),s.viewProps.bindTabIndex(c),this.element.appendChild(c),this.trackElement=c;const m=i.createElement("div");m.classList.add(Ms("k")),this.trackElement.appendChild(m),this.knobElement=m,s.value.emitter.on("change",this.onChange_),this.value=s.value,this.update_()}update_(){const i=Et(bt(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${i}%`}onChange_(){this.update_()}}class As{constructor(i,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=s.baseStep,this.value=s.value,this.viewProps=s.viewProps,this.props=s.props,this.view=new Qt(i,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,s){!i.point||this.value.setRawValue(bt(Et(i.point.x,0,i.bounds.width),0,i.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),s)}onPointerDownOrMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const s=It(this.baseStep_,Pe(i));s!==0&&this.value.setRawValue(this.value.rawValue+s,{forceEmit:!1,last:!1})}onKeyUp_(i){It(this.baseStep_,Pe(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const si=j("sldtxt");class Ts{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(si());const c=i.createElement("div");c.classList.add(si("s")),this.sliderView_=s.sliderView,c.appendChild(this.sliderView_.element),this.element.appendChild(c);const m=i.createElement("div");m.classList.add(si("t")),this.textView_=s.textView,m.appendChild(this.textView_.element),this.element.appendChild(m)}}class Ti{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.sliderC_=new As(i,{baseStep:s.baseStep,props:s.sliderProps,value:s.value,viewProps:this.viewProps}),this.textC_=new ii(i,{baseStep:s.baseStep,parser:s.parser,props:s.textProps,sliderProps:s.sliderProps,value:s.value,viewProps:s.viewProps}),this.view=new Ts(i,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function me(o,i){o.write(i)}function ri(o){const i=vt;if(Array.isArray(o))return i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))(o).value;if(typeof o=="object")return i.required.raw(o).value}function Ds(o){if(o==="inline"||o==="popup")return o}function Te(o){const i=vt;return i.required.object({max:i.optional.number,min:i.optional.number,step:i.optional.number})(o).value}function Nr(o){if(Array.isArray(o))return o;const i=[];return Object.keys(o).forEach(s=>{i.push({text:s,value:o[s]})}),i}function Rs(o){return E(o)?null:new Zn(Nr(o))}function fl(o){const i=o?de(o,Si):null;return i?i.step:null}function Di(o,i){const s=o&&de(o,Si);return s?Ss(s.step):Math.max(Ss(i),2)}function un(o){const i=fl(o);return i!=null?i:1}function pn(o,i){var s;const c=o&&de(o,Si),m=Math.abs((s=c==null?void 0:c.step)!==null&&s!==void 0?s:i);return m===0?.1:Math.pow(10,Math.floor(Math.log10(m))-1)}const oi=j("ckb");class li{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),this.element=i.createElement("div"),this.element.classList.add(oi()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("label");c.classList.add(oi("l")),this.element.appendChild(c);const m=i.createElement("input");m.classList.add(oi("i")),m.type="checkbox",c.appendChild(m),this.inputElement=m,s.viewProps.bindDisabled(this.inputElement);const _=i.createElement("div");_.classList.add(oi("w")),c.appendChild(_);const P=$(i,"check");_.appendChild(P),s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Ir{constructor(i,s){this.onInputChange_=this.onInputChange_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new li(i,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(i){const s=i.currentTarget;this.value.rawValue=s.checked}}function Br(o){const i=[],s=Rs(o.options);return s&&i.push(s),new Jn(i)}const Ri={id:"input-bool",type:"input",accept:(o,i)=>{if(typeof o!="boolean")return null;const c=xt(i,{options:vt.optional.custom(ri)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Er,constraint:o=>Br(o.params),writer:o=>me},controller:o=>{const i=o.document,s=o.value,c=o.constraint,m=c&&de(c,Zn);return m?new Qn(i,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps}):new Ir(i,{value:s,viewProps:o.viewProps})}},hn=j("col");class Os{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(hn()),s.foldable.bindExpandedClass(this.element,hn(void 0,"expanded")),St(s.foldable,"completed",et(this.element,hn(void 0,"cpl")));const c=i.createElement("div");c.classList.add(hn("h")),this.element.appendChild(c);const m=i.createElement("div");m.classList.add(hn("s")),c.appendChild(m),this.swatchElement=m;const _=i.createElement("div");if(_.classList.add(hn("t")),c.appendChild(_),this.textElement=_,s.pickerLayout==="inline"){const P=i.createElement("div");P.classList.add(hn("p")),this.element.appendChild(P),this.pickerElement=P}else this.pickerElement=null}}function bl(o,i,s){const c=Et(o/255,0,1),m=Et(i/255,0,1),_=Et(s/255,0,1),P=Math.max(c,m,_),T=Math.min(c,m,_),q=P-T;let Y=0,lt=0;const ut=(T+P)/2;return q!==0&&(lt=q/(1-Math.abs(P+T-1)),c===P?Y=(m-_)/q:m===P?Y=2+(_-c)/q:Y=4+(c-m)/q,Y=Y/6+(Y<0?1:0)),[Y*360,lt*100,ut*100]}function _l(o,i,s){const c=(o%360+360)%360,m=Et(i/100,0,1),_=Et(s/100,0,1),P=(1-Math.abs(2*_-1))*m,T=P*(1-Math.abs(c/60%2-1)),q=_-P/2;let Y,lt,ut;return c>=0&&c<60?[Y,lt,ut]=[P,T,0]:c>=60&&c<120?[Y,lt,ut]=[T,P,0]:c>=120&&c<180?[Y,lt,ut]=[0,P,T]:c>=180&&c<240?[Y,lt,ut]=[0,T,P]:c>=240&&c<300?[Y,lt,ut]=[T,0,P]:[Y,lt,ut]=[P,0,T],[(Y+q)*255,(lt+q)*255,(ut+q)*255]}function wl(o,i,s){const c=Et(o/255,0,1),m=Et(i/255,0,1),_=Et(s/255,0,1),P=Math.max(c,m,_),T=Math.min(c,m,_),q=P-T;let Y;q===0?Y=0:P===c?Y=60*(((m-_)/q%6+6)%6):P===m?Y=60*((_-c)/q+2):Y=60*((c-m)/q+4);const lt=P===0?0:q/P,ut=P;return[Y,lt*100,ut*100]}function jr(o,i,s){const c=Mn(o,360),m=Et(i/100,0,1),_=Et(s/100,0,1),P=_*m,T=P*(1-Math.abs(c/60%2-1)),q=_-P;let Y,lt,ut;return c>=0&&c<60?[Y,lt,ut]=[P,T,0]:c>=60&&c<120?[Y,lt,ut]=[T,P,0]:c>=120&&c<180?[Y,lt,ut]=[0,P,T]:c>=180&&c<240?[Y,lt,ut]=[0,T,P]:c>=240&&c<300?[Y,lt,ut]=[T,0,P]:[Y,lt,ut]=[P,0,T],[(Y+q)*255,(lt+q)*255,(ut+q)*255]}function h(o,i,s){const c=s+i*(100-Math.abs(2*s-100))/200;return[o,c!==0?i*(100-Math.abs(2*s-100))/c:0,s+i*(100-Math.abs(2*s-100))/(2*100)]}function l(o,i,s){const c=100-Math.abs(s*(200-i)/100-100);return[o,c!==0?i*s/c:0,s*(200-i)/(2*100)]}function u(o){return[o[0],o[1],o[2]]}function d(o,i){return[o[0],o[1],o[2],i]}const b={hsl:{hsl:(o,i,s)=>[o,i,s],hsv:h,rgb:_l},hsv:{hsl:l,hsv:(o,i,s)=>[o,i,s],rgb:jr},rgb:{hsl:bl,hsv:wl,rgb:(o,i,s)=>[o,i,s]}};function y(o,i){return[i==="float"?1:o==="rgb"?255:360,i==="float"?1:o==="rgb"?255:100,i==="float"?1:o==="rgb"?255:100]}function V(o,i){return o===i?i:Mn(o,i)}function N(o,i,s){var c;const m=y(i,s);return[i==="rgb"?Et(o[0],0,m[0]):V(o[0],m[0]),Et(o[1],0,m[1]),Et(o[2],0,m[2]),Et((c=o[3])!==null&&c!==void 0?c:1,0,1)]}function nt(o,i,s,c){const m=y(i,s),_=y(i,c);return o.map((P,T)=>P/m[T]*_[T])}function se(o,i,s){const c=nt(o,i.mode,i.type,"int"),m=b[i.mode][s.mode](...c);return nt(m,s.mode,"int",s.type)}function re(o,i){return typeof o!="object"||E(o)?!1:i in o&&typeof o[i]=="number"}class Z{static black(i="int"){return new Z([0,0,0],"rgb",i)}static fromObject(i,s="int"){const c="a"in i?[i.r,i.g,i.b,i.a]:[i.r,i.g,i.b];return new Z(c,"rgb",s)}static toRgbaObject(i,s="int"){return i.toRgbaObject(s)}static isRgbColorObject(i){return re(i,"r")&&re(i,"g")&&re(i,"b")}static isRgbaColorObject(i){return this.isRgbColorObject(i)&&re(i,"a")}static isColorObject(i){return this.isRgbColorObject(i)}static equals(i,s){if(i.mode!==s.mode)return!1;const c=i.comps_,m=s.comps_;for(let _=0;_<c.length;_++)if(c[_]!==m[_])return!1;return!0}constructor(i,s,c="int"){this.mode=s,this.type=c,this.comps_=N(i,s,c)}getComponents(i,s="int"){return d(se(u(this.comps_),{mode:this.mode,type:this.type},{mode:i!=null?i:this.mode,type:s}),this.comps_[3])}toRgbaObject(i="int"){const s=this.getComponents("rgb",i);return{r:s[0],g:s[1],b:s[2],a:s[3]}}}const qe=j("colp");class gl{constructor(i,s){this.alphaViews_=null,this.element=i.createElement("div"),this.element.classList.add(qe()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(qe("hsv"));const m=i.createElement("div");m.classList.add(qe("sv")),this.svPaletteView_=s.svPaletteView,m.appendChild(this.svPaletteView_.element),c.appendChild(m);const _=i.createElement("div");_.classList.add(qe("h")),this.hPaletteView_=s.hPaletteView,_.appendChild(this.hPaletteView_.element),c.appendChild(_),this.element.appendChild(c);const P=i.createElement("div");if(P.classList.add(qe("rgb")),this.textView_=s.textView,P.appendChild(this.textView_.element),this.element.appendChild(P),s.alphaViews){this.alphaViews_={palette:s.alphaViews.palette,text:s.alphaViews.text};const T=i.createElement("div");T.classList.add(qe("a"));const q=i.createElement("div");q.classList.add(qe("ap")),q.appendChild(this.alphaViews_.palette.element),T.appendChild(q);const Y=i.createElement("div");Y.classList.add(qe("at")),Y.appendChild(this.alphaViews_.text.element),T.appendChild(Y),this.element.appendChild(T)}}get allFocusableElements(){const i=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(s=>s.inputElement)];return this.alphaViews_&&i.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),i}}function Kh(o){return o==="int"?"int":o==="float"?"float":void 0}function Cl(o){const i=vt;return xt(o,{alpha:i.optional.boolean,color:i.optional.object({alpha:i.optional.boolean,type:i.optional.custom(Kh)}),expanded:i.optional.boolean,picker:i.optional.custom(Ds)})}function ai(o){return o?.1:1}function ci(o){var i;return(i=o.color)===null||i===void 0?void 0:i.type}function $h(o,i){return o.alpha===i.alpha&&o.mode===i.mode&&o.notation===i.notation&&o.type===i.type}function Ee(o,i){const s=o.match(/^(.+)%$/);return Math.min(s?parseFloat(s[1])*.01*i:parseFloat(o),i)}const Uh={deg:o=>o,grad:o=>o*360/400,rad:o=>o*360/(2*Math.PI),turn:o=>o*360};function fc(o){const i=o.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!i)return parseFloat(o);const s=parseFloat(i[1]),c=i[2];return Uh[c](s)}function bc(o){const i=o.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const s=[Ee(i[1],255),Ee(i[2],255),Ee(i[3],255)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function _c(o){return i=>{const s=bc(i);return s?new Z(s,"rgb",o):null}}function wc(o){const i=o.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const s=[Ee(i[1],255),Ee(i[2],255),Ee(i[3],255),Ee(i[4],1)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function gc(o){return i=>{const s=wc(i);return s?new Z(s,"rgb",o):null}}function Cc(o){const i=o.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const s=[fc(i[1]),Ee(i[2],100),Ee(i[3],100)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function xc(o){return i=>{const s=Cc(i);return s?new Z(s,"hsl",o):null}}function yc(o){const i=o.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const s=[fc(i[1]),Ee(i[2],100),Ee(i[3],100),Ee(i[4],1)];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function Pc(o){return i=>{const s=yc(i);return s?new Z(s,"hsl",o):null}}function Ec(o){const i=o.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(i)return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)];const s=o.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:null}function Hh(o){const i=Ec(o);return i?new Z(i,"rgb","int"):null}function kc(o){const i=o.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(i)return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),bt(parseInt(i[4]+i[4],16),0,255,0,1)];const s=o.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16),bt(parseInt(s[4],16),0,255,0,1)]:null}function qh(o){const i=kc(o);return i?new Z(i,"rgb","int"):null}function Vc(o){const i=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!i)return null;const s=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Sc(o){return i=>{const s=Vc(i);return s?new Z(s,"rgb",o):null}}function Lc(o){const i=o.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!i)return null;const s=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3]),parseFloat(i[4])];return isNaN(s[0])||isNaN(s[1])||isNaN(s[2])||isNaN(s[3])?null:s}function Mc(o){return i=>{const s=Lc(i);return s?new Z(s,"rgb",o):null}}const Gh=[{parser:Ec,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:kc,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:bc,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:wc,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Cc,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:yc,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Vc,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Lc,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Yh(o){return Gh.reduce((i,{parser:s,result:c})=>i||(s(o)?c:null),null)}function xl(o,i="int"){const s=Yh(o);return s?s.notation==="hex"&&i!=="float"?Object.assign(Object.assign({},s),{type:"int"}):s.notation==="func"?Object.assign(Object.assign({},s),{type:i}):null:null}const Ac={int:[Hh,qh,_c("int"),gc("int"),xc("int"),Pc("int"),Sc("int"),Mc("int")],float:[_c("float"),gc("float"),xc("float"),Pc("float"),Sc("float"),Mc("float")]};function Wh(o){const i=Ac[o];return s=>{if(typeof s!="string")return Z.black(o);const c=i.reduce((m,_)=>m||_(s),null);return c!=null?c:Z.black(o)}}function yl(o){const i=Ac[o];return s=>i.reduce((c,m)=>c||m(s),null)}function Tc(o){const i=Et(Math.floor(o),0,255).toString(16);return i.length===1?`0${i}`:i}function Dc(o,i="#"){const s=u(o.getComponents("rgb")).map(Tc).join("");return`${i}${s}`}function Pl(o,i="#"){const s=o.getComponents("rgb"),c=[s[0],s[1],s[2],s[3]*255].map(Tc).join("");return`${i}${c}`}function Rc(o,i){const s=Tt(i==="float"?2:0);return`rgb(${u(o.getComponents("rgb",i)).map(m=>s(m)).join(", ")})`}function Xh(o){return i=>Rc(i,o)}function Fr(o,i){const s=Tt(2),c=Tt(i==="float"?2:0);return`rgba(${o.getComponents("rgb",i).map((_,P)=>(P===3?s:c)(_)).join(", ")})`}function Jh(o){return i=>Fr(i,o)}function Zh(o){const i=[Tt(0),ei,ei];return`hsl(${u(o.getComponents("hsl")).map((c,m)=>i[m](c)).join(", ")})`}function Qh(o){const i=[Tt(0),ei,ei,Tt(2)];return`hsla(${o.getComponents("hsl").map((c,m)=>i[m](c)).join(", ")})`}function Oc(o,i){const s=Tt(i==="float"?2:0),c=["r","g","b"];return`{${u(o.getComponents("rgb",i)).map((_,P)=>`${c[P]}: ${s(_)}`).join(", ")}}`}function td(o){return i=>Oc(i,o)}function Nc(o,i){const s=Tt(2),c=Tt(i==="float"?2:0),m=["r","g","b","a"];return`{${o.getComponents("rgb",i).map((P,T)=>{const q=T===3?s:c;return`${m[T]}: ${q(P)}`}).join(", ")}}`}function ed(o){return i=>Nc(i,o)}const nd=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Dc},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Pl},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Zh},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Qh},...["int","float"].reduce((o,i)=>[...o,{format:{alpha:!1,mode:"rgb",notation:"func",type:i},stringifier:Xh(i)},{format:{alpha:!0,mode:"rgb",notation:"func",type:i},stringifier:Jh(i)},{format:{alpha:!1,mode:"rgb",notation:"object",type:i},stringifier:td(i)},{format:{alpha:!0,mode:"rgb",notation:"object",type:i},stringifier:ed(i)}],[])];function El(o){return nd.reduce((i,s)=>i||($h(s.format,o)?s.stringifier:null),null)}const Ns=j("apl");class id{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(Ns()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=i.createElement("div");c.classList.add(Ns("b")),this.element.appendChild(c);const m=i.createElement("div");m.classList.add(Ns("c")),c.appendChild(m),this.colorElem_=m;const _=i.createElement("div");_.classList.add(Ns("m")),this.element.appendChild(_),this.markerElem_=_;const P=i.createElement("div");P.classList.add(Ns("p")),this.markerElem_.appendChild(P),this.previewElem_=P,this.update_()}update_(){const i=this.value.rawValue,s=i.getComponents("rgb"),c=new Z([s[0],s[1],s[2],0],"rgb"),m=new Z([s[0],s[1],s[2],255],"rgb"),_=["to right",Fr(c),Fr(m)];this.colorElem_.style.background=`linear-gradient(${_.join(",")})`,this.previewElem_.style.backgroundColor=Fr(i);const P=bt(s[3],0,1,0,100);this.markerElem_.style.left=`${P}%`}onValueChange_(){this.update_()}}class sd{constructor(i,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new id(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,s){if(!i.point)return;const c=i.point.x/i.bounds.width,m=this.value.rawValue,[_,P,T]=m.getComponents("hsv");this.value.setRawValue(new Z([_,P,T,c],"hsv"),s)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const s=It(ai(!0),Pe(i));if(s===0)return;const c=this.value.rawValue,[m,_,P,T]=c.getComponents("hsv");this.value.setRawValue(new Z([m,_,P,T+s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){It(ai(!0),Pe(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Oi=j("coltxt");function rd(o){const i=o.createElement("select"),s=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return i.appendChild(s.reduce((c,m)=>{const _=o.createElement("option");return _.textContent=m.text,_.value=m.value,c.appendChild(_),c},o.createDocumentFragment())),i}class od{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(Oi()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(Oi("m")),this.modeElem_=rd(i),this.modeElem_.classList.add(Oi("ms")),c.appendChild(this.modeSelectElement),s.viewProps.bindDisabled(this.modeElem_);const m=i.createElement("div");m.classList.add(Oi("mm")),m.appendChild($(i,"dropdown")),c.appendChild(m),this.element.appendChild(c);const _=i.createElement("div");_.classList.add(Oi("w")),this.element.appendChild(_),this.textsElem_=_,this.textViews_=s.textViews,this.applyTextViews_(),$t(s.colorMode,P=>{this.modeElem_.value=P})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(i){this.textViews_=i,this.applyTextViews_()}applyTextViews_(){ct(this.textsElem_);const i=this.element.ownerDocument;this.textViews_.forEach(s=>{const c=i.createElement("div");c.classList.add(Oi("c")),c.appendChild(s.element),this.textsElem_.appendChild(c)})}}function ld(o){return Tt(o==="float"?2:0)}function ad(o,i,s){const c=y(o,i)[s];return new Vn({min:0,max:c})}function kl(o,i,s){return new ii(o,{arrayPosition:s===0?"fst":s===3-1?"lst":"mid",baseStep:ai(!1),parser:i.parser,props:z.fromObject({draggingScale:i.colorType==="float"?.01:1,formatter:ld(i.colorType)}),value:W(0,{constraint:ad(i.colorMode,i.colorType,s)}),viewProps:i.viewProps})}class cd{constructor(i,s){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=s.colorType,this.parser_=s.parser,this.value=s.value,this.viewProps=s.viewProps,this.colorMode=W(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(i),this.view=new od(i,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(i){const s={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},c=[kl(i,s,0),kl(i,s,1),kl(i,s,2)];return c.forEach((m,_)=>{Ln({primary:this.value,secondary:m.value,forward:P=>P.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[_],backward:(P,T)=>{const q=this.colorMode.rawValue,Y=P.rawValue.getComponents(q,this.colorType_);return Y[_]=T.rawValue,new Z(d(u(Y),Y[3]),q,this.colorType_)}})}),c}onModeSelectChange_(i){const s=i.currentTarget;this.colorMode.rawValue=s.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Vl=j("hpl");class ud{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(Vl()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=i.createElement("div");c.classList.add(Vl("c")),this.element.appendChild(c);const m=i.createElement("div");m.classList.add(Vl("m")),this.element.appendChild(m),this.markerElem_=m,this.update_()}update_(){const i=this.value.rawValue,[s]=i.getComponents("hsv");this.markerElem_.style.backgroundColor=Rc(new Z([s,100,100],"hsv"));const c=bt(s,0,360,0,100);this.markerElem_.style.left=`${c}%`}onValueChange_(){this.update_()}}class pd{constructor(i,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new ud(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,s){if(!i.point)return;const c=bt(Et(i.point.x,0,i.bounds.width),0,i.bounds.width,0,360),m=this.value.rawValue,[,_,P,T]=m.getComponents("hsv");this.value.setRawValue(new Z([c,_,P,T],"hsv"),s)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const s=It(ai(!1),Pe(i));if(s===0)return;const c=this.value.rawValue,[m,_,P,T]=c.getComponents("hsv");this.value.setRawValue(new Z([m+s,_,P,T],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){It(ai(!1),Pe(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Sl=j("svp"),Ic=64;class hd{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),this.value=s.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(Sl()),s.viewProps.bindClassModifiers(this.element),s.viewProps.bindTabIndex(this.element);const c=i.createElement("canvas");c.height=Ic,c.width=Ic,c.classList.add(Sl("c")),this.element.appendChild(c),this.canvasElement=c;const m=i.createElement("div");m.classList.add(Sl("m")),this.element.appendChild(m),this.markerElem_=m,this.update_()}update_(){const i=U(this.canvasElement);if(!i)return;const c=this.value.rawValue.getComponents("hsv"),m=this.canvasElement.width,_=this.canvasElement.height,P=i.getImageData(0,0,m,_),T=P.data;for(let lt=0;lt<_;lt++)for(let ut=0;ut<m;ut++){const ui=bt(ut,0,m,0,100),Bs=bt(lt,0,_,100,0),js=jr(c[0],ui,Bs),zr=(lt*m+ut)*4;T[zr]=js[0],T[zr+1]=js[1],T[zr+2]=js[2],T[zr+3]=255}i.putImageData(P,0,0);const q=bt(c[1],0,100,0,100);this.markerElem_.style.left=`${q}%`;const Y=bt(c[2],0,100,100,0);this.markerElem_.style.top=`${Y}%`}onValueChange_(){this.update_()}}class dd{constructor(i,s){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.view=new hd(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,s){if(!i.point)return;const c=bt(i.point.x,0,i.bounds.width,0,100),m=bt(i.point.y,0,i.bounds.height,100,0),[_,,,P]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Z([_,c,m,P],"hsv"),s)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){Ai(i.key)&&i.preventDefault();const[s,c,m,_]=this.value.rawValue.getComponents("hsv"),P=ai(!1),T=It(P,Pe(i)),q=It(P,ni(i));T===0&&q===0||this.value.setRawValue(new Z([s,c+T,m+q,_],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){const s=ai(!1),c=It(s,Pe(i)),m=It(s,ni(i));c===0&&m===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class md{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.hPaletteC_=new pd(i,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new dd(i,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=s.supportsAlpha?{palette:new sd(i,{value:this.value,viewProps:this.viewProps}),text:new ii(i,{parser:ye,baseStep:.1,props:z.fromObject({draggingScale:.01,formatter:Tt(2)}),value:W(0,{constraint:new Vn({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Ln({primary:this.value,secondary:this.alphaIcs_.text.value,forward:c=>c.rawValue.getComponents()[3],backward:(c,m)=>{const _=c.rawValue.getComponents();return _[3]=m.rawValue,new Z(_,c.rawValue.mode)}}),this.textC_=new cd(i,{colorType:s.colorType,parser:ye,value:this.value,viewProps:this.viewProps}),this.view=new gl(i,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:s.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const Ll=j("colsw");class vd{constructor(i,s){this.onValueChange_=this.onValueChange_.bind(this),s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.element=i.createElement("div"),this.element.classList.add(Ll()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(Ll("sw")),this.element.appendChild(c),this.swatchElem_=c;const m=i.createElement("button");m.classList.add(Ll("b")),s.viewProps.bindDisabled(m),this.element.appendChild(m),this.buttonElement=m,this.update_()}update_(){const i=this.value.rawValue;this.swatchElem_.style.backgroundColor=Pl(i)}onValueChange_(){this.update_()}}class fd{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new vd(i,{value:this.value,viewProps:this.viewProps})}}class Ml{constructor(i,s){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.foldable_=$e.create(s.expanded),this.swatchC_=new fd(i,{value:this.value,viewProps:this.viewProps});const c=this.swatchC_.view.buttonElement;c.addEventListener("blur",this.onButtonBlur_),c.addEventListener("click",this.onButtonClick_),this.textC_=new Li(i,{parser:s.parser,props:z.fromObject({formatter:s.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Os(i,{foldable:this.foldable_,pickerLayout:s.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=s.pickerLayout==="popup"?new yr(i,{viewProps:this.viewProps}):null;const m=new md(i,{colorType:s.colorType,supportsAlpha:s.supportsAlpha,value:this.value,viewProps:this.viewProps});m.view.allFocusableElements.forEach(_=>{_.addEventListener("blur",this.onPopupChildBlur_),_.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=m,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(m.view.element),Ln({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:_=>_.rawValue,backward:(_,P)=>P.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),as(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(i){if(!this.popC_)return;const s=this.view.element,c=i.relatedTarget;(!c||!s.contains(c))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(i){if(!this.popC_)return;const s=this.popC_.view.element,c=ft(i);c&&s.contains(c)||c&&c===this.swatchC_.view.buttonElement&&!R(s.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(i){this.popC_?i.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&i.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function bd(o,i){return Z.isColorObject(o)?Z.fromObject(o,i):Z.black(i)}function _d(o){return u(o.getComponents("rgb")).reduce((i,s)=>i<<8|Math.floor(s)&255,0)}function wd(o){return o.getComponents("rgb").reduce((i,s,c)=>{const m=Math.floor(c===3?s*255:s)&255;return i<<8|m},0)>>>0}function gd(o){return new Z([o>>16&255,o>>8&255,o&255],"rgb")}function Cd(o){return new Z([o>>24&255,o>>16&255,o>>8&255,bt(o&255,0,255,0,1)],"rgb")}function xd(o){return typeof o!="number"?Z.black():gd(o)}function yd(o){return typeof o!="number"?Z.black():Cd(o)}function Pd(o){const i=El(o);return i?(s,c)=>{me(s,i(c))}:null}function Ed(o){const i=o?wd:_d;return(s,c)=>{me(s,i(c))}}function kd(o,i,s){const c=i.toRgbaObject(s);o.writeProperty("r",c.r),o.writeProperty("g",c.g),o.writeProperty("b",c.b),o.writeProperty("a",c.a)}function Vd(o,i,s){const c=i.toRgbaObject(s);o.writeProperty("r",c.r),o.writeProperty("g",c.g),o.writeProperty("b",c.b)}function Sd(o,i){return(s,c)=>{o?kd(s,c,i):Vd(s,c,i)}}function Al(o){var i;return!!((o==null?void 0:o.alpha)||((i=o==null?void 0:o.color)===null||i===void 0?void 0:i.alpha))}function Ld(o){return o?i=>Pl(i,"0x"):i=>Dc(i,"0x")}function Md(o){return"color"in o||"view"in o&&o.view==="color"}const Ad={id:"input-color-number",type:"input",accept:(o,i)=>{if(typeof o!="number"||!Md(i))return null;const s=Cl(i);return s?{initialValue:o,params:s}:null},binding:{reader:o=>Al(o.params)?yd:xd,equals:Z.equals,writer:o=>Ed(Al(o.params))},controller:o=>{const i=Al(o.params),s="expanded"in o.params?o.params.expanded:void 0,c="picker"in o.params?o.params.picker:void 0;return new Ml(o.document,{colorType:"int",expanded:s!=null?s:!1,formatter:Ld(i),parser:yl("int"),pickerLayout:c!=null?c:"popup",supportsAlpha:i,value:o.value,viewProps:o.viewProps})}};function Td(o){return Z.isRgbaColorObject(o)}function Dd(o){return i=>bd(i,o)}function Rd(o,i){return s=>o?Nc(s,i):Oc(s,i)}const Od={id:"input-color-object",type:"input",accept:(o,i)=>{if(!Z.isColorObject(o))return null;const s=Cl(i);return s?{initialValue:o,params:s}:null},binding:{reader:o=>Dd(ci(o.params)),equals:Z.equals,writer:o=>Sd(Td(o.initialValue),ci(o.params))},controller:o=>{var i;const s=Z.isRgbaColorObject(o.initialValue),c="expanded"in o.params?o.params.expanded:void 0,m="picker"in o.params?o.params.picker:void 0,_=(i=ci(o.params))!==null&&i!==void 0?i:"int";return new Ml(o.document,{colorType:_,expanded:c!=null?c:!1,formatter:Rd(s,_),parser:yl(_),pickerLayout:m!=null?m:"popup",supportsAlpha:s,value:o.value,viewProps:o.viewProps})}},Nd={id:"input-color-string",type:"input",accept:(o,i)=>{if(typeof o!="string"||"view"in i&&i.view==="text")return null;const s=xl(o,ci(i));if(!s||!El(s))return null;const m=Cl(i);return m?{initialValue:o,params:m}:null},binding:{reader:o=>{var i;return Wh((i=ci(o.params))!==null&&i!==void 0?i:"int")},equals:Z.equals,writer:o=>{const i=xl(o.initialValue,ci(o.params));if(!i)throw I.shouldNeverHappen();const s=Pd(i);if(!s)throw I.notBindable();return s}},controller:o=>{const i=xl(o.initialValue,ci(o.params));if(!i)throw I.shouldNeverHappen();const s=El(i);if(!s)throw I.shouldNeverHappen();const c="expanded"in o.params?o.params.expanded:void 0,m="picker"in o.params?o.params.picker:void 0;return new Ml(o.document,{colorType:i.type,expanded:c!=null?c:!1,formatter:s,parser:yl(i.type),pickerLayout:m!=null?m:"popup",supportsAlpha:i.alpha,value:o.value,viewProps:o.viewProps})}};class An{constructor(i){this.components=i.components,this.asm_=i.assembly}constrain(i){const s=this.asm_.toComponents(i).map((c,m)=>{var _,P;return(P=(_=this.components[m])===null||_===void 0?void 0:_.constrain(c))!==null&&P!==void 0?P:c});return this.asm_.fromComponents(s)}}const Bc=j("pndtxt");class Id{constructor(i,s){this.textViews=s.textViews,this.element=i.createElement("div"),this.element.classList.add(Bc()),this.textViews.forEach(c=>{const m=i.createElement("div");m.classList.add(Bc("a")),m.appendChild(c.element),this.element.appendChild(m)})}}function Bd(o,i,s){return new ii(o,{arrayPosition:s===0?"fst":s===i.axes.length-1?"lst":"mid",baseStep:i.axes[s].baseStep,parser:i.parser,props:i.axes[s].textProps,value:W(0,{constraint:i.axes[s].constraint}),viewProps:i.viewProps})}class Tl{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.acs_=s.axes.map((c,m)=>Bd(i,s,m)),this.acs_.forEach((c,m)=>{Ln({primary:this.value,secondary:c.value,forward:_=>s.assembly.toComponents(_.rawValue)[m],backward:(_,P)=>{const T=s.assembly.toComponents(_.rawValue);return T[m]=P.rawValue,s.assembly.fromComponents(T)}})}),this.view=new Id(i,{textViews:this.acs_.map(c=>c.view)})}}function jc(o,i){return"step"in o&&!E(o.step)?new Si(o.step,i):null}function Fc(o){return!E(o.max)&&!E(o.min)?new Vn({max:o.max,min:o.min}):!E(o.max)||!E(o.min)?new gs({max:o.max,min:o.min}):null}function jd(o){const i=de(o,Vn);if(i)return[i.values.get("min"),i.values.get("max")];const s=de(o,gs);return s?[s.minValue,s.maxValue]:[void 0,void 0]}function Fd(o,i){const s=[],c=jc(o,i);c&&s.push(c);const m=Fc(o);m&&s.push(m);const _=Rs(o.options);return _&&s.push(_),new Jn(s)}const zd={id:"input-number",type:"input",accept:(o,i)=>{if(typeof o!="number")return null;const s=vt,c=xt(i,{format:s.optional.function,max:s.optional.number,min:s.optional.number,options:s.optional.custom(ri),step:s.optional.number});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Ae,constraint:o=>Fd(o.params,o.initialValue),writer:o=>me},controller:o=>{var i;const s=o.value,c=o.constraint,m=c&&de(c,Zn);if(m)return new Qn(o.document,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps});const _=(i="format"in o.params?o.params.format:void 0)!==null&&i!==void 0?i:Tt(Di(c,s.rawValue)),P=c&&de(c,Vn);return P?new Ti(o.document,{baseStep:un(c),parser:ye,sliderProps:new z({maxValue:P.values.value("max"),minValue:P.values.value("min")}),textProps:z.fromObject({draggingScale:pn(c,s.rawValue),formatter:_}),value:s,viewProps:o.viewProps}):new ii(o.document,{baseStep:un(c),parser:ye,props:z.fromObject({draggingScale:pn(c,s.rawValue),formatter:_}),value:s,viewProps:o.viewProps})}};class Tn{constructor(i=0,s=0){this.x=i,this.y=s}getComponents(){return[this.x,this.y]}static isObject(i){if(E(i))return!1;const s=i.x,c=i.y;return!(typeof s!="number"||typeof c!="number")}static equals(i,s){return i.x===s.x&&i.y===s.y}toObject(){return{x:this.x,y:this.y}}}const zc={toComponents:o=>o.getComponents(),fromComponents:o=>new Tn(...o)},Ni=j("p2d");class Kd{constructor(i,s){this.element=i.createElement("div"),this.element.classList.add(Ni()),s.viewProps.bindClassModifiers(this.element),$t(s.expanded,et(this.element,Ni(void 0,"expanded")));const c=i.createElement("div");c.classList.add(Ni("h")),this.element.appendChild(c);const m=i.createElement("button");m.classList.add(Ni("b")),m.appendChild($(i,"p2dpad")),s.viewProps.bindDisabled(m),c.appendChild(m),this.buttonElement=m;const _=i.createElement("div");if(_.classList.add(Ni("t")),c.appendChild(_),this.textElement=_,s.pickerLayout==="inline"){const P=i.createElement("div");P.classList.add(Ni("p")),this.element.appendChild(P),this.pickerElement=P}else this.pickerElement=null}}const Dn=j("p2dp");class $d{constructor(i,s){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=s.invertsY,this.maxValue_=s.maxValue,this.element=i.createElement("div"),this.element.classList.add(Dn()),s.layout==="popup"&&this.element.classList.add(Dn(void 0,"p")),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("div");c.classList.add(Dn("p")),s.viewProps.bindTabIndex(c),this.element.appendChild(c),this.padElement=c;const m=i.createElementNS(L,"svg");m.classList.add(Dn("g")),this.padElement.appendChild(m),this.svgElem_=m;const _=i.createElementNS(L,"line");_.classList.add(Dn("ax")),_.setAttributeNS(null,"x1","0"),_.setAttributeNS(null,"y1","50%"),_.setAttributeNS(null,"x2","100%"),_.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(_);const P=i.createElementNS(L,"line");P.classList.add(Dn("ax")),P.setAttributeNS(null,"x1","50%"),P.setAttributeNS(null,"y1","0"),P.setAttributeNS(null,"x2","50%"),P.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(P);const T=i.createElementNS(L,"line");T.classList.add(Dn("l")),T.setAttributeNS(null,"x1","50%"),T.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(T),this.lineElem_=T;const q=i.createElement("div");q.classList.add(Dn("m")),this.padElement.appendChild(q),this.markerElem_=q,s.value.emitter.on("change",this.onValueChange_),this.value=s.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[i,s]=this.value.rawValue.getComponents(),c=this.maxValue_,m=bt(i,-c,+c,0,100),_=bt(s,-c,+c,0,100),P=this.invertsY_?100-_:_;this.lineElem_.setAttributeNS(null,"x2",`${m}%`),this.lineElem_.setAttributeNS(null,"y2",`${P}%`),this.markerElem_.style.left=`${m}%`,this.markerElem_.style.top=`${P}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Kc(o,i,s){return[It(i[0],Pe(o)),It(i[1],ni(o))*(s?1:-1)]}class Ud{constructor(i,s){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.baseSteps_=s.baseSteps,this.maxValue_=s.maxValue,this.invertsY_=s.invertsY,this.view=new $d(i,{invertsY:this.invertsY_,layout:s.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(i,s){if(!i.point)return;const c=this.maxValue_,m=bt(i.point.x,0,i.bounds.width,-c,+c),_=bt(this.invertsY_?i.bounds.height-i.point.y:i.point.y,0,i.bounds.height,-c,+c);this.value.setRawValue(new Tn(m,_),s)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onPadKeyDown_(i){Ai(i.key)&&i.preventDefault();const[s,c]=Kc(i,this.baseSteps_,this.invertsY_);s===0&&c===0||this.value.setRawValue(new Tn(this.value.rawValue.x+s,this.value.rawValue.y+c),{forceEmit:!1,last:!1})}onPadKeyUp_(i){const[s,c]=Kc(i,this.baseSteps_,this.invertsY_);s===0&&c===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Hd{constructor(i,s){var c,m;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=s.value,this.viewProps=s.viewProps,this.foldable_=$e.create(s.expanded),this.popC_=s.pickerLayout==="popup"?new yr(i,{viewProps:this.viewProps}):null;const _=new Ud(i,{baseSteps:[s.axes[0].baseStep,s.axes[1].baseStep],invertsY:s.invertsY,layout:s.pickerLayout,maxValue:s.maxValue,value:this.value,viewProps:this.viewProps});_.view.allFocusableElements.forEach(P=>{P.addEventListener("blur",this.onPopupChildBlur_),P.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=_,this.textC_=new Tl(i,{assembly:zc,axes:s.axes,parser:s.parser,value:this.value,viewProps:this.viewProps}),this.view=new Kd(i,{expanded:this.foldable_.value("expanded"),pickerLayout:s.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(c=this.view.buttonElement)===null||c===void 0||c.addEventListener("blur",this.onPadButtonBlur_),(m=this.view.buttonElement)===null||m===void 0||m.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Ln({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:P=>P.rawValue,backward:(P,T)=>T.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),as(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(i){if(!this.popC_)return;const s=this.view.element,c=i.relatedTarget;(!c||!s.contains(c))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(i){if(!this.popC_)return;const s=this.popC_.view.element,c=ft(i);c&&s.contains(c)||c&&c===this.view.buttonElement&&!R(s.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(i){this.popC_?i.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&i.key==="Escape"&&this.view.buttonElement.focus()}}class Ii{constructor(i=0,s=0,c=0){this.x=i,this.y=s,this.z=c}getComponents(){return[this.x,this.y,this.z]}static isObject(i){if(E(i))return!1;const s=i.x,c=i.y,m=i.z;return!(typeof s!="number"||typeof c!="number"||typeof m!="number")}static equals(i,s){return i.x===s.x&&i.y===s.y&&i.z===s.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const $c={toComponents:o=>o.getComponents(),fromComponents:o=>new Ii(...o)};function qd(o){return Ii.isObject(o)?new Ii(o.x,o.y,o.z):new Ii}function Gd(o,i){o.writeProperty("x",i.x),o.writeProperty("y",i.y),o.writeProperty("z",i.z)}function Yd(o,i){return new An({assembly:$c,components:[dn("x"in o?o.x:void 0,i.x),dn("y"in o?o.y:void 0,i.y),dn("z"in o?o.z:void 0,i.z)]})}function Dl(o,i){return{baseStep:un(i),constraint:i,textProps:z.fromObject({draggingScale:pn(i,o),formatter:Tt(Di(i,o))})}}const Wd={id:"input-point3d",type:"input",accept:(o,i)=>{if(!Ii.isObject(o))return null;const s=vt,c=xt(i,{x:s.optional.custom(Te),y:s.optional.custom(Te),z:s.optional.custom(Te)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>qd,constraint:o=>Yd(o.params,o.initialValue),equals:Ii.equals,writer:o=>Gd},controller:o=>{const i=o.value,s=o.constraint;if(!(s instanceof An))throw I.shouldNeverHappen();return new Tl(o.document,{assembly:$c,axes:[Dl(i.rawValue.x,s.components[0]),Dl(i.rawValue.y,s.components[1]),Dl(i.rawValue.z,s.components[2])],parser:ye,value:i,viewProps:o.viewProps})}};class Bi{constructor(i=0,s=0,c=0,m=0){this.x=i,this.y=s,this.z=c,this.w=m}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(i){if(E(i))return!1;const s=i.x,c=i.y,m=i.z,_=i.w;return!(typeof s!="number"||typeof c!="number"||typeof m!="number"||typeof _!="number")}static equals(i,s){return i.x===s.x&&i.y===s.y&&i.z===s.z&&i.w===s.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Uc={toComponents:o=>o.getComponents(),fromComponents:o=>new Bi(...o)};function Xd(o){return Bi.isObject(o)?new Bi(o.x,o.y,o.z,o.w):new Bi}function Jd(o,i){o.writeProperty("x",i.x),o.writeProperty("y",i.y),o.writeProperty("z",i.z),o.writeProperty("w",i.w)}function Zd(o,i){return new An({assembly:Uc,components:[dn("x"in o?o.x:void 0,i.x),dn("y"in o?o.y:void 0,i.y),dn("z"in o?o.z:void 0,i.z),dn("w"in o?o.w:void 0,i.w)]})}function Qd(o,i){return{baseStep:un(i),constraint:i,textProps:z.fromObject({draggingScale:pn(i,o),formatter:Tt(Di(i,o))})}}const tm={id:"input-point4d",type:"input",accept:(o,i)=>{if(!Bi.isObject(o))return null;const s=vt,c=xt(i,{x:s.optional.custom(Te),y:s.optional.custom(Te),z:s.optional.custom(Te),w:s.optional.custom(Te)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Xd,constraint:o=>Zd(o.params,o.initialValue),equals:Bi.equals,writer:o=>Jd},controller:o=>{const i=o.value,s=o.constraint;if(!(s instanceof An))throw I.shouldNeverHappen();return new Tl(o.document,{assembly:Uc,axes:i.rawValue.getComponents().map((c,m)=>Qd(c,s.components[m])),parser:ye,value:i,viewProps:o.viewProps})}};function em(o){const i=[],s=Rs(o.options);return s&&i.push(s),new Jn(i)}const nm={id:"input-string",type:"input",accept:(o,i)=>{if(typeof o!="string")return null;const c=xt(i,{options:vt.optional.custom(ri)});return c?{initialValue:o,params:c}:null},binding:{reader:o=>ks,constraint:o=>em(o.params),writer:o=>me},controller:o=>{const i=o.document,s=o.value,c=o.constraint,m=c&&de(c,Zn);return m?new Qn(i,{props:new z({options:m.values.value("options")}),value:s,viewProps:o.viewProps}):new Li(i,{parser:_=>_,props:z.fromObject({formatter:He}),value:s,viewProps:o.viewProps})}},Is={monitor:{defaultInterval:200,defaultLineCount:3}},Hc=j("mll");class im{constructor(i,s){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=s.formatter,this.element=i.createElement("div"),this.element.classList.add(Hc()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("textarea");c.classList.add(Hc("i")),c.style.height=`calc(var(--bld-us) * ${s.lineCount})`,c.readOnly=!0,s.viewProps.bindDisabled(c),this.element.appendChild(c),this.textareaElem_=c,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}update_(){const i=this.textareaElem_,s=i.scrollTop===i.scrollHeight-i.clientHeight,c=[];this.value.rawValue.forEach(m=>{m!==void 0&&c.push(this.formatter_(m))}),i.textContent=c.join(`
`),s&&(i.scrollTop=i.scrollHeight)}onValueUpdate_(){this.update_()}}class Rl{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new im(i,{formatter:s.formatter,lineCount:s.lineCount,value:this.value,viewProps:this.viewProps})}}const qc=j("sgl");class sm{constructor(i,s){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=s.formatter,this.element=i.createElement("div"),this.element.classList.add(qc()),s.viewProps.bindClassModifiers(this.element);const c=i.createElement("input");c.classList.add(qc("i")),c.readOnly=!0,c.type="text",s.viewProps.bindDisabled(c),this.element.appendChild(c),this.inputElement=c,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}update_(){const i=this.value.rawValue,s=i[i.length-1];this.inputElement.value=s!==void 0?this.formatter_(s):""}onValueUpdate_(){this.update_()}}class Ol{constructor(i,s){this.value=s.value,this.viewProps=s.viewProps,this.view=new sm(i,{formatter:s.formatter,value:this.value,viewProps:this.viewProps})}}const rm={id:"monitor-bool",type:"monitor",accept:(o,i)=>{if(typeof o!="boolean")return null;const c=xt(i,{lineCount:vt.optional.number});return c?{initialValue:o,params:c}:null},binding:{reader:o=>Er},controller:o=>{var i;return o.value.rawValue.length===1?new Ol(o.document,{formatter:kr,value:o.value,viewProps:o.viewProps}):new Rl(o.document,{formatter:kr,lineCount:(i=o.params.lineCount)!==null&&i!==void 0?i:Is.monitor.defaultLineCount,value:o.value,viewProps:o.viewProps})}},Rn=j("grl");class om{constructor(i,s){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=i.createElement("div"),this.element.classList.add(Rn()),s.viewProps.bindClassModifiers(this.element),this.formatter_=s.formatter,this.props_=s.props,this.cursor_=s.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const c=i.createElementNS(L,"svg");c.classList.add(Rn("g")),c.style.height=`calc(var(--bld-us) * ${s.lineCount})`,this.element.appendChild(c),this.svgElem_=c;const m=i.createElementNS(L,"polyline");this.svgElem_.appendChild(m),this.lineElem_=m;const _=i.createElement("div");_.classList.add(Rn("t"),j("tt")()),this.element.appendChild(_),this.tooltipElem_=_,s.value.emitter.on("change",this.onValueUpdate_),this.value=s.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const i=this.svgElem_.getBoundingClientRect(),s=this.value.rawValue.length-1,c=this.props_.get("minValue"),m=this.props_.get("maxValue"),_=[];this.value.rawValue.forEach((lt,ut)=>{if(lt===void 0)return;const ui=bt(ut,0,s,0,i.width),Bs=bt(lt,c,m,i.height,0);_.push([ui,Bs].join(","))}),this.lineElem_.setAttributeNS(null,"points",_.join(" "));const P=this.tooltipElem_,T=this.value.rawValue[this.cursor_.rawValue];if(T===void 0){P.classList.remove(Rn("t","a"));return}const q=bt(this.cursor_.rawValue,0,s,0,i.width),Y=bt(T,c,m,i.height,0);P.style.left=`${q}px`,P.style.top=`${Y}px`,P.textContent=`${this.formatter_(T)}`,P.classList.contains(Rn("t","a"))||(P.classList.add(Rn("t","a"),Rn("t","in")),D(P),P.classList.remove(Rn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class lm{constructor(i,s){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=s.props,this.value=s.value,this.viewProps=s.viewProps,this.cursor_=W(-1),this.view=new om(i,{cursor:this.cursor_,formatter:s.formatter,lineCount:s.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!R(i))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const c=new cn(this.view.element);c.emitter.on("down",this.onGraphPointerDown_),c.emitter.on("move",this.onGraphPointerMove_),c.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(i){const s=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(bt(i.offsetX,0,s.width,0,this.value.rawValue.length))}onGraphPointerDown_(i){this.onGraphPointerMove_(i)}onGraphPointerMove_(i){if(!i.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(bt(i.data.point.x,0,i.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Nl(o){return"format"in o&&!E(o.format)?o.format:Tt(2)}function am(o){var i;return o.value.rawValue.length===1?new Ol(o.document,{formatter:Nl(o.params),value:o.value,viewProps:o.viewProps}):new Rl(o.document,{formatter:Nl(o.params),lineCount:(i=o.params.lineCount)!==null&&i!==void 0?i:Is.monitor.defaultLineCount,value:o.value,viewProps:o.viewProps})}function cm(o){var i,s,c;return new lm(o.document,{formatter:Nl(o.params),lineCount:(i=o.params.lineCount)!==null&&i!==void 0?i:Is.monitor.defaultLineCount,props:z.fromObject({maxValue:(s="max"in o.params?o.params.max:null)!==null&&s!==void 0?s:100,minValue:(c="min"in o.params?o.params.min:null)!==null&&c!==void 0?c:0}),value:o.value,viewProps:o.viewProps})}function Gc(o){return"view"in o&&o.view==="graph"}const um={id:"monitor-number",type:"monitor",accept:(o,i)=>{if(typeof o!="number")return null;const s=vt,c=xt(i,{format:s.optional.function,lineCount:s.optional.number,max:s.optional.number,min:s.optional.number,view:s.optional.string});return c?{initialValue:o,params:c}:null},binding:{defaultBufferSize:o=>Gc(o)?64:1,reader:o=>Ae},controller:o=>Gc(o.params)?cm(o):am(o)},pm={id:"monitor-string",type:"monitor",accept:(o,i)=>{if(typeof o!="string")return null;const s=vt,c=xt(i,{lineCount:s.optional.number,multiline:s.optional.boolean});return c?{initialValue:o,params:c}:null},binding:{reader:o=>ks},controller:o=>{var i;const s=o.value;return s.rawValue.length>1||"multiline"in o.params&&o.params.multiline?new Rl(o.document,{formatter:He,lineCount:(i=o.params.lineCount)!==null&&i!==void 0?i:Is.monitor.defaultLineCount,value:s,viewProps:o.viewProps}):new Ol(o.document,{formatter:He,value:s,viewProps:o.viewProps})}};function hm(o,i){var s;const c=o.accept(i.target.read(),i.params);if(E(c))return null;const m=vt,_={target:i.target,initialValue:c.initialValue,params:c.params},P=o.binding.reader(_),T=o.binding.constraint?o.binding.constraint(_):void 0,q=W(P(c.initialValue),{constraint:T,equals:o.binding.equals}),Y=new Vi({reader:P,target:i.target,value:q,writer:o.binding.writer(_)}),lt=m.optional.boolean(i.params.disabled).value,ut=m.optional.boolean(i.params.hidden).value,ui=o.controller({constraint:T,document:i.document,initialValue:c.initialValue,params:c.params,value:Y.value,viewProps:Gt.create({disabled:lt,hidden:ut})});return new Yt(i.document,{binding:Y,blade:Ot(),props:z.fromObject({label:"label"in i.params?(s=m.optional.string(i.params.label).value)!==null&&s!==void 0?s:null:i.target.key}),valueController:ui})}function dm(o,i){return i===0?new wr:new ws(o,i!=null?i:Is.monitor.defaultInterval)}function mm(o,i){var s,c,m;const _=vt,P=o.accept(i.target.read(),i.params);if(E(P))return null;const T={target:i.target,initialValue:P.initialValue,params:P.params},q=o.binding.reader(T),Y=(c=(s=_.optional.number(i.params.bufferSize).value)!==null&&s!==void 0?s:o.binding.defaultBufferSize&&o.binding.defaultBufferSize(P.params))!==null&&c!==void 0?c:1,lt=_.optional.number(i.params.interval).value,ut=new Jo({reader:q,target:i.target,ticker:dm(i.document,lt),value:gr(Y)}),ui=_.optional.boolean(i.params.disabled).value,Bs=_.optional.boolean(i.params.hidden).value,js=o.controller({document:i.document,params:P.params,value:ut.value,viewProps:Gt.create({disabled:ui,hidden:Bs})});return new Ce(i.document,{binding:ut,blade:Ot(),props:z.fromObject({label:"label"in i.params?(m=_.optional.string(i.params.label).value)!==null&&m!==void 0?m:null:i.target.key}),valueController:js})}class vm{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(i){i.type==="blade"?this.pluginsMap_.blades.unshift(i):i.type==="input"?this.pluginsMap_.inputs.unshift(i):i.type==="monitor"&&this.pluginsMap_.monitors.unshift(i)}createInput(i,s,c){const m=s.read();if(E(m))throw new I({context:{key:s.key},type:"nomatchingcontroller"});const _=this.pluginsMap_.inputs.reduce((P,T)=>P!=null?P:hm(T,{document:i,target:s,params:c}),null);if(_)return _;throw new I({context:{key:s.key},type:"nomatchingcontroller"})}createMonitor(i,s,c){const m=this.pluginsMap_.monitors.reduce((_,P)=>_!=null?_:mm(P,{document:i,params:c,target:s}),null);if(m)return m;throw new I({context:{key:s.key},type:"nomatchingcontroller"})}createBlade(i,s){const c=this.pluginsMap_.blades.reduce((m,_)=>m!=null?m:Xo(_,{document:i,params:s}),null);if(!c)throw new I({type:"nomatchingview",context:{params:s}});return c}createBladeApi(i){if(i instanceof Yt)return new ps(i);if(i instanceof Ce)return new hs(i);if(i instanceof Yn)return new Pi(i,this);const s=this.pluginsMap_.blades.reduce((c,m)=>c!=null?c:m.api({controller:i,pool:this}),null);if(!s)throw I.shouldNeverHappen();return s}}function fm(){const o=new vm;return[xm,Wd,tm,nm,zd,Nd,Od,Ad,Ri,rm,pm,um,yi,Ho,Go,_s].forEach(i=>{o.register(i)}),o}function bm(o){return Tn.isObject(o)?new Tn(o.x,o.y):new Tn}function _m(o,i){o.writeProperty("x",i.x),o.writeProperty("y",i.y)}function dn(o,i){if(!o)return;const s=[],c=jc(o,i);c&&s.push(c);const m=Fc(o);return m&&s.push(m),new Jn(s)}function wm(o,i){return new An({assembly:zc,components:[dn("x"in o?o.x:void 0,i.x),dn("y"in o?o.y:void 0,i.y)]})}function Yc(o,i){const[s,c]=o?jd(o):[];if(!E(s)||!E(c))return Math.max(Math.abs(s!=null?s:0),Math.abs(c!=null?c:0));const m=un(o);return Math.max(Math.abs(m)*10,Math.abs(i)*10)}function gm(o,i){const s=i instanceof An?i.components[0]:void 0,c=i instanceof An?i.components[1]:void 0,m=Yc(s,o.x),_=Yc(c,o.y);return Math.max(m,_)}function Wc(o,i){return{baseStep:un(i),constraint:i,textProps:z.fromObject({draggingScale:pn(i,o),formatter:Tt(Di(i,o))})}}function Cm(o){if(!("y"in o))return!1;const i=o.y;return i&&"inverted"in i?!!i.inverted:!1}const xm={id:"input-point2d",type:"input",accept:(o,i)=>{if(!Tn.isObject(o))return null;const s=vt,c=xt(i,{expanded:s.optional.boolean,picker:s.optional.custom(Ds),x:s.optional.custom(Te),y:s.optional.object({inverted:s.optional.boolean,max:s.optional.number,min:s.optional.number,step:s.optional.number})});return c?{initialValue:o,params:c}:null},binding:{reader:o=>bm,constraint:o=>wm(o.params,o.initialValue),equals:Tn.equals,writer:o=>_m},controller:o=>{const i=o.document,s=o.value,c=o.constraint;if(!(c instanceof An))throw I.shouldNeverHappen();const m="expanded"in o.params?o.params.expanded:void 0,_="picker"in o.params?o.params.picker:void 0;return new Hd(i,{axes:[Wc(s.rawValue.x,c.components[0]),Wc(s.rawValue.y,c.components[1])],expanded:m!=null?m:!1,invertsY:Cm(o.params),maxValue:gm(s.rawValue,c),parser:ye,pickerLayout:_!=null?_:"popup",value:s,viewProps:o.viewProps})}};class Xc extends a{constructor(i){super(i),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get options(){return this.controller_.valueController.props.get("options")}set options(i){this.controller_.valueController.props.set("options",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}}class Jc extends a{constructor(i){super(i),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(i){this.controller_.valueController.sliderController.props.set("maxValue",i)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(i){this.controller_.valueController.sliderController.props.set("minValue",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}}class Zc extends a{constructor(i){super(i),this.emitter_=new X,this.controller_.valueController.value.emitter.on("change",s=>{this.emitter_.emit("change",{event:new v(this,s.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(i){this.controller_.valueController.props.set("formatter",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,s){const c=s.bind(this);return this.emitter_.on(i,m=>{c(m.event)}),this}}const ym=function(){return{id:"list",type:"blade",accept(o){const i=vt,s=xt(o,{options:i.required.custom(ri),value:i.required.raw,view:i.required.constant("list"),label:i.optional.string});return s?{params:s}:null},controller(o){const i=new Zn(Nr(o.params.options)),s=W(o.params.value,{constraint:i}),c=new Qn(o.document,{props:new z({options:i.values.value("options")}),value:s,viewProps:o.viewProps});return new yn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:c})},api(o){return!(o.controller instanceof yn)||!(o.controller.valueController instanceof Qn)?null:new Xc(o.controller)}}}();function Pm(o){return o.reduce((i,s)=>Object.assign(i,{[s.presetKey]:s.read()}),{})}function Em(o,i){o.forEach(s=>{const c=i[s.target.presetKey];c!==void 0&&s.writer(s.target,s.reader(c))})}class km extends ds{constructor(i,s){super(i,s)}get element(){return this.controller_.view.element}importPreset(i){const s=this.controller_.rackController.rack.find(Yt).map(c=>c.binding);Em(s,i),this.refresh()}exportPreset(){const i=this.controller_.rackController.rack.find(Yt).map(s=>s.binding.target);return Pm(i)}refresh(){this.controller_.rackController.rack.find(Yt).forEach(i=>{i.binding.read()}),this.controller_.rackController.rack.find(Ce).forEach(i=>{i.binding.read()})}}class Vm extends Ei{constructor(i,s){super(i,{expanded:s.expanded,blade:s.blade,props:s.props,root:!0,viewProps:s.viewProps})}}const Sm={id:"slider",type:"blade",accept(o){const i=vt,s=xt(o,{max:i.required.number,min:i.required.number,view:i.required.constant("slider"),format:i.optional.function,label:i.optional.string,value:i.optional.number});return s?{params:s}:null},controller(o){var i,s;const c=(i=o.params.value)!==null&&i!==void 0?i:0,m=new Vn({max:o.params.max,min:o.params.min}),_=new Ti(o.document,{baseStep:1,parser:ye,sliderProps:new z({maxValue:m.values.value("max"),minValue:m.values.value("min")}),textProps:z.fromObject({draggingScale:pn(void 0,c),formatter:(s=o.params.format)!==null&&s!==void 0?s:vl}),value:W(c,{constraint:m}),viewProps:o.viewProps});return new yn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:_})},api(o){return!(o.controller instanceof yn)||!(o.controller.valueController instanceof Ti)?null:new Jc(o.controller)}},Lm=function(){return{id:"text",type:"blade",accept(o){const i=vt,s=xt(o,{parse:i.required.function,value:i.required.raw,view:i.required.constant("text"),format:i.optional.function,label:i.optional.string});return s?{params:s}:null},controller(o){var i;const s=new Li(o.document,{parser:o.params.parse,props:z.fromObject({formatter:(i=o.params.format)!==null&&i!==void 0?i:c=>String(c)}),value:W(o.params.value),viewProps:o.viewProps});return new yn(o.document,{blade:o.blade,props:z.fromObject({label:o.params.label}),valueController:s})},api(o){return!(o.controller instanceof yn)||!(o.controller.valueController instanceof Li)?null:new Zc(o.controller)}}}();function Mm(o){const i=o.createElement("div");return i.classList.add(j("dfw")()),o.body&&o.body.appendChild(i),i}function Qc(o,i,s){if(o.querySelector(`style[data-tp-style=${i}]`))return;const c=o.createElement("style");c.dataset.tpStyle=i,c.textContent=s,o.head.appendChild(c)}class Am extends km{constructor(i){var s,c;const m=i!=null?i:{},_=(s=m.document)!==null&&s!==void 0?s:A(),P=fm(),T=new Vm(_,{expanded:m.expanded,blade:Ot(),props:z.fromObject({title:m.title}),viewProps:Gt.create()});super(T,P),this.pool_=P,this.containerElem_=(c=m.container)!==null&&c!==void 0?c:Mm(_),this.containerElem_.appendChild(this.element),this.doc_=_,this.usesDefaultWrapper_=!m.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw I.alreadyDisposed();return this.doc_}dispose(){const i=this.containerElem_;if(!i)throw I.alreadyDisposed();if(this.usesDefaultWrapper_){const s=i.parentElement;s&&s.removeChild(i)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(i){("plugin"in i?[i.plugin]:"plugins"in i?i.plugins:[]).forEach(c=>{this.pool_.register(c),this.embedPluginStyle_(c)})}embedPluginStyle_(i){i.css&&Qc(this.document,`plugin-${i.id}`,i.css)}setUpDefaultPlugins_(){Qc(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(i=>{this.embedPluginStyle_(i)}),this.registerPlugin({plugins:[Sm,ym,_s,Lm]})}}const Tm=new r("3.1.10");n.BladeApi=a,n.ButtonApi=kt,n.FolderApi=ds,n.InputBindingApi=ps,n.ListApi=Xc,n.MonitorBindingApi=hs,n.Pane=Am,n.SeparatorApi=vr,n.SliderApi=Jc,n.TabApi=br,n.TabPageApi=bs,n.TextApi=Zc,n.TpChangeEvent=v,n.VERSION=Tm,Object.defineProperty(n,"__esModule",{value:!0})})})(ha,ha.exports);var lo={exports:{}};(function(e,t){(function(n,r){r(t)})(Wp,function(n){class r{constructor(l){this.controller_=l}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(l){this.controller_.viewProps.set("hidden",l)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class a{constructor(l){this.target=l}}class p extends a{constructor(l,u,d,b){super(l),this.value=u,this.presetKey=d,this.last=b!=null?b:!0}}function v(h){return h}function f(h){return h==null}const g={alreadydisposed:()=>"View has been already disposed",invalidparams:h=>`Invalid parameters for '${h.name}'`,nomatchingcontroller:h=>`No matching controller for '${h.key}'`,nomatchingview:h=>`No matching view for '${JSON.stringify(h.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:h=>`Property '${h.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class C{constructor(l){var u;this.message=(u=g[l.type](l.context))!==null&&u!==void 0?u:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=l.type}static alreadyDisposed(){return new C({type:"alreadydisposed"})}static notBindable(){return new C({type:"notbindable"})}static propertyNotFound(l){return new C({type:"propertynotfound",context:{name:l}})}static shouldNeverHappen(){return new C({type:"shouldneverhappen"})}}class k{constructor(){this.observers_={}}on(l,u){let d=this.observers_[l];return d||(d=this.observers_[l]=[]),d.push({handler:u}),this}off(l,u){const d=this.observers_[l];return d&&(this.observers_[l]=d.filter(b=>b.handler!==u)),this}emit(l,u){const d=this.observers_[l];!d||d.forEach(b=>{b.handler(u)})}}const E="tp";function O(h){return(u,d)=>[E,"-",h,"v",u?`_${u}`:"",d?`-${d}`:""].join("")}function G(h,l){return u=>l(h(u))}function mt(h){return h.rawValue}function I(h,l){h.emitter.on("change",G(mt,l)),l(h.rawValue)}function ht(h,l,u){I(h.value(l),u)}function kt(h,l,u){u?h.classList.add(l):h.classList.remove(l)}function X(h,l){return u=>{kt(h,l,u)}}function Vt(h,l){I(h,u=>{l.textContent=u!=null?u:""})}const j=O("btn");class we{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(j()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("button");d.classList.add(j("b")),u.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d;const b=l.createElement("div");b.classList.add(j("t")),Vt(u.props.value("title"),b),this.buttonElement.appendChild(b)}}class sn{constructor(l,u){this.emitter=new k,this.onClick_=this.onClick_.bind(this),this.props=u.props,this.viewProps=u.viewProps,this.view=new we(l,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class $t{constructor(l,u){var d;this.constraint_=u==null?void 0:u.constraint,this.equals_=(d=u==null?void 0:u.equals)!==null&&d!==void 0?d:(b,y)=>b===y,this.emitter=new k,this.rawValue_=l}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,u){const d=u!=null?u:{forceEmit:!1,last:!0},b=this.constraint_?this.constraint_.constrain(l):l,y=this.rawValue_;!!this.equals_(y,b)&&!d.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=b,this.emitter.emit("change",{options:d,previousRawValue:y,rawValue:b,sender:this}))}}class St{constructor(l){this.emitter=new k,this.value_=l}get rawValue(){return this.value_}set rawValue(l){this.setRawValue(l,{forceEmit:!1,last:!0})}setRawValue(l,u){const d=u!=null?u:{forceEmit:!1,last:!0},b=this.value_;b===l&&!d.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=l,this.emitter.emit("change",{options:d,previousRawValue:b,rawValue:this.value_,sender:this}))}}function Ut(h,l){const u=l==null?void 0:l.constraint,d=l==null?void 0:l.equals;return!u&&!d?new St(h):new $t(h,l)}class et{constructor(l){this.emitter=new k,this.valMap_=l;for(const u in this.valMap_)this.valMap_[u].emitter.on("change",()=>{this.emitter.emit("change",{key:u,sender:this})})}static createCore(l){return Object.keys(l).reduce((d,b)=>Object.assign(d,{[b]:Ut(l[b])}),{})}static fromObject(l){const u=this.createCore(l);return new et(u)}get(l){return this.valMap_[l].rawValue}set(l,u){this.valMap_[l].rawValue=u}value(l){return this.valMap_[l]}}function Se(h,l){const d=Object.keys(l).reduce((b,y)=>{if(b===void 0)return;const V=l[y],N=V(h[y]);return N.succeeded?Object.assign(Object.assign({},b),{[y]:N.value}):void 0},{});return d}function Fe(h,l){return h.reduce((u,d)=>{if(u===void 0)return;const b=l(d);if(!(!b.succeeded||b.value===void 0))return[...u,b.value]},[])}function Cn(h){return h===null?!1:typeof h=="object"}function Ht(h){return l=>u=>{if(!l&&u===void 0)return{succeeded:!1,value:void 0};if(l&&u===void 0)return{succeeded:!0,value:void 0};const d=h(u);return d!==void 0?{succeeded:!0,value:d}:{succeeded:!1,value:void 0}}}function qn(h){return{custom:l=>Ht(l)(h),boolean:Ht(l=>typeof l=="boolean"?l:void 0)(h),number:Ht(l=>typeof l=="number"?l:void 0)(h),string:Ht(l=>typeof l=="string"?l:void 0)(h),function:Ht(l=>typeof l=="function"?l:void 0)(h),constant:l=>Ht(u=>u===l?l:void 0)(h),raw:Ht(l=>l)(h),object:l=>Ht(u=>{if(!!Cn(u))return Se(u,l)})(h),array:l=>Ht(u=>{if(!!Array.isArray(u))return Fe(u,l)})(h)}}const _t={optional:qn(!0),required:qn(!1)};function W(h,l){const u=_t.required.object(l)(h);return u.succeeded?u.value:void 0}function z(h){console.warn([`Missing '${h.key}' of ${h.target} in ${h.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Le(h){return h&&h.parentElement&&h.parentElement.removeChild(h),null}class ze{constructor(l){this.value_=l}static create(l){return[new ze(l),(u,d)=>{l.setRawValue(u,d)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const Me=O("");function gt(h,l){return X(h,Me(void 0,l))}class ue extends et{constructor(l){var u;super(l),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=ze.create(Ut(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(u=this.get("parent"))===null||u===void 0||u.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(l){var u,d,b;const y=l!=null?l:{};return new ue(et.createCore({disabled:(u=y.disabled)!==null&&u!==void 0?u:!1,disposed:!1,hidden:(d=y.hidden)!==null&&d!==void 0?d:!1,parent:(b=y.parent)!==null&&b!==void 0?b:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(l){I(this.globalDisabled_,gt(l,"disabled")),ht(this,"hidden",gt(l,"hidden"))}bindDisabled(l){I(this.globalDisabled_,u=>{l.disabled=u})}bindTabIndex(l){I(this.globalDisabled_,u=>{l.tabIndex=u?-1:0})}handleDispose(l){this.value("disposed").emitter.on("change",u=>{u&&l()})}getGlobalDisabled_(){const l=this.get("parent");return(l?l.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(l){var u;const d=l.previousRawValue;d==null||d.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(u=this.get("parent"))===null||u===void 0||u.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function vt(){return["veryfirst","first","last","verylast"]}const xt=O(""),qt={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class rn{constructor(l){this.parent_=null,this.blade=l.blade,this.view=l.view,this.viewProps=l.viewProps;const u=this.view.element;this.blade.value("positions").emitter.on("change",()=>{vt().forEach(d=>{u.classList.remove(xt(void 0,qt[d]))}),this.blade.get("positions").forEach(d=>{u.classList.add(xt(void 0,qt[d]))})}),this.viewProps.handleDispose(()=>{Le(u)})}get parent(){return this.parent_}set parent(l){if(this.parent_=l,!("parent"in this.viewProps.valMap_)){z({key:"parent",target:ue.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const Lt="http://www.w3.org/2000/svg";function pe(h){h.offsetHeight}function xn(h,l){const u=h.style.transition;h.style.transition="none",l(),h.style.transition=u}function Gt(h){return h.ontouchstart!==void 0}function w(h){for(;h.childNodes.length>0;)h.removeChild(h.childNodes[0])}function x(h){return h.relatedTarget?h.relatedTarget:"explicitOriginalTarget"in h?h.explicitOriginalTarget:null}const S=O("lbl");function M(h,l){const u=h.createDocumentFragment();return l.split(`
`).map(b=>h.createTextNode(b)).forEach((b,y)=>{y>0&&u.appendChild(h.createElement("br")),u.appendChild(b)}),u}class L{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(S()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("div");d.classList.add(S("l")),ht(u.props,"label",y=>{f(y)?this.element.classList.add(S(void 0,"nol")):(this.element.classList.remove(S(void 0,"nol")),w(d),d.appendChild(M(l,y)))}),this.element.appendChild(d),this.labelElement=d;const b=l.createElement("div");b.classList.add(S("v")),this.element.appendChild(b),this.valueElement=b}}class D extends rn{constructor(l,u){const d=u.valueController.viewProps;super(Object.assign(Object.assign({},u),{view:new L(l,{props:u.props,viewProps:d}),viewProps:d})),this.props=u.props,this.valueController=u.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class F extends rn{constructor(l){super(l),this.value=l.value}}class R extends et{constructor(l){super(l)}static create(l){const u={completed:!0,expanded:l,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},d=et.createCore(u);return new R(d)}get styleExpanded(){var l;return(l=this.get("temporaryExpanded"))!==null&&l!==void 0?l:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const l=this.get("expandedHeight");return this.get("shouldFixHeight")&&!f(l)?`${l}px`:"auto"}bindExpandedClass(l,u){const d=()=>{this.styleExpanded?l.classList.add(u):l.classList.remove(u)};ht(this,"expanded",d),ht(this,"temporaryExpanded",d)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function B(h){return R.create(h)}function A(h,l){let u=0;return xn(l,()=>{h.set("expandedHeight",null),h.set("temporaryExpanded",!0),pe(l),u=l.clientHeight,h.set("temporaryExpanded",null),pe(l)}),u}function U(h,l){l.style.height=h.styleHeight}function K(h,l){h.value("expanded").emitter.on("beforechange",()=>{h.set("completed",!1),f(h.get("expandedHeight"))&&h.set("expandedHeight",A(h,l)),h.set("shouldFixHeight",!0),pe(l)}),h.emitter.on("change",()=>{U(h,l)}),U(h,l),l.addEventListener("transitionend",u=>{u.propertyName==="height"&&h.cleanUpTransition()})}class ${constructor(l,u){const d=O(u.viewName);this.element=l.createElement("div"),this.element.classList.add(d()),u.viewProps.bindClassModifiers(this.element)}}class H extends F{constructor(l,u){const d=u.valueController.viewProps;super(Object.assign(Object.assign({},u),{value:u.valueController.value,view:new L(l,{props:u.props,viewProps:d}),viewProps:d})),this.props=u.props,this.valueController=u.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class J{constructor(){this.disabled=!1,this.emitter=new k}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ct{constructor(l,u){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=l,this.emitter=new k,this.interval_=u,this.setTimer_()}get disabled(){return this.disabled_}set disabled(l){this.disabled_=l,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const l=this.doc_.defaultView;l&&l.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const l=this.doc_.defaultView;l&&(this.timerId_=l.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class st{constructor(l){this.constraints=l}constrain(l){return this.constraints.reduce((u,d)=>d.constrain(u),l)}}function ft(h,l){if(h instanceof l)return h;if(h instanceof st){const u=h.constraints.reduce((d,b)=>d||(b instanceof l?b:null),null);if(u)return u}return null}class Mt{constructor(l){this.values=et.fromObject({max:l.max,min:l.min})}constrain(l){const u=this.values.get("max"),d=this.values.get("min");return Math.min(Math.max(l,d),u)}}class ge{constructor(l){this.values=et.fromObject({max:l.max,min:l.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(l){const u=this.values.get("max"),d=this.values.get("min");let b=l;return f(d)||(b=Math.max(b,d)),f(u)||(b=Math.min(b,u)),b}}class Ke{constructor(l,u=0){this.step=l,this.origin=u}constrain(l){const u=this.origin%this.step,d=Math.round((l-u)/this.step);return u+d*this.step}}const he=O("pop");class yi{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(he()),u.viewProps.bindClassModifiers(this.element),I(u.shows,X(this.element,he(void 0,"v")))}}class yt{constructor(l,u){this.shows=Ut(!1),this.viewProps=u.viewProps,this.view=new yi(l,{shows:this.shows,viewProps:this.viewProps})}}const Ot=O("txt");class $e{constructor(l,u){this.onChange_=this.onChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(Ot()),u.viewProps.bindClassModifiers(this.element),this.props_=u.props,this.props_.emitter.on("change",this.onChange_);const d=l.createElement("input");d.classList.add(Ot("i")),d.type="text",u.viewProps.bindDisabled(d),this.element.appendChild(d),this.inputElement=d,u.value.emitter.on("change",this.onChange_),this.value_=u.value,this.refresh()}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value_.rawValue)}onChange_(){this.refresh()}}class Ro{constructor(l,u){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=u.parser,this.props=u.props,this.value=u.value,this.viewProps=u.viewProps,this.view=new $e(l,{props:u.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(l){const d=l.currentTarget.value,b=this.parser_(d);f(b)||(this.value.rawValue=b),this.view.refresh()}}function pr(h){return h==="false"?!1:!!h}class as{constructor(l){this.text=l}evaluate(){return Number(this.text)}toString(){return this.text}}const cs={"**":(h,l)=>Math.pow(h,l),"*":(h,l)=>h*l,"/":(h,l)=>h/l,"%":(h,l)=>h%l,"+":(h,l)=>h+l,"-":(h,l)=>h-l,"<<":(h,l)=>h<<l,">>":(h,l)=>h>>l,">>>":(h,l)=>h>>>l,"&":(h,l)=>h&l,"^":(h,l)=>h^l,"|":(h,l)=>h|l};class Oo{constructor(l,u,d){this.left=u,this.operator=l,this.right=d}evaluate(){const l=cs[this.operator];if(!l)throw new Error(`unexpected binary operator: '${this.operator}`);return l(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const No={"+":h=>h,"-":h=>-h,"~":h=>~h};class Io{constructor(l,u){this.operator=l,this.expression=u}evaluate(){const l=No[this.operator];if(!l)throw new Error(`unexpected unary operator: '${this.operator}`);return l(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function us(h){return(l,u)=>{for(let d=0;d<h.length;d++){const b=h[d](l,u);if(b!=="")return b}return""}}function on(h,l){var u;const d=h.substr(l).match(/^\s+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function ps(h,l){const u=h.substr(l,1);return u.match(/^[1-9]$/)?u:""}function Yt(h,l){var u;const d=h.substr(l).match(/^[0-9]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function hs(h,l){const u=Yt(h,l);if(u!=="")return u;const d=h.substr(l,1);if(l+=1,d!=="-"&&d!=="+")return"";const b=Yt(h,l);return b===""?"":d+b}function Ce(h,l){const u=h.substr(l,1);if(l+=1,u.toLowerCase()!=="e")return"";const d=hs(h,l);return d===""?"":u+d}function hr(h,l){const u=h.substr(l,1);if(u==="0")return u;const d=ps(h,l);return l+=d.length,d===""?"":d+Yt(h,l)}function Gn(h,l){const u=hr(h,l);if(l+=u.length,u==="")return"";const d=h.substr(l,1);if(l+=d.length,d!==".")return"";const b=Yt(h,l);return l+=b.length,u+d+b+Ce(h,l)}function dr(h,l){const u=h.substr(l,1);if(l+=u.length,u!==".")return"";const d=Yt(h,l);return l+=d.length,d===""?"":u+d+Ce(h,l)}function Pi(h,l){const u=hr(h,l);return l+=u.length,u===""?"":u+Ce(h,l)}const ds=us([Gn,dr,Pi]);function ms(h,l){var u;const d=h.substr(l).match(/^[01]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function Bo(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0b")return"";const d=ms(h,l);return d===""?"":u+d}function jo(h,l){var u;const d=h.substr(l).match(/^[0-7]+/);return(u=d&&d[0])!==null&&u!==void 0?u:""}function Fo(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0o")return"";const d=jo(h,l);return d===""?"":u+d}function zo(h,l){var u;const d=h.substr(l).match(/^[0-9a-f]+/i);return(u=d&&d[0])!==null&&u!==void 0?u:""}function vs(h,l){const u=h.substr(l,2);if(l+=u.length,u.toLowerCase()!=="0x")return"";const d=zo(h,l);return d===""?"":u+d}const Ko=us([Bo,Fo,vs]),$o=us([Ko,ds]);function Yn(h,l){const u=$o(h,l);return l+=u.length,u===""?null:{evaluable:new as(u),cursor:l}}function mr(h,l){const u=h.substr(l,1);if(l+=u.length,u!=="(")return null;const d=fs(h,l);if(!d)return null;l=d.cursor,l+=on(h,l).length;const b=h.substr(l,1);return l+=b.length,b!==")"?null:{evaluable:d.evaluable,cursor:l}}function Uo(h,l){var u;return(u=Yn(h,l))!==null&&u!==void 0?u:mr(h,l)}function Ei(h,l){const u=Uo(h,l);if(u)return u;const d=h.substr(l,1);if(l+=d.length,d!=="+"&&d!=="-"&&d!=="~")return null;const b=Ei(h,l);return b?(l=b.cursor,{cursor:l,evaluable:new Io(d,b.evaluable)}):null}function Ho(h,l,u){u+=on(l,u).length;const d=h.filter(b=>l.startsWith(b,u))[0];return d?(u+=d.length,u+=on(l,u).length,{cursor:u,operator:d}):null}function yn(h,l){return(u,d)=>{const b=h(u,d);if(!b)return null;d=b.cursor;let y=b.evaluable;for(;;){const V=Ho(l,u,d);if(!V)break;d=V.cursor;const N=h(u,d);if(!N)return null;d=N.cursor,y=new Oo(V.operator,y,N.evaluable)}return y?{cursor:d,evaluable:y}:null}}const vr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((h,l)=>yn(h,l),Ei);function fs(h,l){return l+=on(h,l).length,vr(h,l)}function qo(h){const l=fs(h,0);return!l||l.cursor+on(h,l.cursor).length!==h.length?null:l.evaluable}function Wn(h){var l;const u=qo(h);return(l=u==null?void 0:u.evaluate())!==null&&l!==void 0?l:null}function Go(h){if(typeof h=="number")return h;if(typeof h=="string"){const l=Wn(h);if(!f(l))return l}return 0}function At(h){return l=>l.toFixed(Math.max(Math.min(h,20),0))}const Yo=At(0);function ki(h){return Yo(h)+"%"}function fr(h){return String(h)}function bs(h,l){for(;h.length<l;)h.push(void 0)}function br(h){const l=[];return bs(l,h),Ut(l)}function _r(h){const l=h.indexOf(void 0);return l<0?h:h.slice(0,l)}function Wo(h,l){const u=[..._r(h),l];return u.length>h.length?u.splice(0,u.length-h.length):bs(u,h.length),u}function Pn({primary:h,secondary:l,forward:u,backward:d}){let b=!1;function y(V){b||(b=!0,V(),b=!1)}h.emitter.on("change",V=>{y(()=>{l.setRawValue(u(h,l),V.options)})}),l.emitter.on("change",V=>{y(()=>{h.setRawValue(d(h,l),V.options)}),y(()=>{l.setRawValue(u(h,l),V.options)})}),y(()=>{l.setRawValue(u(h,l),{forceEmit:!1,last:!0})})}function En(h,l){const u=h*(l.altKey?.1:1)*(l.shiftKey?10:1);return l.upKey?+u:l.downKey?-u:0}function Xn(h){return{altKey:h.altKey,downKey:h.key==="ArrowDown",shiftKey:h.shiftKey,upKey:h.key==="ArrowUp"}}function _s(h){return{altKey:h.altKey,downKey:h.key==="ArrowLeft",shiftKey:h.shiftKey,upKey:h.key==="ArrowRight"}}function Xo(h){return h==="ArrowUp"||h==="ArrowDown"}function wr(h){return Xo(h)||h==="ArrowLeft"||h==="ArrowRight"}function ws(h,l){var u,d;const b=l.ownerDocument.defaultView,y=l.getBoundingClientRect();return{x:h.pageX-(((u=b&&b.scrollX)!==null&&u!==void 0?u:0)+y.left),y:h.pageY-(((d=b&&b.scrollY)!==null&&d!==void 0?d:0)+y.top)}}class Vi{constructor(l){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=l,this.emitter=new k,l.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),l.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),l.addEventListener("touchend",this.onTouchEnd_),l.addEventListener("mousedown",this.onMouseDown_)}computePosition_(l){const u=this.elem_.getBoundingClientRect();return{bounds:{width:u.width,height:u.height},point:l?{x:l.x,y:l.y}:null}}onMouseDown_(l){var u;l.preventDefault(),(u=l.currentTarget)===null||u===void 0||u.focus();const d=this.elem_.ownerDocument;d.addEventListener("mousemove",this.onDocumentMouseMove_),d.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(ws(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseMove_(l){this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(ws(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onDocumentMouseUp_(l){const u=this.elem_.ownerDocument;u.removeEventListener("mousemove",this.onDocumentMouseMove_),u.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(ws(l,this.elem_)),sender:this,shiftKey:l.shiftKey})}onTouchStart_(l){l.preventDefault();const u=l.targetTouches.item(0),d=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:l.altKey,data:this.computePosition_(u?{x:u.clientX-d.left,y:u.clientY-d.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=u}onTouchMove_(l){const u=l.targetTouches.item(0),d=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:l.altKey,data:this.computePosition_(u?{x:u.clientX-d.left,y:u.clientY-d.top}:void 0),sender:this,shiftKey:l.shiftKey}),this.lastTouch_=u}onTouchEnd_(l){var u;const d=(u=l.targetTouches.item(0))!==null&&u!==void 0?u:this.lastTouch_,b=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:l.altKey,data:this.computePosition_(d?{x:d.clientX-b.left,y:d.clientY-b.top}:void 0),sender:this,shiftKey:l.shiftKey})}}function Pt(h,l,u,d,b){const y=(h-l)/(u-l);return d+y*(b-d)}function gr(h){return String(h.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function kn(h,l,u){return Math.min(Math.max(h,l),u)}const ne=O("txt");class Jo{constructor(l,u){this.onChange_=this.onChange_.bind(this),this.props_=u.props,this.props_.emitter.on("change",this.onChange_),this.element=l.createElement("div"),this.element.classList.add(ne(),ne(void 0,"num")),u.arrayPosition&&this.element.classList.add(ne(void 0,u.arrayPosition)),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("input");d.classList.add(ne("i")),d.type="text",u.viewProps.bindDisabled(d),this.element.appendChild(d),this.inputElement=d,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=u.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ne()),this.inputElement.classList.add(ne("i"));const b=l.createElement("div");b.classList.add(ne("k")),this.element.appendChild(b),this.knobElement=b;const y=l.createElementNS(Lt,"svg");y.classList.add(ne("g")),this.knobElement.appendChild(y);const V=l.createElementNS(Lt,"path");V.classList.add(ne("gb")),y.appendChild(V),this.guideBodyElem_=V;const N=l.createElementNS(Lt,"path");N.classList.add(ne("gh")),y.appendChild(N),this.guideHeadElem_=N;const nt=l.createElement("div");nt.classList.add(O("tt")()),this.knobElement.appendChild(nt),this.tooltipElem_=nt,u.value.emitter.on("change",this.onChange_),this.value=u.value,this.refresh()}onDraggingChange_(l){if(l.rawValue===null){this.element.classList.remove(ne(void 0,"drg"));return}this.element.classList.add(ne(void 0,"drg"));const u=l.rawValue/this.props_.get("draggingScale"),d=u+(u>0?-1:u<0?1:0),b=kn(-d,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${d+b},0 L${d},4 L${d+b},8`,`M ${u},-1 L${u},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${u},4`);const y=this.props_.get("formatter");this.tooltipElem_.textContent=y(this.value.rawValue),this.tooltipElem_.style.left=`${u}px`}refresh(){const l=this.props_.get("formatter");this.inputElement.value=l(this.value.rawValue)}onChange_(){this.refresh()}}class Jn{constructor(l,u){var d;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=u.baseStep,this.parser_=u.parser,this.props=u.props,this.sliderProps_=(d=u.sliderProps)!==null&&d!==void 0?d:null,this.value=u.value,this.viewProps=u.viewProps,this.dragging_=Ut(null),this.view=new Jo(l,{arrayPosition:u.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const b=new Vi(this.view.knobElement);b.emitter.on("down",this.onPointerDown_),b.emitter.on("move",this.onPointerMove_),b.emitter.on("up",this.onPointerUp_)}constrainValue_(l){var u,d;const b=(u=this.sliderProps_)===null||u===void 0?void 0:u.get("minValue"),y=(d=this.sliderProps_)===null||d===void 0?void 0:d.get("maxValue");let V=l;return b!==void 0&&(V=Math.max(V,b)),y!==void 0&&(V=Math.min(V,y)),V}onInputChange_(l){const d=l.currentTarget.value,b=this.parser_(d);f(b)||(this.value.rawValue=this.constrainValue_(b)),this.view.refresh()}onInputKeyDown_(l){const u=En(this.baseStep_,Xn(l));u!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+u),{forceEmit:!1,last:!1})}onInputKeyUp_(l){En(this.baseStep_,Xn(l))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(l){if(!l.point)return null;const u=l.point.x-l.bounds.width/2;return this.constrainValue_(this.originRawValue_+u*this.props.get("draggingScale"))}onPointerMove_(l){const u=this.computeDraggingValue_(l.data);u!==null&&(this.value.setRawValue(u,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(l){const u=this.computeDraggingValue_(l.data);u!==null&&(this.value.setRawValue(u,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function de(h,l){h.write(l)}function Vn(h){const l=h?ft(h,Ke):null;return l?l.step:null}function Zn(h,l){const u=h&&ft(h,Ke);return u?gr(u.step):Math.max(gr(l),2)}function gs(h){const l=Vn(h);return l!=null?l:1}function Si(h,l){var u;const d=h&&ft(h,Ke),b=Math.abs((u=d==null?void 0:d.step)!==null&&u!==void 0?u:l);return b===0?.1:Math.pow(10,Math.floor(Math.log10(b))-1)}function Sn(h){return[h[0],h[1],h[2]]}function Cr(h){const l=kn(Math.floor(h),0,255).toString(16);return l.length===1?`0${l}`:l}function Qn(h,l="#"){const u=Sn(h.getComponents("rgb")).map(Cr).join("");return`${l}${u}`}function xr(h,l="#"){const u=h.getComponents("rgb"),d=[u[0],u[1],u[2],u[3]*255].map(Cr).join("");return`${l}${d}`}function Zo(h,l){const u=At(l==="float"?2:0);return`rgb(${Sn(h.getComponents("rgb",l)).map(b=>u(b)).join(", ")})`}function yr(h){return l=>Zo(l,h)}function Pr(h,l){const u=At(2),d=At(l==="float"?2:0);return`rgba(${h.getComponents("rgb",l).map((y,V)=>(V===3?u:d)(y)).join(", ")})`}function Qo(h){return l=>Pr(l,h)}function Li(h){const l=[At(0),ki,ki];return`hsl(${Sn(h.getComponents("hsl")).map((d,b)=>l[b](d)).join(", ")})`}function tl(h){const l=[At(0),ki,ki,At(2)];return`hsla(${h.getComponents("hsl").map((d,b)=>l[b](d)).join(", ")})`}function Er(h,l){const u=At(l==="float"?2:0),d=["r","g","b"];return`{${Sn(h.getComponents("rgb",l)).map((y,V)=>`${d[V]}: ${u(y)}`).join(", ")}}`}function kr(h){return l=>Er(l,h)}function el(h,l){const u=At(2),d=At(l==="float"?2:0),b=["r","g","b","a"];return`{${h.getComponents("rgb",l).map((V,N)=>{const nt=N===3?u:d;return`${b[N]}: ${nt(V)}`}).join(", ")}}`}function nl(h){return l=>el(l,h)}[...["int","float"].reduce((h,l)=>[...h,{format:{alpha:!1,mode:"rgb",notation:"func",type:l},stringifier:yr(l)},{format:{alpha:!0,mode:"rgb",notation:"func",type:l},stringifier:Qo(l)},{format:{alpha:!1,mode:"rgb",notation:"object",type:l},stringifier:kr(l)},{format:{alpha:!0,mode:"rgb",notation:"object",type:l},stringifier:nl(l)}],[])];class il{constructor(l){this.components=l.components,this.asm_=l.assembly}constrain(l){const u=this.asm_.toComponents(l).map((d,b)=>{var y,V;return(V=(y=this.components[b])===null||y===void 0?void 0:y.constrain(d))!==null&&V!==void 0?V:d});return this.asm_.fromComponents(u)}}const Vr=O("pndtxt");class sl{constructor(l,u){this.textViews=u.textViews,this.element=l.createElement("div"),this.element.classList.add(Vr()),this.textViews.forEach(d=>{const b=l.createElement("div");b.classList.add(Vr("a")),b.appendChild(d.element),this.element.appendChild(b)})}}function Cs(h,l,u){return new Jn(h,{arrayPosition:u===0?"fst":u===l.axes.length-1?"lst":"mid",baseStep:l.axes[u].baseStep,parser:l.parser,props:l.axes[u].textProps,value:Ut(0,{constraint:l.axes[u].constraint}),viewProps:l.viewProps})}class ln{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.acs_=u.axes.map((d,b)=>Cs(l,u,b)),this.acs_.forEach((d,b)=>{Pn({primary:this.value,secondary:d.value,forward:y=>u.assembly.toComponents(y.rawValue)[b],backward:(y,V)=>{const N=u.assembly.toComponents(y.rawValue);return N[b]=V.rawValue,u.assembly.fromComponents(N)}})}),this.view=new sl(l,{textViews:this.acs_.map(d=>d.view)})}}function rl(h,l){return"step"in h&&!f(h.step)?new Ke(h.step,l):null}function ti(h){return!f(h.max)&&!f(h.min)?new Mt({max:h.max,min:h.min}):!f(h.max)||!f(h.min)?new ge({max:h.max,min:h.min}):null}const ol={monitor:{defaultInterval:200,defaultLineCount:3}},xe=O("grl");class Sr{constructor(l,u){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=l.createElement("div"),this.element.classList.add(xe()),u.viewProps.bindClassModifiers(this.element),this.formatter_=u.formatter,this.props_=u.props,this.cursor_=u.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const d=l.createElementNS(Lt,"svg");d.classList.add(xe("g")),d.style.height=`calc(var(--bld-us) * ${u.lineCount})`,this.element.appendChild(d),this.svgElem_=d;const b=l.createElementNS(Lt,"polyline");this.svgElem_.appendChild(b),this.lineElem_=b;const y=l.createElement("div");y.classList.add(xe("t"),O("tt")()),this.element.appendChild(y),this.tooltipElem_=y,u.value.emitter.on("change",this.onValueUpdate_),this.value=u.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const l=this.svgElem_.getBoundingClientRect(),u=this.value.rawValue.length-1,d=this.props_.get("minValue"),b=this.props_.get("maxValue"),y=[];this.value.rawValue.forEach((re,Z)=>{if(re===void 0)return;const qe=Pt(Z,0,u,0,l.width),gl=Pt(re,d,b,l.height,0);y.push([qe,gl].join(","))}),this.lineElem_.setAttributeNS(null,"points",y.join(" "));const V=this.tooltipElem_,N=this.value.rawValue[this.cursor_.rawValue];if(N===void 0){V.classList.remove(xe("t","a"));return}const nt=Pt(this.cursor_.rawValue,0,u,0,l.width),se=Pt(N,d,b,l.height,0);V.style.left=`${nt}px`,V.style.top=`${se}px`,V.textContent=`${this.formatter_(N)}`,V.classList.contains(xe("t","a"))||(V.classList.add(xe("t","a"),xe("t","in")),pe(V),V.classList.remove(xe("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class ll{constructor(l,u){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=u.props,this.value=u.value,this.viewProps=u.viewProps,this.cursor_=Ut(-1),this.view=new Sr(l,{cursor:this.cursor_,formatter:u.formatter,lineCount:u.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Gt(l))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const d=new Vi(this.view.element);d.emitter.on("down",this.onGraphPointerDown_),d.emitter.on("move",this.onGraphPointerMove_),d.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(l){const u=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Pt(l.offsetX,0,u.width,0,this.value.rawValue.length))}onGraphPointerDown_(l){this.onGraphPointerMove_(l)}onGraphPointerMove_(l){if(!l.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Pt(l.data.point.x,0,l.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}class Lr{constructor(l){this.controller_=l}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get title(){var l;return(l=this.controller_.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.props.set("title",l)}on(l,u){const d=u.bind(this);return this.controller_.emitter.on(l,()=>{d(new a(this))}),this}}class al extends a{constructor(l,u,d){super(l),this.cell=u,this.index=d}}class Mr extends r{constructor(l){super(l),this.cellToApiMap_=new Map,this.emitter_=new k;const u=this.controller_.valueController;u.cellControllers.forEach((d,b)=>{const y=new Lr(d);this.cellToApiMap_.set(d,y),d.emitter.on("click",()=>{const V=b%u.size[0],N=Math.floor(b/u.size[0]);this.emitter_.emit("click",{event:new al(this,y,[V,N])})})})}cell(l,u){const d=this.controller_.valueController,b=d.cellControllers[u*d.size[0]+l];return this.cellToApiMap_.get(b)}on(l,u){const d=u.bind(this);return this.emitter_.on(l,b=>{d(b.event)}),this}}class xs{constructor(l,u){this.size=u.size;const[d,b]=this.size,y=[];for(let V=0;V<b;V++)for(let N=0;N<d;N++){const nt=new sn(l,{props:et.fromObject(Object.assign({},u.cellConfig(N,V))),viewProps:ue.create()});y.push(nt)}this.cellCs_=y,this.viewProps=ue.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(V=>{V.viewProps.set("disposed",!0)})}),this.view=new $(l,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${d}, 1fr)`,this.cellCs_.forEach(V=>{this.view.element.appendChild(V.view.element)})}get cellControllers(){return this.cellCs_}}const cl={id:"buttongrid",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(h){const l=_t,u=W(h,{cells:l.required.function,size:l.required.array(l.required.number),view:l.required.constant("buttongrid"),label:l.optional.string});return u?{params:u}:null},controller(h){return new D(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new xs(h.document,{cellConfig:h.params.cells,size:h.params.size})})},api(h){return!(h.controller instanceof D)||!(h.controller.valueController instanceof xs)?null:new Mr(h.controller)}};class Ar extends r{get label(){return this.controller_.props.get("label")}set label(l){this.controller_.props.set("label",l)}get value(){return this.controller_.valueController.value.rawValue}set value(l){this.controller_.valueController.value.rawValue=l}on(l,u){const d=u.bind(this);return this.controller_.valueController.value.emitter.on(l,b=>{d(new p(this,b.rawValue,void 0,b.options.last))}),this}}function ie(h,l,u){return h*(1-u)+l*u}const ul=20,pl=.001,ys=100;function hl(h,l){let u=.25,d=.5,b=-1;for(let y=0;y<ul;y++){const[V,N]=h.curve(d);if(d+=u*(V<l?1:-1),b=N,u*=.5,Math.abs(l-V)<pl)break}return b}class Ue{constructor(l=0,u=0,d=1,b=1){this.cache_=[],this.comps_=[l,u,d,b]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(l){return f(l)||!Array.isArray(l)?!1:typeof l[0]=="number"&&typeof l[1]=="number"&&typeof l[2]=="number"&&typeof l[3]=="number"}static equals(l,u){return l.x1===u.x1&&l.y1===u.y1&&l.x2===u.x2&&l.y2===u.y2}curve(l){const u=ie(0,this.x1,l),d=ie(0,this.y1,l),b=ie(this.x1,this.x2,l),y=ie(this.y1,this.y2,l),V=ie(this.x2,1,l),N=ie(this.y2,1,l),nt=ie(u,b,l),se=ie(d,y,l),re=ie(b,V,l),Z=ie(y,N,l);return[ie(nt,re,l),ie(se,Z,l)]}y(l){if(this.cache_.length===0){const u=[];for(let d=0;d<ys;d++)u.push(hl(this,Pt(d,0,ys-1,0,1)));this.cache_=u}return this.cache_[Math.round(Pt(kn(l,0,1),0,1,0,ys-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Ps={toComponents:h=>h.toObject(),fromComponents:h=>new Ue(...h)};function dl(h){const l=At(2);return`cubic-bezier(${h.toObject().map(d=>l(d)).join(", ")})`}const Es=[0,.5,.5,1];function ml(h){const l=h.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!l)return new Ue(...Es);const u=[l[1],l[2],l[3],l[4]].reduce((d,b)=>{if(!d)return null;const y=Number(b);return isNaN(y)?null:[...d,y]},[]);return new Ue(...u!=null?u:Es)}const an=O("cbz");class Tr{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(an()),u.viewProps.bindClassModifiers(this.element),u.foldable.bindExpandedClass(this.element,an(void 0,"expanded")),ht(u.foldable,"completed",X(this.element,an(void 0,"cpl")));const d=l.createElement("div");d.classList.add(an("h")),this.element.appendChild(d);const b=l.createElement("button");b.classList.add(an("b")),u.viewProps.bindDisabled(b);const y=l.createElementNS(Lt,"svg");y.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',b.appendChild(y),d.appendChild(b),this.buttonElement=b;const V=l.createElement("div");if(V.classList.add(an("t")),d.appendChild(V),this.textElement=V,u.pickerLayout==="inline"){const N=l.createElement("div");N.classList.add(an("p")),this.element.appendChild(N),this.pickerElement=N}else this.pickerElement=null}}const Mi=O("cbzp");class Dr{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Mi()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("div");d.classList.add(Mi("g")),this.element.appendChild(d),this.graphElement=d;const b=l.createElement("div");b.classList.add(Mi("t")),this.element.appendChild(b),this.textElement=b}}function ye(h,l){const u=new MutationObserver(b=>{for(const y of b)y.type==="childList"&&y.addedNodes.forEach(V=>{!V.contains(V)||(l(),u.disconnect())})}),d=h.ownerDocument;u.observe(d.body,{attributes:!0,childList:!0,subtree:!0})}const Ae=O("cbzg");function vl(h,l){return u=>l(h(u))}class Tt{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Ae()),u.viewProps.bindClassModifiers(this.element),u.viewProps.bindTabIndex(this.element);const d=l.createElement("div");d.classList.add(Ae("p")),this.element.appendChild(d),this.previewElement=d;const b=l.createElementNS(Lt,"svg");b.classList.add(Ae("g")),this.element.appendChild(b),this.svgElem_=b;const y=l.createElementNS(Lt,"path");y.classList.add(Ae("u")),this.svgElem_.appendChild(y),this.guideElem_=y;const V=l.createElementNS(Lt,"polyline");V.classList.add(Ae("l")),this.svgElem_.appendChild(V),this.lineElem_=V,this.handleElems_=[l.createElement("div"),l.createElement("div")],this.handleElems_.forEach(N=>{N.classList.add(Ae("h")),this.element.appendChild(N)}),this.vectorElems_=[l.createElementNS(Lt,"line"),l.createElementNS(Lt,"line")],this.vectorElems_.forEach(N=>{N.classList.add(Ae("v")),this.svgElem_.appendChild(N)}),this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=u.selection,this.handleElems_.forEach((N,nt)=>{I(this.sel_,vl(se=>se===nt,X(N,Ae("h","sel"))))}),ye(this.element,()=>{this.refresh()})}getVertMargin_(l){return l*.25}valueToPosition(l,u){const d=this.element.getBoundingClientRect(),b=d.width,y=d.height,V=this.getVertMargin_(y);return{x:Pt(l,0,1,0,b),y:Pt(u,0,1,y-V,V)}}positionToValue(l,u){const d=this.element.getBoundingClientRect(),b=d.width,y=d.height,V=this.getVertMargin_(y);return{x:kn(Pt(l,0,b,0,1),0,1),y:Pt(u,y-V,V,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(y=>{const V=this.valueToPosition(0,y),N=this.valueToPosition(1,y);return[`M ${V.x},${V.y}`,`L ${N.x},${N.y}`].join(" ")}).join(" "));const l=this.value_.rawValue,u=[];let d=0;for(;;){const y=this.valueToPosition(...l.curve(d));if(u.push([y.x,y.y].join(",")),d>=1)break;d=Math.min(d+.05,1)}this.lineElem_.setAttributeNS(null,"points",u.join(" "));const b=l.toObject();[0,1].forEach(y=>{const V=this.valueToPosition(y,y),N=this.valueToPosition(b[y*2],b[y*2+1]),nt=this.vectorElems_[y];nt.setAttributeNS(null,"x1",String(V.x)),nt.setAttributeNS(null,"y1",String(V.y)),nt.setAttributeNS(null,"x2",String(N.x)),nt.setAttributeNS(null,"y2",String(N.y));const se=this.handleElems_[y];se.style.left=`${N.x}px`,se.style.top=`${N.y}px`})}onValueChange_(){this.refresh()}}const Rr=24,ei=400,ks=1e3,He=O("cbzprv");class Ln{constructor(l,u){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=l.createElement("div"),this.element.classList.add(He()),u.viewProps.bindClassModifiers(this.element);const d=l.createElementNS(Lt,"svg");d.classList.add(He("g")),this.element.appendChild(d),this.svgElem_=d;const b=l.createElementNS(Lt,"path");b.classList.add(He("t")),this.svgElem_.appendChild(b),this.ticksElem_=b;const y=l.createElement("div");y.classList.add(He("m")),this.element.appendChild(y),this.markerElem_=y,this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_),u.viewProps.handleDispose(this.onDispose_),ye(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(He("m","a")),this.startTime_=new Date().getTime()+ei,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(He("m","a"))}onDispose_(){this.stop()}updateMarker_(l){const u=this.value_.rawValue.y(kn(l,0,1));this.markerElem_.style.left=`${u*100}%`}refresh(){const l=this.svgElem_.getBoundingClientRect(),u=l.width,d=l.height,b=[],y=this.value_.rawValue;for(let V=0;V<Rr;V++){const N=Pt(V,0,Rr-1,0,1),nt=Pt(y.y(N),0,1,0,u);b.push(`M ${nt},0 v${d}`)}this.ticksElem_.setAttributeNS(null,"d",b.join(" "))}onTimer_(){if(this.startTime_===null)return;const l=new Date().getTime()-this.startTime_,u=l/ks;this.updateMarker_(u),l>ks+ei&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function It(h,l,u,d){const b=u-h,y=d-l;return Math.sqrt(b*b+y*y)}function ni(h,l,u,d){const b=It(h,l,u,d),y=Math.atan2(d-l,u-h),V=Math.round(y/(Math.PI/4))*Math.PI/4;return{x:h+Math.cos(V)*b,y:l+Math.sin(V)*b}}class Pe{constructor(l,u){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=u.baseStep,this.value=u.value,this.sel_=Ut(0),this.viewProps=u.viewProps,this.view=new Tt(l,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new Ln(l,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",b=>{b.stopImmediatePropagation(),b.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const d=new Vi(this.view.element);d.emitter.on("down",this.onPointerDown_),d.emitter.on("move",this.onPointerMove_),d.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(l,u,d){const b=this.sel_.rawValue,y=this.value.rawValue.toObject(),V=this.view.positionToValue(l.x,l.y),N=u?ni(b,b,V.x,V.y):V;y[b*2]=N.x,y[b*2+1]=N.y,this.value.setRawValue(new Ue(...y),d)}onPointerDown_(l){const u=l.data;if(!u.point)return;const d=this.value.rawValue,b=this.view.valueToPosition(d.x1,d.y1),y=It(u.point.x,u.point.y,b.x,b.y),V=this.view.valueToPosition(d.x2,d.y2),N=It(u.point.x,u.point.y,V.x,V.y);this.sel_.rawValue=y<=N?0:1,this.updateValue_(u.point,l.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(l){const u=l.data;!u.point||this.updateValue_(u.point,l.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(l){const u=l.data;!u.point||this.updateValue_(u.point,l.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(l){wr(l.key)&&l.preventDefault();const u=this.sel_.rawValue,d=this.value.rawValue.toObject();d[u*2]+=En(this.baseStep_,_s(l)),d[u*2+1]+=En(this.baseStep_,Xn(l)),this.value.setRawValue(new Ue(...d),{forceEmit:!1,last:!1})}onKeyUp_(l){wr(l.key)&&l.preventDefault();const u=En(this.baseStep_,_s(l)),d=En(this.baseStep_,Xn(l));u===0&&d===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Or{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.view=new Dr(l,{viewProps:this.viewProps}),this.gc_=new Pe(l,{baseStep:u.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const d=Object.assign(Object.assign({},u.axis),{constraint:new ge({max:1,min:0})}),b=Object.assign(Object.assign({},u.axis),{constraint:void 0});this.tc_=new ln(l,{assembly:Ps,axes:[d,b,d,b],parser:Wn,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(l=>l.inputElement)]}refresh(){this.gc_.refresh()}}class Ai{constructor(l,u){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=u.value,this.viewProps=u.viewProps,this.foldable_=B(u.expanded),this.view=new Tr(l,{foldable:this.foldable_,pickerLayout:u.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Ro(l,{parser:ml,props:et.fromObject({formatter:dl}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=u.pickerLayout==="popup"?new yt(l,{viewProps:this.viewProps}):null;const d=new Or(l,{axis:u.axis,value:this.value,viewProps:this.viewProps});d.allFocusableElements.forEach(b=>{b.addEventListener("blur",this.onPopupChildBlur_),b.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=d,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),I(this.popC_.shows,b=>{b&&d.refresh()}),Pn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:b=>b.rawValue,backward:(b,y)=>y.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),K(this.foldable_,this.view.pickerElement))}onButtonBlur_(l){if(!this.popC_)return;const u=l.relatedTarget;(!u||!this.popC_.view.element.contains(u))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(l){if(!this.popC_)return;const u=this.popC_.view.element,d=x(l);d&&u.contains(d)||d&&d===this.view.buttonElement&&!Gt(u.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(l){!this.popC_||l.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function Vs(){return new il({assembly:Ps,components:[0,1,2,3].map(h=>h%2===0?new ge({min:0,max:1}):void 0)})}const cn={id:"cubic-bezier",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(h){const l=_t,u=W(h,{value:l.required.array(l.required.number),view:l.required.constant("cubicbezier"),expanded:l.optional.boolean,label:l.optional.string,picker:l.optional.custom(d=>d==="inline"||d==="popup"?d:void 0)});return u?{params:u}:null},controller(h){var l,u;const d=new Ue(...h.params.value),b=Ut(d,{constraint:Vs(),equals:Ue.equals}),y=new Ai(h.document,{axis:{baseStep:.1,textProps:et.fromObject({draggingScale:.01,formatter:At(2)})},expanded:(l=h.params.expanded)!==null&&l!==void 0?l:!1,pickerLayout:(u=h.params.picker)!==null&&u!==void 0?u:"popup",value:b,viewProps:h.viewProps});return new H(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:y})},api(h){return!(h.controller instanceof H)||!(h.controller.valueController instanceof Ai)?null:new Ar(h.controller)}};class bt extends r{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Ss=20;class Et{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(l){this.start_=l.getTime()}calculateFps_(l){if(this.timestamps_.length===0)return null;const u=this.timestamps_[0];return 1e3*(this.frameCount_-u.frameCount)/(l-u.time)}compactTimestamps_(){if(this.timestamps_.length<=Ss)return;const l=this.timestamps_.length-Ss;this.timestamps_.splice(0,l);const u=this.timestamps_[0].frameCount;this.timestamps_.forEach(d=>{d.frameCount-=u}),this.frameCount_-=u}end(l){if(this.start_===null)return;const u=l.getTime();this.duration_=u-this.start_,this.start_=null,this.fps_=this.calculateFps_(u),this.timestamps_.push({frameCount:this.frameCount_,time:u}),++this.frameCount_,this.compactTimestamps_()}}const Mn=O("fps");class Zt{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(Mn()),u.viewProps.bindClassModifiers(this.element),this.graphElement=l.createElement("div"),this.graphElement.classList.add(Mn("g")),this.element.appendChild(this.graphElement);const d=l.createElement("div");d.classList.add(Mn("l")),this.element.appendChild(d);const b=l.createElement("span");b.classList.add(Mn("v")),b.textContent="--",d.appendChild(b),this.valueElement=b;const y=l.createElement("span");y.classList.add(Mn("u")),y.textContent="FPS",d.appendChild(y)}}class Ls{constructor(l,u){this.stopwatch_=new Et,this.onTick_=this.onTick_.bind(this),this.ticker_=u.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=u.value,this.viewProps=u.viewProps,this.view=new Zt(l,{viewProps:this.viewProps}),this.graphC_=new ll(l,{formatter:At(0),lineCount:u.lineCount,props:et.fromObject({maxValue:u.maxValue,minValue:u.minValue}),value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const l=this.stopwatch_.fps;if(l!==null){const u=this.value_.rawValue;this.value_.rawValue=Wo(u,l),this.view.valueElement.textContent=l.toFixed(0)}}}function ii(h,l){return l===0?new J:new ct(h,l!=null?l:ol.monitor.defaultInterval)}const Ms={id:"fpsgraph",type:"blade",accept(h){const l=_t,u=W(h,{view:l.required.constant("fpsgraph"),interval:l.optional.number,label:l.optional.string,lineCount:l.optional.number,max:l.optional.number,min:l.optional.number});return u?{params:u}:null},controller(h){var l,u,d,b;const y=(l=h.params.interval)!==null&&l!==void 0?l:500;return new D(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new Ls(h.document,{lineCount:(u=h.params.lineCount)!==null&&u!==void 0?u:2,maxValue:(d=h.params.max)!==null&&d!==void 0?d:90,minValue:(b=h.params.min)!==null&&b!==void 0?b:0,ticker:ii(h.document,y),value:br(80),viewProps:h.viewProps})})},api(h){return!(h.controller instanceof D)||!(h.controller.valueController instanceof Ls)?null:new bt(h.controller)}};class Qt{constructor(l,u){this.min=l,this.max=u}static isObject(l){if(typeof l!="object"||l===null)return!1;const u=l.min,d=l.max;return!(typeof u!="number"||typeof d!="number")}static equals(l,u){return l.min===u.min&&l.max===u.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const As={fromComponents:h=>new Qt(h[0],h[1]),toComponents:h=>[h.min,h.max]};class si{constructor(l){this.edge=l}constrain(l){var u,d,b,y,V,N,nt,se;if(l.min<=l.max)return new Qt((d=(u=this.edge)===null||u===void 0?void 0:u.constrain(l.min))!==null&&d!==void 0?d:l.min,(y=(b=this.edge)===null||b===void 0?void 0:b.constrain(l.max))!==null&&y!==void 0?y:l.max);const re=(l.min+l.max)/2;return new Qt((N=(V=this.edge)===null||V===void 0?void 0:V.constrain(re))!==null&&N!==void 0?N:re,(se=(nt=this.edge)===null||nt===void 0?void 0:nt.constrain(re))!==null&&se!==void 0?se:re)}}const Ts=O("rsltxt");class Ti{constructor(l,u){this.sliderView_=u.sliderView,this.textView_=u.textView,this.element=l.createElement("div"),this.element.classList.add(Ts());const d=l.createElement("div");d.classList.add(Ts("s")),d.appendChild(this.sliderView_.element),this.element.appendChild(d);const b=l.createElement("div");b.classList.add(Ts("t")),b.appendChild(this.textView_.element),this.element.appendChild(b)}}const me=O("rsl");class ri{constructor(l,u){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=u.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=l.createElement("div"),this.element.classList.add(me()),u.viewProps.bindClassModifiers(this.element),this.value_=u.value,this.value_.emitter.on("change",this.onValueChange_);const d=l.createElement("div");d.classList.add(me("t")),this.element.appendChild(d),this.trackElement=d;const b=l.createElement("div");b.classList.add(me("b")),d.appendChild(b),this.barElement=b;const y=["min","max"].map(V=>{const N=l.createElement("div");return N.classList.add(me("k"),me("k",V)),d.appendChild(N),N});this.knobElements=[y[0],y[1]],this.update_()}valueToX_(l){const u=this.sliderProps_.get("minValue"),d=this.sliderProps_.get("maxValue");return kn(Pt(l,u,d,0,1),0,1)*100}update_(){const l=this.value_.rawValue;l.length===0?this.element.classList.add(me(void 0,"zero")):this.element.classList.remove(me(void 0,"zero"));const u=[this.valueToX_(l.min),this.valueToX_(l.max)];this.barElement.style.left=`${u[0]}%`,this.barElement.style.right=`${100-u[1]}%`,this.knobElements.forEach((d,b)=>{d.style.left=`${u[b]}%`})}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class Ds{constructor(l,u){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=u.sliderProps,this.viewProps=u.viewProps,this.value=u.value,this.view=new ri(l,{sliderProps:this.sliderProps,value:this.value,viewProps:u.viewProps});const d=new Vi(this.view.trackElement);d.emitter.on("down",this.onPointerDown_),d.emitter.on("move",this.onPointerMove_),d.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(l){if(!l.point)return null;const u=(l.point.x+this.ofs_())/l.bounds.width,d=this.sliderProps.get("minValue"),b=this.sliderProps.get("maxValue");return Pt(u,0,1,d,b)}onPointerDown_(l){if(!l.data.point)return;const u=l.data.point.x/l.data.bounds.width,d=this.value.rawValue,b=this.sliderProps.get("minValue"),y=this.sliderProps.get("maxValue"),V=Pt(d.min,b,y,0,1),N=Pt(d.max,b,y,0,1);Math.abs(N-u)<=.025?this.grabbing_="max":Math.abs(V-u)<=.025?this.grabbing_="min":u>=V&&u<=N?(this.grabbing_="length",this.grabOffset_=Pt(u-V,0,1,0,y-b)):u<V?(this.grabbing_="min",this.onPointerMove_(l)):u>N&&(this.grabbing_="max",this.onPointerMove_(l))}applyPointToValue_(l,u){const d=this.valueFromData_(l);if(d===null)return;const b=this.sliderProps.get("minValue"),y=this.sliderProps.get("maxValue");if(this.grabbing_==="min")this.value.setRawValue(new Qt(d,this.value.rawValue.max),u);else if(this.grabbing_==="max")this.value.setRawValue(new Qt(this.value.rawValue.min,d),u);else if(this.grabbing_==="length"){const V=this.value.rawValue.length;let N=d-this.grabOffset_,nt=N+V;N<b?(N=b,nt=b+V):nt>y&&(N=y-V,nt=y),this.value.setRawValue(new Qt(N,nt),u)}}onPointerMove_(l){this.applyPointToValue_(l.data,{forceEmit:!1,last:!1})}onPointerUp_(l){this.applyPointToValue_(l.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Te{constructor(l,u){this.value=u.value,this.viewProps=u.viewProps,this.sc_=new Ds(l,u);const d={baseStep:u.baseStep,constraint:u.constraint,textProps:et.fromObject({draggingScale:u.draggingScale,formatter:u.formatter})};this.tc_=new ln(l,{assembly:As,axes:[d,d],parser:u.parser,value:this.value,viewProps:u.viewProps}),this.view=new Ti(l,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Nr(h){return Qt.isObject(h)?new Qt(h.min,h.max):new Qt(0,0)}function Rs(h,l){h.writeProperty("max",l.max),h.writeProperty("min",l.min)}function fl(h){const l=[],u=ti(h);u&&l.push(u);const d=rl(h);return d&&l.push(d),new si(new st(l))}const Di={id:"input-interval",type:"input",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept:(h,l)=>{if(!Qt.isObject(h))return null;const u=_t,d=W(l,{format:u.optional.function,max:u.optional.number,min:u.optional.number,step:u.optional.number});return d?{initialValue:new Qt(h.min,h.max),params:d}:null},binding:{reader:h=>Nr,constraint:h=>fl(h.params),equals:Qt.equals,writer:h=>Rs},controller(h){var l;const u=h.value,d=h.constraint;if(!(d instanceof si))throw C.shouldNeverHappen();const b=(u.rawValue.min+u.rawValue.max)/2,y=(l=h.params.format)!==null&&l!==void 0?l:At(Zn(d.edge,b)),V=d.edge&&ft(d.edge,Mt);if(V)return new Te(h.document,{baseStep:gs(d.edge),constraint:d.edge,draggingScale:Si(d.edge,b),formatter:y,parser:Wn,sliderProps:new et({maxValue:V.values.value("max"),minValue:V.values.value("min")}),value:u,viewProps:h.viewProps});const N={baseStep:gs(d.edge),constraint:d.edge,textProps:et.fromObject({draggingScale:b,formatter:y})};return new ln(h.document,{assembly:As,axes:[N,N],parser:Wn,value:u,viewProps:h.viewProps})}};class un{constructor(l){this.controller_=l}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(l){this.controller_.viewProps.set("disabled",l)}get title(){var l;return(l=this.controller_.props.get("title"))!==null&&l!==void 0?l:""}set title(l){this.controller_.props.set("title",l)}}class pn extends p{constructor(l,u,d,b,y){super(l,b,y),this.cell=u,this.index=d}}class oi extends r{constructor(l){super(l),this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(d=>{const b=new un(d);this.cellToApiMap_.set(d,b)})}get value(){return this.controller_.value}cell(l,u){const d=this.controller_.valueController,b=d.cellControllers[u*d.size[0]+l];return this.cellToApiMap_.get(b)}on(l,u){const d=u.bind(this);this.controller_.value.emitter.on(l,b=>{const y=this.controller_.valueController,V=y.findCellByValue(b.rawValue);if(!V)return;const N=this.cellToApiMap_.get(V);if(!N)return;const nt=y.cellControllers.indexOf(V);d(new pn(this,N,[nt%y.size[0],Math.floor(nt/y.size[0])],b.rawValue,void 0))})}}const li=O("rad");class Ir{constructor(l,u){this.element=l.createElement("div"),this.element.classList.add(li()),u.viewProps.bindClassModifiers(this.element);const d=l.createElement("label");d.classList.add(li("l")),this.element.appendChild(d);const b=l.createElement("input");b.classList.add(li("i")),b.name=u.name,b.type="radio",u.viewProps.bindDisabled(b),d.appendChild(b),this.inputElement=b;const y=l.createElement("div");y.classList.add(li("b")),d.appendChild(y);const V=l.createElement("div");V.classList.add(li("t")),y.appendChild(V),ht(u.props,"title",N=>{V.textContent=N})}}class Br{constructor(l,u){this.props=u.props,this.viewProps=u.viewProps,this.view=new Ir(l,{name:u.name,props:this.props,viewProps:this.viewProps})}}class Ri{constructor(l,u){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=u.size;const[d,b]=this.size;for(let y=0;y<b;y++)for(let V=0;V<d;V++){const N=new Br(l,{name:u.groupName,props:et.fromObject(Object.assign({},u.cellConfig(V,y))),viewProps:ue.create()});this.cellCs_.push(N),this.cellValues_.push(u.cellConfig(V,y).value)}this.value=u.value,I(this.value,y=>{const V=this.findCellByValue(y);!V||(V.view.inputElement.checked=!0)}),this.viewProps=ue.create(),this.view=new $(l,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${d}, 1fr)`,this.cellCs_.forEach(y=>{y.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(y.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(l){const u=this.cellValues_.findIndex(d=>d===l);return u<0?null:this.cellCs_[u]}onCellInputChange_(l){const u=l.currentTarget,d=this.cellCs_.findIndex(b=>b.view.inputElement===u);d<0||(this.value.rawValue=this.cellValues_[d])}}const hn=function(){return{id:"radiogrid",type:"blade",accept(h){const l=_t,u=W(h,{cells:l.required.function,groupName:l.required.string,size:l.required.array(l.required.number),value:l.required.raw,view:l.required.constant("radiogrid"),label:l.optional.string});return u?{params:u}:null},controller(h){return new H(h.document,{blade:h.blade,props:et.fromObject({label:h.params.label}),valueController:new Ri(h.document,{groupName:h.params.groupName,cellConfig:h.params.cells,size:h.params.size,value:Ut(h.params.value)})})},api(h){return!(h.controller instanceof H)||!(h.controller.valueController instanceof Ri)?null:new oi(h.controller)}}}();function Os(h){return{id:"input-radiogrid",type:"input",accept(l,u){if(!h.isType(l))return null;const d=_t,b=W(u,{cells:d.required.function,groupName:d.required.string,size:d.required.array(d.required.number),view:d.required.constant("radiogrid")});return b?{initialValue:l,params:b}:null},binding:h.binding,controller:l=>new Ri(l.document,{cellConfig:l.params.cells,groupName:l.params.groupName,size:l.params.size,value:l.value})}}const bl=Os({isType:h=>typeof h=="number",binding:{reader:h=>Go,writer:h=>de}}),_l=Os({isType:h=>typeof h=="string",binding:{reader:h=>fr,writer:h=>de}}),wl=Os({isType:h=>typeof h=="boolean",binding:{reader:h=>pr,writer:h=>de}}),jr=[cl,cn,Ms,Di,hn,wl,bl,_l];n.ButtonCellApi=Lr,n.ButtonGridApi=Mr,n.ButtonGridController=xs,n.CubicBezier=Ue,n.CubicBezierApi=Ar,n.CubicBezierAssembly=Ps,n.CubicBezierController=Ai,n.CubicBezierGraphController=Pe,n.CubicBezierGraphView=Tt,n.CubicBezierPickerController=Or,n.CubicBezierPickerView=Dr,n.CubicBezierPreviewView=Ln,n.CubicBezierView=Tr,n.FpsGraphBladeApi=bt,n.FpsGraphController=Ls,n.FpsView=Zt,n.Fpswatch=Et,n.Interval=Qt,n.IntervalAssembly=As,n.IntervalConstraint=si,n.RadioCellApi=un,n.RadioController=Br,n.RadioGridApi=oi,n.RadioGridController=Ri,n.RadioView=Ir,n.RangeSliderController=Ds,n.RangeSliderTextController=Te,n.RangeSliderTextView=Ti,n.RangeSliderView=ri,n.TpRadioGridChangeEvent=pn,n.plugins=jr,Object.defineProperty(n,"__esModule",{value:!0})})})(lo,lo.exports);const yb=xb(lo.exports),Pb=Dm({__proto__:null,default:yb},[lo.exports]);/*!
 * v-tweakpane v0.2.0
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const Eb=Oa({name:"VTweakpane",props:{pane:{type:Object,default:()=>{},required:!0}},emits:["on-pane-created"],setup(e,{emit:t}){const n=au(null),r=au(null);return Rp(()=>{Ep(()=>{n.value instanceof Element&&(r.value=new ha.exports.Pane({container:n.value,title:e.pane.title,expanded:e.pane.expanded}),r.value.registerPlugin(Pb),t("on-pane-created",r.value))})}),{el:n}}}),kb=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},Vb={class:"w-full h-full"},Sb={ref:"el"};function Lb(e,t,n,r,a,p){return qi(),Xs("main",Vb,[be("div",Sb,null,512)])}const Mb=kb(Eb,[["render",Lb]]);function Ct(e){return e==null}function za(e){return e!==null&&typeof e=="object"}function da(e){return e!==null&&typeof e=="object"}function Ab(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function gi(e,t){return Array.from(new Set([...Object.keys(e),...Object.keys(t)])).reduce((r,a)=>{const p=e[a],v=t[a];return da(p)&&da(v)?Object.assign(Object.assign({},r),{[a]:gi(p,v)}):Object.assign(Object.assign({},r),{[a]:a in t?v:p})},{})}function Tb(e){return za(e)?"target"in e:!1}const Db={alreadydisposed:()=>"View has been already disposed",invalidparams:e=>`Invalid parameters for '${e.name}'`,nomatchingcontroller:e=>`No matching controller for '${e.key}'`,nomatchingview:e=>`No matching view for '${JSON.stringify(e.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:e=>`Not compatible with  plugin '${e.id}'`,propertynotfound:e=>`Property '${e.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class ve{static alreadyDisposed(){return new ve({type:"alreadydisposed"})}static notBindable(){return new ve({type:"notbindable"})}static notCompatible(t,n){return new ve({type:"notcompatible",context:{id:`${t}.${n}`}})}static propertyNotFound(t){return new ve({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new ve({type:"shouldneverhappen"})}constructor(t){var n;this.message=(n=Db[t.type](t.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}toString(){return this.message}}class ao{constructor(t,n){this.obj_=t,this.key=n}static isBindable(t){return!(t===null||typeof t!="object"&&typeof t!="function")}read(){return this.obj_[this.key]}write(t){this.obj_[this.key]=t}writeProperty(t,n){const r=this.read();if(!ao.isBindable(r))throw ve.notBindable();if(!(t in r))throw ve.propertyNotFound(t);r[t]=n}}class _e{constructor(){this.observers_={}}on(t,n){let r=this.observers_[t];return r||(r=this.observers_[t]=[]),r.push({handler:n}),this}off(t,n){const r=this.observers_[t];return r&&(this.observers_[t]=r.filter(a=>a.handler!==n)),this}emit(t,n){const r=this.observers_[t];!r||r.forEach(a=>{a.handler(n)})}}class Rb{constructor(t,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(a,p)=>a===p,this.emitter=new _e,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,n){const r=n!=null?n:{forceEmit:!1,last:!0},a=this.constraint_?this.constraint_.constrain(t):t,p=this.rawValue_;!!this.equals_(p,a)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=a,this.emitter.emit("change",{options:r,previousRawValue:p,rawValue:a,sender:this}))}}class Ob{constructor(t){this.emitter=new _e,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,n){const r=n!=null?n:{forceEmit:!1,last:!0},a=this.value_;a===t&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:r,previousRawValue:a,rawValue:this.value_,sender:this}))}}class Nb{constructor(t){this.emitter=new _e,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=t,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(t){this.emitter.emit("beforechange",Object.assign(Object.assign({},t),{sender:this}))}onValueChange_(t){this.emitter.emit("change",Object.assign(Object.assign({},t),{sender:this}))}}function Nt(e,t){const n=t==null?void 0:t.constraint,r=t==null?void 0:t.equals;return!n&&!r?new Ob(e):new Rb(e,t)}function Ib(e){return[new Nb(e),(t,n)=>{e.setRawValue(t,n)}]}class ot{constructor(t){this.emitter=new _e,this.valMap_=t;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(t){return Object.keys(t).reduce((r,a)=>Object.assign(r,{[a]:Nt(t[a])}),{})}static fromObject(t){const n=this.createCore(t);return new ot(n)}get(t){return this.valMap_[t].rawValue}set(t,n){this.valMap_[t].rawValue=n}value(t){return this.valMap_[t]}}class Po{constructor(t){this.values=ot.fromObject({max:t.max,min:t.min})}constrain(t){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(t,r),n)}}class Bb{constructor(t){this.values=ot.fromObject({max:t.max,min:t.min})}constrain(t){const n=this.values.get("max"),r=this.values.get("min");let a=t;return Ct(r)||(a=Math.max(a,r)),Ct(n)||(a=Math.min(a,n)),a}}class jb{constructor(t,n=0){this.step=t,this.origin=n}constrain(t){const n=this.origin%this.step,r=Math.round((t-n)/this.step);return n+r*this.step}}class Fb{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const zb={"**":(e,t)=>Math.pow(e,t),"*":(e,t)=>e*t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"&":(e,t)=>e&t,"^":(e,t)=>e^t,"|":(e,t)=>e|t};class Kb{constructor(t,n,r){this.left=n,this.operator=t,this.right=r}evaluate(){const t=zb[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const $b={"+":e=>e,"-":e=>-e,"~":e=>~e};class Ub{constructor(t,n){this.operator=t,this.expression=n}evaluate(){const t=$b[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Ka(e){return(t,n)=>{for(let r=0;r<e.length;r++){const a=e[r](t,n);if(a!=="")return a}return""}}function ir(e,t){var n;const r=e.substr(t).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Hb(e,t){const n=e.substr(t,1);return n.match(/^[1-9]$/)?n:""}function sr(e,t){var n;const r=e.substr(t).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function qb(e,t){const n=sr(e,t);if(n!=="")return n;const r=e.substr(t,1);if(t+=1,r!=="-"&&r!=="+")return"";const a=sr(e,t);return a===""?"":r+a}function $a(e,t){const n=e.substr(t,1);if(t+=1,n.toLowerCase()!=="e")return"";const r=qb(e,t);return r===""?"":n+r}function Xp(e,t){const n=e.substr(t,1);if(n==="0")return n;const r=Hb(e,t);return t+=r.length,r===""?"":r+sr(e,t)}function Gb(e,t){const n=Xp(e,t);if(t+=n.length,n==="")return"";const r=e.substr(t,1);if(t+=r.length,r!==".")return"";const a=sr(e,t);return t+=a.length,n+r+a+$a(e,t)}function Yb(e,t){const n=e.substr(t,1);if(t+=n.length,n!==".")return"";const r=sr(e,t);return t+=r.length,r===""?"":n+r+$a(e,t)}function Wb(e,t){const n=Xp(e,t);return t+=n.length,n===""?"":n+$a(e,t)}const Xb=Ka([Gb,Yb,Wb]);function Jb(e,t){var n;const r=e.substr(t).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Zb(e,t){const n=e.substr(t,2);if(t+=n.length,n.toLowerCase()!=="0b")return"";const r=Jb(e,t);return r===""?"":n+r}function Qb(e,t){var n;const r=e.substr(t).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function t_(e,t){const n=e.substr(t,2);if(t+=n.length,n.toLowerCase()!=="0o")return"";const r=Qb(e,t);return r===""?"":n+r}function e_(e,t){var n;const r=e.substr(t).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function n_(e,t){const n=e.substr(t,2);if(t+=n.length,n.toLowerCase()!=="0x")return"";const r=e_(e,t);return r===""?"":n+r}const i_=Ka([Zb,t_,n_]),s_=Ka([i_,Xb]);function r_(e,t){const n=s_(e,t);return t+=n.length,n===""?null:{evaluable:new Fb(n),cursor:t}}function o_(e,t){const n=e.substr(t,1);if(t+=n.length,n!=="(")return null;const r=Zp(e,t);if(!r)return null;t=r.cursor,t+=ir(e,t).length;const a=e.substr(t,1);return t+=a.length,a!==")"?null:{evaluable:r.evaluable,cursor:t}}function l_(e,t){var n;return(n=r_(e,t))!==null&&n!==void 0?n:o_(e,t)}function Jp(e,t){const n=l_(e,t);if(n)return n;const r=e.substr(t,1);if(t+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const a=Jp(e,t);return a?(t=a.cursor,{cursor:t,evaluable:new Ub(r,a.evaluable)}):null}function a_(e,t,n){n+=ir(t,n).length;const r=e.filter(a=>t.startsWith(a,n))[0];return r?(n+=r.length,n+=ir(t,n).length,{cursor:n,operator:r}):null}function c_(e,t){return(n,r)=>{const a=e(n,r);if(!a)return null;r=a.cursor;let p=a.evaluable;for(;;){const v=a_(t,n,r);if(!v)break;r=v.cursor;const f=e(n,r);if(!f)return null;r=f.cursor,p=new Kb(v.operator,p,f.evaluable)}return p?{cursor:r,evaluable:p}:null}}const u_=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((e,t)=>c_(e,t),Jp);function Zp(e,t){return t+=ir(e,t).length,u_(e,t)}function p_(e){const t=Zp(e,0);return!t||t.cursor+ir(e,t.cursor).length!==e.length?null:t.evaluable}function Ze(e){var t;const n=p_(e);return(t=n==null?void 0:n.evaluate())!==null&&t!==void 0?t:null}function Eo(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=Ze(e);if(!Ct(t))return t}return 0}function Jt(e){return t=>t.toFixed(Math.max(Math.min(e,20),0))}function dt(e,t,n,r,a){const p=(e-t)/(n-t);return r+p*(a-r)}function ma(e){return String(e.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Dt(e,t,n){return Math.min(Math.max(e,t),n)}function Qp(e,t){return(e%t+t)%t}function h_(e,t){return Ct(e.step)?Math.max(ma(t),2):ma(e.step)}function th(e){var t;return(t=e.step)!==null&&t!==void 0?t:1}function d_(e,t){var n;const r=Math.abs((n=e.step)!==null&&n!==void 0?n:t);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function Ua(e,t){return Ct(e.step)?null:new jb(e.step,t)}function Ha(e){return!Ct(e.max)&&!Ct(e.min)?new Po({max:e.max,min:e.min}):!Ct(e.max)||!Ct(e.min)?new Bb({max:e.max,min:e.min}):null}function ko(e,t){var n,r,a;return{formatter:(n=e.format)!==null&&n!==void 0?n:Jt(h_(e,t)),keyScale:(r=e.keyScale)!==null&&r!==void 0?r:th(e),pointerScale:(a=e.pointerScale)!==null&&a!==void 0?a:d_(e,t)}}function Vo(e){return{format:e.optional.function,keyScale:e.optional.number,max:e.optional.number,min:e.optional.number,pointerScale:e.optional.number,step:e.optional.number}}function qa(e){return{constraint:e.constraint,textProps:ot.fromObject(ko(e.params,e.initialValue))}}class Ga{constructor(t){this.controller=t}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(t){this.controller.viewProps.set("disabled",t)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(t){this.controller.viewProps.set("hidden",t)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(t){return this.controller.importState(t)}exportState(){return this.controller.exportState()}}class So{constructor(t){this.target=t}}class eh extends So{constructor(t,n,r){super(t),this.value=n,this.last=r!=null?r:!0}}class m_ extends So{constructor(t,n){super(t),this.expanded=n}}class v_ extends So{constructor(t,n){super(t),this.index=n}}class Ya extends Ga{constructor(t){super(t),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new _e,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(t){this.controller.labelController.props.set("label",t)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(t){this.controller.tag=t}on(t,n){const r=n.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.controller.value.fetch()}onValueChange_(t){const n=this.controller.value;this.emitter_.emit("change",new eh(this,n.binding.target.read(),t.options.last))}}function f_(e,t){const r=Object.keys(t).reduce((a,p)=>{if(a===void 0)return;const v=t[p],f=v(e[p]);return f.succeeded?Object.assign(Object.assign({},a),{[p]:f.value}):void 0},{});return r}function b_(e,t){return e.reduce((n,r)=>{if(n===void 0)return;const a=t(r);if(!(!a.succeeded||a.value===void 0))return[...n,a.value]},[])}function __(e){return e===null?!1:typeof e=="object"}function mn(e){return t=>n=>{if(!t&&n===void 0)return{succeeded:!1,value:void 0};if(t&&n===void 0)return{succeeded:!0,value:void 0};const r=e(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Ru(e){return{custom:t=>mn(t)(e),boolean:mn(t=>typeof t=="boolean"?t:void 0)(e),number:mn(t=>typeof t=="number"?t:void 0)(e),string:mn(t=>typeof t=="string"?t:void 0)(e),function:mn(t=>typeof t=="function"?t:void 0)(e),constant:t=>mn(n=>n===t?t:void 0)(e),raw:mn(t=>t)(e),object:t=>mn(n=>{if(!!__(n))return f_(n,t)})(e),array:t=>mn(n=>{if(!!Array.isArray(n))return b_(n,t)})(e)}}const va={optional:Ru(!0),required:Ru(!1)};function Bt(e,t){const n=t(va),r=va.required.object(n)(e);return r.succeeded?r.value:void 0}function en(e,t,n,r){if(t&&!t(e))return!1;const a=Bt(e,n);return a?r(a):!1}function nn(e,t){var n;return gi((n=e==null?void 0:e())!==null&&n!==void 0?n:{},t)}function Qr(e){return"value"in e}function w_(e){if(!za(e)||!("binding"in e))return!1;const t=e.binding;return Tb(t)}const fe="http://www.w3.org/2000/svg";function co(e){e.offsetHeight}function g_(e,t){const n=e.style.transition;e.style.transition="none",t(),e.style.transition=n}function Wa(e){return e.ontouchstart!==void 0}function C_(e){const t=e.ownerDocument.defaultView;return t&&"document"in t?e.getContext("2d",{willReadFrequently:!0}):null}const x_={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Lo(e,t){const n=e.createElementNS(fe,"svg");return n.innerHTML=x_[t],n}function nh(e,t,n){e.insertBefore(t,e.children[n])}function rr(e){e.parentElement&&e.parentElement.removeChild(e)}function ih(e){for(;e.children.length>0;)e.removeChild(e.children[0])}function y_(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function sh(e){return e.relatedTarget?e.relatedTarget:"explicitOriginalTarget"in e?e.explicitOriginalTarget:null}function _n(e,t){e.emitter.on("change",n=>{t(n.rawValue)}),t(e.rawValue)}function Qe(e,t,n){_n(e.value(t),n)}const P_="tp";function it(e){return(n,r)=>[P_,"-",e,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const zs=it("lbl");function E_(e,t){const n=e.createDocumentFragment();return t.split(`
`).map(a=>e.createTextNode(a)).forEach((a,p)=>{p>0&&n.appendChild(e.createElement("br")),n.appendChild(a)}),n}class k_{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(zs()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(zs("l")),Qe(n.props,"label",p=>{Ct(p)?this.element.classList.add(zs(void 0,"nol")):(this.element.classList.remove(zs(void 0,"nol")),y_(r),r.appendChild(E_(t,p)))}),this.element.appendChild(r),this.labelElement=r;const a=t.createElement("div");a.classList.add(zs("v")),this.element.appendChild(a),this.valueElement=a}}class V_{constructor(t,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new k_(t,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(t){return en(t,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return nn(null,{label:this.props.get("label")})}}function S_(){return["veryfirst","first","last","verylast"]}const Ou=it(""),Nu={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class rh{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{S_().forEach(r=>{n.classList.remove(Ou(void 0,Nu[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(Ou(void 0,Nu[r]))})}),this.viewProps.handleDispose(()=>{rr(n)})}get parent(){return this.parent_}set parent(t){this.parent_=t,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(t){return en(t,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return nn(null,Object.assign({},this.viewProps.exportState()))}}class L_ extends Ga{get label(){return this.controller.labelController.props.get("label")}set label(t){this.controller.labelController.props.set("label",t)}get title(){var t;return(t=this.controller.buttonController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller.buttonController.props.set("title",t)}on(t,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(t,()=>{r(new So(this))}),this}}function M_(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function ss(e,t){return n=>{M_(e,t,n)}}function Xa(e,t){_n(e,n=>{t.textContent=n!=null?n:""})}const Hl=it("btn");class A_{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Hl()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("button");r.classList.add(Hl("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const a=t.createElement("div");a.classList.add(Hl("t")),Xa(n.props.value("title"),a),this.buttonElement.appendChild(a)}}class T_{constructor(t,n){this.emitter=new _e,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new A_(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(t){return en(t,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return nn(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class Iu extends rh{constructor(t,n){const r=new T_(t,{props:n.buttonProps,viewProps:n.viewProps}),a=new V_(t,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:a.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=a}importState(t){return en(t,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return nn(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class D_{constructor(t){const[n,r]=t.split("-"),a=n.split(".");this.major=parseInt(a[0],10),this.minor=parseInt(a[1],10),this.patch=parseInt(a[2],10),this.prerelease=r!=null?r:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}const R_=new D_("2.0.0-beta.2");function Kt(e){return Object.assign({core:R_},e)}Kt({id:"button",type:"blade",accept(e){const t=Bt(e,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return t?{params:t}:null},controller(e){return new Iu(e.document,{blade:e.blade,buttonProps:ot.fromObject({title:e.params.title}),labelProps:ot.fromObject({label:e.params.label}),viewProps:e.viewProps})},api(e){return e.controller instanceof Iu?new L_(e.controller):null}});function O_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function N_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function I_(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}function B_(e){return za(e)?"refresh"in e&&typeof e.refresh=="function":!1}function j_(e,t){if(!ao.isBindable(e))throw ve.notBindable();return new ao(e,t)}class F_{constructor(t,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=t,this.emitter_=new _e,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(t=>this.pool_.createApi(t))}addBinding(t,n,r){const a=r!=null?r:{},p=this.controller_.element.ownerDocument,v=this.pool_.createBinding(p,j_(t,n),a),f=this.pool_.createBindingApi(v);return this.add(f,a.index)}addFolder(t){return N_(this,t)}addButton(t){return O_(this,t)}addTab(t){return I_(this,t)}add(t,n){const r=t.controller;return this.controller_.rack.add(r,n),t}remove(t){this.controller_.rack.remove(t.controller)}addBlade(t){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,t),a=this.pool_.createApi(r);return this.add(a,t.index)}on(t,n){const r=n.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.children.forEach(t=>{B_(t)&&t.refresh()})}onRackValueChange_(t){const n=t.bladeController,r=this.pool_.createApi(n),a=w_(n.value)?n.value.binding:null;this.emitter_.emit("change",new eh(r,a?a.target.read():n.value.rawValue,t.options.last))}}class Ja extends Ga{constructor(t,n){super(t),this.rackApi_=new F_(t.rackController,n)}}class Za extends rh{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}importState(t){return en(t,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,a)=>r.importState(n.children[a])))}exportState(){return nn(()=>super.exportState(),{children:this.rackController.rack.children.map(t=>t.exportState())})}}function fa(e){return"rackController"in e}class z_{constructor(t){this.emitter=new _e,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const n of this.allItems())if(t(n))return n;return null}includes(t){return this.cache_.has(t)}add(t,n){if(this.includes(t))throw ve.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,t),this.cache_.add(t);const a=this.extract_(t);a&&(a.emitter.on("add",this.onSubListAdd_),a.emitter.on("remove",this.onSubListRemove_),a.allItems().forEach(p=>{this.cache_.add(p)})),this.emitter.emit("add",{index:r,item:t,root:this,target:this})}remove(t){const n=this.items_.indexOf(t);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(t);const r=this.extract_(t);r&&(r.allItems().forEach(a=>{this.cache_.delete(a)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}function K_(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(Qr(r)&&r.value===t)return r}return null}function $_(e){return fa(e)?e.rackController.rack.bcSet_:null}class U_{constructor(t){var n,r;this.emitter=new _e,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=t.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=t.viewProps,this.bcSet_=new z_($_),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,n){var r;(r=t.parent)===null||r===void 0||r.remove(t),t.parent=this,this.bcSet_.add(t,n)}remove(t){t.parent=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(t)}onSetAdd_(t){this.updatePositions_();const n=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,root:n,sender:this}),!n)return;const r=t.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),Qr(r))r.value.emitter.on("change",this.onChildValueChange_);else if(fa(r)){const a=r.rackController.rack;if(a){const p=a.emitter;p.on("layout",this.onRackLayout_),p.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(t){this.updatePositions_();const n=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,root:n,sender:this}),!n)return;const r=t.item;if(Qr(r))r.value.emitter.off("change",this.onChildValueChange_);else if(fa(r)){const a=r.rackController.rack;if(a){const p=a.emitter;p.off("layout",this.onRackLayout_),p.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const t=this.bcSet_.items.filter(a=>!a.viewProps.get("hidden")),n=t[0],r=t[t.length-1];this.bcSet_.items.forEach(a=>{const p=[];a===n&&(p.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&p.push("veryfirst")),a===r&&(p.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&p.push("verylast")),a.blade.set("positions",p)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(t){const n=K_(this.find(Qr),t.sender);if(!n)throw ve.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:t.options,sender:this})}onRackLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(t){this.emitter.emit("valuechange",{bladeController:t.bladeController,options:t.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Qa{constructor(t){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=t.element,this.viewProps=t.viewProps;const n=new U_({blade:t.root?void 0:t.blade,viewProps:t.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.root||nh(this.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.root||rr(t.bladeController.view.element)}}function oh(){return new ot({positions:Nt([],{equals:Ab})})}class ar extends ot{constructor(t){super(t)}static create(t){const n={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=ot.createCore(n);return new ar(r)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Ct(t)?`${t}px`:"auto"}bindExpandedClass(t,n){const r=()=>{this.styleExpanded?t.classList.add(n):t.classList.remove(n)};Qe(this,"expanded",r),Qe(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function H_(e,t){let n=0;return g_(t,()=>{e.set("expandedHeight",null),e.set("temporaryExpanded",!0),co(t),n=t.clientHeight,e.set("temporaryExpanded",null),co(t)}),n}function Bu(e,t){t.style.height=e.styleHeight}function tc(e,t){e.value("expanded").emitter.on("beforechange",()=>{if(e.set("completed",!1),Ct(e.get("expandedHeight"))){const n=H_(e,t);n>0&&e.set("expandedHeight",n)}e.set("shouldFixHeight",!0),co(t)}),e.emitter.on("change",()=>{Bu(e,t)}),Bu(e,t),t.addEventListener("transitionend",n=>{n.propertyName==="height"&&e.cleanUpTransition()})}class q_ extends Ja{constructor(t,n){super(t,n),this.emitter_=new _e,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new m_(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(t){this.controller.foldable.set("expanded",t)}get title(){return this.controller.props.get("title")}set title(t){this.controller.props.set("title",t)}get children(){return this.rackApi_.children}addBinding(t,n,r){return this.rackApi_.addBinding(t,n,r)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,n){return this.rackApi_.add(t,n)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,n){const r=n.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}refresh(){this.rackApi_.refresh()}}const lh=it("cnt");class G_{constructor(t,n){var r;this.className_=it((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),lh()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),Qe(this.foldable_,"completed",ss(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),Qe(n.props,"title",C=>{Ct(C)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(this.className_("i")),this.element.appendChild(p);const v=t.createElement("div");v.classList.add(this.className_("t")),Xa(n.props.value("title"),v),this.buttonElement.appendChild(v),this.titleElement=v;const f=t.createElement("div");f.classList.add(this.className_("m")),this.buttonElement.appendChild(f);const g=t.createElement("div");g.classList.add(this.className_("c")),this.element.appendChild(g),this.containerElement=g}}class ju extends Za{constructor(t,n){var r;const a=ar.create((r=n.expanded)!==null&&r!==void 0?r:!0),p=new G_(t,{foldable:a,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Qa({blade:n.blade,element:p.containerElement,root:n.root,viewProps:n.viewProps}),view:p})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=a,tc(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(t){return en(t,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return nn(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}Kt({id:"folder",type:"blade",accept(e){const t=Bt(e,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return t?{params:t}:null},controller(e){return new ju(e.document,{blade:e.blade,expanded:e.params.expanded,props:ot.fromObject({title:e.params.title}),viewProps:e.viewProps})},api(e){return e.controller instanceof ju?new q_(e.controller,e.pool):null}});const Y_=it("");function Fu(e,t){return ss(e,Y_(void 0,t))}class cr extends ot{constructor(t){var n;super(t),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Ib(Nt(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(t){var n,r,a;const p=t!=null?t:{};return new cr(ot.createCore({disabled:(n=p.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=p.hidden)!==null&&r!==void 0?r:!1,parent:(a=p.parent)!==null&&a!==void 0?a:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(t){_n(this.globalDisabled_,Fu(t,"disabled")),Qe(this,"hidden",Fu(t,"hidden"))}bindDisabled(t){_n(this.globalDisabled_,n=>{t.disabled=n})}bindTabIndex(t){_n(this.globalDisabled_,n=>{t.tabIndex=n?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",n=>{n&&t()})}importState(t){this.set("disabled",t.disabled),this.set("hidden",t.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const t=this.get("parent");return(t?t.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(t){var n;const r=t.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const zu=it("tbp");class W_{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(zu()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(zu("c")),this.element.appendChild(r),this.containerElement=r}}const Ks=it("tbi");class X_{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Ks()),n.viewProps.bindClassModifiers(this.element),Qe(n.props,"selected",p=>{p?this.element.classList.add(Ks(void 0,"sel")):this.element.classList.remove(Ks(void 0,"sel"))});const r=t.createElement("button");r.classList.add(Ks("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const a=t.createElement("div");a.classList.add(Ks("t")),Xa(n.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a}}class J_{constructor(t,n){this.emitter=new _e,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new X_(t,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ba extends Za{constructor(t,n){const r=new W_(t,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Qa({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new J_(t,{props:n.itemProps,viewProps:cr.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,Qe(this.props,"selected",a=>{this.itemController.props.set("selected",a),this.viewProps.set("hidden",!a)})}get itemController(){return this.ic_}importState(t){return en(t,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return nn(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class Z_ extends Ja{constructor(t,n){super(t,n),this.emitter_=new _e,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(t){const n=this.controller.view.element.ownerDocument,r=new ba(n,{blade:oh(),itemProps:ot.fromObject({selected:!1,title:t.title}),props:ot.fromObject({selected:!1}),viewProps:cr.create()}),a=this.pool_.createApi(r);return this.rackApi_.add(a,t.index)}removePage(t){this.rackApi_.remove(this.rackApi_.children[t])}on(t,n){const r=n.bind(this);return this.emitter_.on(t,a=>{r(a)}),this}onSelect_(t){this.emitter_.emit("select",new v_(this,t.rawValue))}}class Q_ extends Ja{get title(){var t;return(t=this.controller.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller.itemController.props.set("title",t)}get selected(){return this.controller.props.get("selected")}set selected(t){this.controller.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,n){this.rackApi_.add(t,n)}remove(t){this.rackApi_.remove(t)}addBinding(t,n,r){return this.rackApi_.addBinding(t,n,r)}addBlade(t){return this.rackApi_.addBlade(t)}refresh(){this.rackApi_.refresh()}}const Ku=-1;class tw{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Nt(!0),this.selectedIndex=Nt(Ku),this.items_=[]}add(t,n){const r=n!=null?n:this.items_.length;this.items_.splice(r,0,t),t.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(t){const n=this.items_.indexOf(t);n<0||(this.items_.splice(n,1),t.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Ku,this.empty.rawValue=!0;return}const t=this.items_.findIndex(n=>n.rawValue);t<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===t}),this.selectedIndex.rawValue=t),this.empty.rawValue=!1}onItemSelectedChange_(t){if(t.rawValue){const n=this.items_.findIndex(r=>r===t.sender);this.items_.forEach((r,a)=>{r.rawValue=a===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const $s=it("tab");class ew{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add($s(),lh()),n.viewProps.bindClassModifiers(this.element),_n(n.empty,ss(this.element,$s(void 0,"nop")));const r=t.createElement("div");r.classList.add($s("t")),this.element.appendChild(r),this.itemsElement=r;const a=t.createElement("div");a.classList.add($s("i")),this.element.appendChild(a);const p=t.createElement("div");p.classList.add($s("c")),this.element.appendChild(p),this.contentsElement=p}}class $u extends Za{constructor(t,n){const r=new tw,a=new ew(t,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new Qa({blade:n.blade,element:a.contentsElement,viewProps:n.viewProps}),view:a}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const p=this.rackController.rack;p.emitter.on("add",this.onRackAdd_),p.emitter.on("remove",this.onRackRemove_),this.tab=r}add(t,n){this.rackController.rack.add(t,n)}remove(t){this.rackController.rack.remove(this.rackController.rack.children[t])}onRackAdd_(t){if(!t.root)return;const n=t.bladeController;nh(this.view.itemsElement,n.itemController.view.element,t.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(t){if(!t.root)return;const n=t.bladeController;rr(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}Kt({id:"tab",type:"blade",accept(e){const t=Bt(e,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!t||t.pages.length===0?null:{params:t}},controller(e){const t=new $u(e.document,{blade:e.blade,viewProps:e.viewProps});return e.params.pages.forEach(n=>{const r=new ba(e.document,{blade:oh(),itemProps:ot.fromObject({selected:!1,title:n.title}),props:ot.fromObject({selected:!1}),viewProps:cr.create()});t.add(r)}),t},api(e){return e.controller instanceof $u?new Z_(e.controller,e.pool):e.controller instanceof ba?new Q_(e.controller,e.pool):null}});class ec extends Ya{get options(){return this.controller.valueController.props.get("options")}set options(t){this.controller.valueController.props.set("options",t)}}class rs{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((n,r)=>r.constrain(n),t)}}function uo(e,t){if(e instanceof t)return e;if(e instanceof rs){const n=e.constraints.reduce((r,a)=>r||(a instanceof t?a:null),null);if(n)return n}return null}class Mo{constructor(t){this.values=ot.fromObject({options:t})}constrain(t){const n=this.values.get("options");return n.length===0||n.filter(a=>a.value===t).length>0?t:n[0].value}}function Ao(e){var t;const n=va;if(Array.isArray(e))return(t=Bt({items:e},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||t===void 0?void 0:t.items;if(typeof e=="object")return n.required.raw(e).value}function ah(e){if(Array.isArray(e))return e;const t=[];return Object.keys(e).forEach(n=>{t.push({text:n,value:e[n]})}),t}function nc(e){return Ct(e)?null:new Mo(ah(e))}const ql=it("lst");class nw{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=t.createElement("div"),this.element.classList.add(ql()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("select");r.classList.add(ql("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const a=t.createElement("div");a.classList.add(ql("m")),a.appendChild(Lo(t,"dropdown")),this.element.appendChild(a),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,Qe(this.props_,"options",p=>{ih(this.selectElement),p.forEach(v=>{const f=t.createElement("option");f.textContent=v.text,this.selectElement.appendChild(f)}),this.update_()})}update_(){const t=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=t.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Zi{constructor(t,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new nw(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const n=t.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(t){return en(t,null,n=>({options:n.required.custom(Ao)}),n=>(this.props.set("options",ah(n.options)),!0))}exportProps(){return nn(null,{options:this.props.get("options")})}}const Uu=it("pop");class iw{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Uu()),n.viewProps.bindClassModifiers(this.element),_n(n.shows,ss(this.element,Uu(void 0,"v")))}}class ch{constructor(t,n){this.shows=Nt(!1),this.viewProps=n.viewProps,this.view=new iw(t,{shows:this.shows,viewProps:this.viewProps})}}const Hu=it("txt");class sw{constructor(t,n){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Hu()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=t.createElement("input");r.classList.add(Hu("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class ic{constructor(t,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new sw(t,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const r=t.currentTarget.value,a=this.parser_(r);Ct(a)||(this.value.rawValue=a),this.view.refresh()}}function rw(e){return String(e)}function uh(e){return e==="false"?!1:!!e}function qu(e){return rw(e)}function ow(e){return t=>e.reduce((n,r)=>n!==null?n:r(t),null)}const lw=Jt(0);function po(e){return lw(e)+"%"}function ph(e){return String(e)}function _a(e){return e}function os({primary:e,secondary:t,forward:n,backward:r}){let a=!1;function p(v){a||(a=!0,v(),a=!1)}e.emitter.on("change",v=>{p(()=>{t.setRawValue(n(e.rawValue,t.rawValue),v.options)})}),t.emitter.on("change",v=>{p(()=>{e.setRawValue(r(e.rawValue,t.rawValue),v.options)}),p(()=>{t.setRawValue(n(e.rawValue,t.rawValue),v.options)})}),p(()=>{t.setRawValue(n(e.rawValue,t.rawValue),{forceEmit:!1,last:!0})})}function ae(e,t){const n=e*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+n:t.downKey?-n:0}function or(e){return{altKey:e.altKey,downKey:e.key==="ArrowDown",shiftKey:e.shiftKey,upKey:e.key==="ArrowUp"}}function wn(e){return{altKey:e.altKey,downKey:e.key==="ArrowLeft",shiftKey:e.shiftKey,upKey:e.key==="ArrowRight"}}function aw(e){return e==="ArrowUp"||e==="ArrowDown"}function hh(e){return aw(e)||e==="ArrowLeft"||e==="ArrowRight"}function Gl(e,t){var n,r;const a=t.ownerDocument.defaultView,p=t.getBoundingClientRect();return{x:e.pageX-(((n=a&&a.scrollX)!==null&&n!==void 0?n:0)+p.left),y:e.pageY-(((r=a&&a.scrollY)!==null&&r!==void 0?r:0)+p.top)}}class Hn{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new _e,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var n;t.preventDefault(),(n=t.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Gl(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const n=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=n}onTouchMove_(t){const n=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=n}onTouchEnd_(t){var n;const r=(n=t.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,a=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(r?{x:r.clientX-a.left,y:r.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey})}}const ke=it("txt");class cw{constructor(t,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(ke(),ke(void 0,"num")),n.arrayPosition&&this.element.classList.add(ke(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(ke("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ke()),this.inputElement.classList.add(ke("i"));const a=t.createElement("div");a.classList.add(ke("k")),this.element.appendChild(a),this.knobElement=a;const p=t.createElementNS(fe,"svg");p.classList.add(ke("g")),this.knobElement.appendChild(p);const v=t.createElementNS(fe,"path");v.classList.add(ke("gb")),p.appendChild(v),this.guideBodyElem_=v;const f=t.createElementNS(fe,"path");f.classList.add(ke("gh")),p.appendChild(f),this.guideHeadElem_=f;const g=t.createElement("div");g.classList.add(it("tt")()),this.knobElement.appendChild(g),this.tooltipElem_=g,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(ke(void 0,"drg"));return}this.element.classList.add(ke(void 0,"drg"));const n=t.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),a=Dt(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+a},0 L${r},4 L${r+a},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const p=this.props_.get("formatter");this.tooltipElem_.textContent=p(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class ls{constructor(t,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=Nt(null),this.view=new cw(t,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new Hn(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}constrainValue_(t){var n,r;const a=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),p=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let v=t;return a!==void 0&&(v=Math.max(v,a)),p!==void 0&&(v=Math.min(v,p)),v}onInputChange_(t){const r=t.currentTarget.value,a=this.parser_(r);Ct(a)||(this.value.rawValue=this.constrainValue_(a)),this.view.refresh()}onInputKeyDown_(t){const n=ae(this.props.get("keyScale"),or(t));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(t){ae(this.props.get("keyScale"),or(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const n=t.point.x-t.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(t){const n=this.computeDraggingValue_(t.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const n=this.computeDraggingValue_(t.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Yl=it("sld");class uw{constructor(t,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Yl()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Yl("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const a=t.createElement("div");a.classList.add(Yl("k")),this.trackElement.appendChild(a),this.knobElement=a,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const t=Dt(dt(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class pw{constructor(t,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new uw(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,n){!t.point||this.value.setRawValue(dt(Dt(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const n=ae(this.props.get("keyScale"),wn(t));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(t){ae(this.props.get("keyScale"),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Wl=it("sldtxt");class hw{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Wl());const r=t.createElement("div");r.classList.add(Wl("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Wl("t")),this.textView_=n.textView,a.appendChild(this.textView_.element),this.element.appendChild(a)}}class Gu{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new pw(t,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new ls(t,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new hw(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(t){return en(t,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const t=this.sliderC_.props;return nn(null,{max:t.get("max"),min:t.get("min")})}}function dw(e){return{sliderProps:new ot({keyScale:e.keyScale,max:e.max,min:e.min}),textProps:new ot({formatter:Nt(e.formatter),keyScale:e.keyScale,pointerScale:Nt(e.pointerScale)})}}const mw={containerUnitSize:"cnt-usz"};function dh(e){return`--${mw[e]}`}function lr(e){return Vo(e)}function Fn(e){if(!!da(e))return Bt(e,lr)}function fn(e,t){if(!e)return;const n=[],r=Ua(e,t);r&&n.push(r);const a=Ha(e);return a&&n.push(a),new rs(n)}function mh(e){if(e==="inline"||e==="popup")return e}function xi(e,t){e.write(t)}const Yr=it("ckb");class vw{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Yr()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("label");r.classList.add(Yr("l")),this.element.appendChild(r);const a=t.createElement("input");a.classList.add(Yr("i")),a.type="checkbox",r.appendChild(a),this.inputElement=a,n.viewProps.bindDisabled(this.inputElement);const p=t.createElement("div");p.classList.add(Yr("w")),r.appendChild(p);const v=Lo(t,"check");p.appendChild(v),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class fw{constructor(t,n){this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new vw(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const n=t.currentTarget;this.value.rawValue=n.checked}}function bw(e){const t=[],n=nc(e.options);return n&&t.push(n),new rs(t)}Kt({id:"input-bool",type:"input",accept:(e,t)=>{if(typeof e!="boolean")return null;const n=Bt(t,r=>({options:r.optional.custom(Ao),readonly:r.optional.constant(!1)}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>uh,constraint:e=>bw(e.params),writer:e=>xi},controller:e=>{const t=e.document,n=e.value,r=e.constraint,a=r&&uo(r,Mo);return a?new Zi(t,{props:new ot({options:a.values.value("options")}),value:n,viewProps:e.viewProps}):new fw(t,{value:n,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="boolean"?null:e.controller.valueController instanceof Zi?new ec(e.controller):null}});const di=it("col");class _w{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(di()),n.foldable.bindExpandedClass(this.element,di(void 0,"expanded")),Qe(n.foldable,"completed",ss(this.element,di(void 0,"cpl")));const r=t.createElement("div");r.classList.add(di("h")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(di("s")),r.appendChild(a),this.swatchElement=a;const p=t.createElement("div");if(p.classList.add(di("t")),r.appendChild(p),this.textElement=p,n.pickerLayout==="inline"){const v=t.createElement("div");v.classList.add(di("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}function ww(e,t,n){const r=Dt(e/255,0,1),a=Dt(t/255,0,1),p=Dt(n/255,0,1),v=Math.max(r,a,p),f=Math.min(r,a,p),g=v-f;let C=0,k=0;const E=(f+v)/2;return g!==0&&(k=g/(1-Math.abs(v+f-1)),r===v?C=(a-p)/g:a===v?C=2+(p-r)/g:C=4+(r-a)/g,C=C/6+(C<0?1:0)),[C*360,k*100,E*100]}function gw(e,t,n){const r=(e%360+360)%360,a=Dt(t/100,0,1),p=Dt(n/100,0,1),v=(1-Math.abs(2*p-1))*a,f=v*(1-Math.abs(r/60%2-1)),g=p-v/2;let C,k,E;return r>=0&&r<60?[C,k,E]=[v,f,0]:r>=60&&r<120?[C,k,E]=[f,v,0]:r>=120&&r<180?[C,k,E]=[0,v,f]:r>=180&&r<240?[C,k,E]=[0,f,v]:r>=240&&r<300?[C,k,E]=[f,0,v]:[C,k,E]=[v,0,f],[(C+g)*255,(k+g)*255,(E+g)*255]}function Cw(e,t,n){const r=Dt(e/255,0,1),a=Dt(t/255,0,1),p=Dt(n/255,0,1),v=Math.max(r,a,p),f=Math.min(r,a,p),g=v-f;let C;g===0?C=0:v===r?C=60*(((a-p)/g%6+6)%6):v===a?C=60*((p-r)/g+2):C=60*((r-a)/g+4);const k=v===0?0:g/v,E=v;return[C,k*100,E*100]}function vh(e,t,n){const r=Qp(e,360),a=Dt(t/100,0,1),p=Dt(n/100,0,1),v=p*a,f=v*(1-Math.abs(r/60%2-1)),g=p-v;let C,k,E;return r>=0&&r<60?[C,k,E]=[v,f,0]:r>=60&&r<120?[C,k,E]=[f,v,0]:r>=120&&r<180?[C,k,E]=[0,v,f]:r>=180&&r<240?[C,k,E]=[0,f,v]:r>=240&&r<300?[C,k,E]=[f,0,v]:[C,k,E]=[v,0,f],[(C+g)*255,(k+g)*255,(E+g)*255]}function xw(e,t,n){const r=n+t*(100-Math.abs(2*n-100))/200;return[e,r!==0?t*(100-Math.abs(2*n-100))/r:0,n+t*(100-Math.abs(2*n-100))/(2*100)]}function yw(e,t,n){const r=100-Math.abs(n*(200-t)/100-100);return[e,r!==0?t*n/r:0,n*(200-t)/(2*100)]}function tn(e){return[e[0],e[1],e[2]]}function To(e,t){return[e[0],e[1],e[2],t]}const Pw={hsl:{hsl:(e,t,n)=>[e,t,n],hsv:xw,rgb:gw},hsv:{hsl:yw,hsv:(e,t,n)=>[e,t,n],rgb:vh},rgb:{hsl:ww,hsv:Cw,rgb:(e,t,n)=>[e,t,n]}};function Qi(e,t){return[t==="float"?1:e==="rgb"?255:360,t==="float"?1:e==="rgb"?255:100,t==="float"?1:e==="rgb"?255:100]}function Ew(e,t){return e===t?t:Qp(e,t)}function fh(e,t,n){var r;const a=Qi(t,n);return[t==="rgb"?Dt(e[0],0,a[0]):Ew(e[0],a[0]),Dt(e[1],0,a[1]),Dt(e[2],0,a[2]),Dt((r=e[3])!==null&&r!==void 0?r:1,0,1)]}function Yu(e,t,n,r){const a=Qi(t,n),p=Qi(t,r);return e.map((v,f)=>v/a[f]*p[f])}function bh(e,t,n){const r=Yu(e,t.mode,t.type,"int"),a=Pw[t.mode][n.mode](...r);return Yu(a,n.mode,"int",n.type)}class at{static black(){return new at([0,0,0],"rgb")}constructor(t,n){this.type="int",this.mode=n,this.comps_=fh(t,n,this.type)}getComponents(t){return To(bh(tn(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const Nn=it("colp");class kw{constructor(t,n){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(Nn()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Nn("hsv"));const a=t.createElement("div");a.classList.add(Nn("sv")),this.svPaletteView_=n.svPaletteView,a.appendChild(this.svPaletteView_.element),r.appendChild(a);const p=t.createElement("div");p.classList.add(Nn("h")),this.hPaletteView_=n.hPaletteView,p.appendChild(this.hPaletteView_.element),r.appendChild(p),this.element.appendChild(r);const v=t.createElement("div");if(v.classList.add(Nn("rgb")),this.textsView_=n.textsView,v.appendChild(this.textsView_.element),this.element.appendChild(v),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const f=t.createElement("div");f.classList.add(Nn("a"));const g=t.createElement("div");g.classList.add(Nn("ap")),g.appendChild(this.alphaViews_.palette.element),f.appendChild(g);const C=t.createElement("div");C.classList.add(Nn("at")),C.appendChild(this.alphaViews_.text.element),f.appendChild(C),this.element.appendChild(f)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function Vw(e){return e==="int"?"int":e==="float"?"float":void 0}function sc(e){return Bt(e,t=>({color:t.optional.object({alpha:t.optional.boolean,type:t.optional.custom(Vw)}),expanded:t.optional.boolean,picker:t.optional.custom(mh),readonly:t.optional.constant(!1)}))}function Ci(e){return e?.1:1}function _h(e){var t;return(t=e.color)===null||t===void 0?void 0:t.type}class rc{constructor(t,n){this.type="float",this.mode=n,this.comps_=fh(t,n,this.type)}getComponents(t){return To(bh(tn(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const Sw={int:(e,t)=>new at(e,t),float:(e,t)=>new rc(e,t)};function oc(e,t,n){return Sw[n](e,t)}function Lw(e){return e.type==="float"}function Mw(e){return e.type==="int"}function Aw(e){const t=e.getComponents(),n=Qi(e.mode,"int");return new at([Math.round(dt(t[0],0,1,0,n[0])),Math.round(dt(t[1],0,1,0,n[1])),Math.round(dt(t[2],0,1,0,n[2])),t[3]],e.mode)}function Tw(e){const t=e.getComponents(),n=Qi(e.mode,"int");return new rc([dt(t[0],0,n[0],0,1),dt(t[1],0,n[1],0,1),dt(t[2],0,n[2],0,1),t[3]],e.mode)}function ee(e,t){if(e.type===t)return e;if(Mw(e)&&t==="float")return Tw(e);if(Lw(e)&&t==="int")return Aw(e);throw ve.shouldNeverHappen()}function Dw(e,t){return e.alpha===t.alpha&&e.mode===t.mode&&e.notation===t.notation&&e.type===t.type}function Ve(e,t){const n=e.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*t:parseFloat(e),t)}const Rw={deg:e=>e,grad:e=>e*360/400,rad:e=>e*360/(2*Math.PI),turn:e=>e*360};function wh(e){const t=e.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(e);const n=parseFloat(t[1]),r=t[2];return Rw[r](n)}function gh(e){const t=e.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Ve(t[1],255),Ve(t[2],255),Ve(t[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Ow(e){const t=gh(e);return t?new at(t,"rgb"):null}function Ch(e){const t=e.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Ve(t[1],255),Ve(t[2],255),Ve(t[3],255),Ve(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Nw(e){const t=Ch(e);return t?new at(t,"rgb"):null}function xh(e){const t=e.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[wh(t[1]),Ve(t[2],100),Ve(t[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Iw(e){const t=xh(e);return t?new at(t,"hsl"):null}function yh(e){const t=e.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[wh(t[1]),Ve(t[2],100),Ve(t[3],100),Ve(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Bw(e){const t=yh(e);return t?new at(t,"hsl"):null}function Ph(e){const t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const n=e.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function jw(e){const t=Ph(e);return t?new at(t,"rgb"):null}function Eh(e){const t=e.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),dt(parseInt(t[4]+t[4],16),0,255,0,1)];const n=e.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),dt(parseInt(n[4],16),0,255,0,1)]:null}function Fw(e){const t=Eh(e);return t?new at(t,"rgb"):null}function kh(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Wu(e){return t=>{const n=kh(t);return n?oc(n,"rgb",e):null}}function Vh(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Xu(e){return t=>{const n=Vh(t);return n?oc(n,"rgb",e):null}}const zw=[{parser:Ph,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Eh,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:gh,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Ch,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:xh,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:yh,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:kh,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Vh,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Kw(e){return zw.reduce((t,{parser:n,result:r})=>t||(n(e)?r:null),null)}function $w(e,t="int"){const n=Kw(e);return n?n.notation==="hex"&&t!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:t}):null:null}function ur(e){const t=[jw,Fw,Ow,Nw,Iw,Bw];e==="int"&&t.push(Wu("int"),Xu("int")),e==="float"&&t.push(Wu("float"),Xu("float"));const n=ow(t);return r=>{const a=n(r);return a?ee(a,e):null}}function Uw(e){const t=ur("int");if(typeof e!="string")return at.black();const n=t(e);return n!=null?n:at.black()}function Sh(e){const t=Dt(Math.floor(e),0,255).toString(16);return t.length===1?`0${t}`:t}function lc(e,t="#"){const n=tn(e.getComponents("rgb")).map(Sh).join("");return`${t}${n}`}function ac(e,t="#"){const n=e.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(Sh).join("");return`${t}${r}`}function Lh(e){const t=Jt(0),n=ee(e,"int");return`rgb(${tn(n.getComponents("rgb")).map(a=>t(a)).join(", ")})`}function to(e){const t=Jt(2),n=Jt(0);return`rgba(${ee(e,"int").getComponents("rgb").map((p,v)=>(v===3?t:n)(p)).join(", ")})`}function Hw(e){const t=[Jt(0),po,po],n=ee(e,"int");return`hsl(${tn(n.getComponents("hsl")).map((a,p)=>t[p](a)).join(", ")})`}function qw(e){const t=[Jt(0),po,po,Jt(2)];return`hsla(${ee(e,"int").getComponents("hsl").map((a,p)=>t[p](a)).join(", ")})`}function Mh(e,t){const n=Jt(t==="float"?2:0),r=["r","g","b"],a=ee(e,t);return`{${tn(a.getComponents("rgb")).map((v,f)=>`${r[f]}: ${n(v)}`).join(", ")}}`}function Gw(e){return t=>Mh(t,e)}function Ah(e,t){const n=Jt(2),r=Jt(t==="float"?2:0),a=["r","g","b","a"];return`{${ee(e,t).getComponents("rgb").map((f,g)=>{const C=g===3?n:r;return`${a[g]}: ${C(f)}`}).join(", ")}}`}function Yw(e){return t=>Ah(t,e)}const Ww=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:lc},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:ac},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Lh},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:to},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Hw},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:qw},...["int","float"].reduce((e,t)=>[...e,{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:Gw(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:Yw(t)}],[])];function Th(e){return Ww.reduce((t,n)=>t||(Dw(n.format,e)?n.stringifier:null),null)}const Us=it("apl");class Xw{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Us()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Us("b")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Us("c")),r.appendChild(a),this.colorElem_=a;const p=t.createElement("div");p.classList.add(Us("m")),this.element.appendChild(p),this.markerElem_=p;const v=t.createElement("div");v.classList.add(Us("p")),this.markerElem_.appendChild(v),this.previewElem_=v,this.update_()}update_(){const t=this.value.rawValue,n=t.getComponents("rgb"),r=new at([n[0],n[1],n[2],0],"rgb"),a=new at([n[0],n[1],n[2],255],"rgb"),p=["to right",to(r),to(a)];this.colorElem_.style.background=`linear-gradient(${p.join(",")})`,this.previewElem_.style.backgroundColor=to(t);const v=dt(n[3],0,1,0,100);this.markerElem_.style.left=`${v}%`}onValueChange_(){this.update_()}}class Jw{constructor(t,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new Xw(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,n){if(!t.point)return;const r=t.point.x/t.bounds.width,a=this.value.rawValue,[p,v,f]=a.getComponents("hsv");this.value.setRawValue(new at([p,v,f,r],"hsv"),n)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const n=ae(Ci(!0),wn(t));if(n===0)return;const r=this.value.rawValue,[a,p,v,f]=r.getComponents("hsv");this.value.setRawValue(new at([a,p,v,f+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ae(Ci(!0),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fi=it("coltxt");function Zw(e){const t=e.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return t.appendChild(n.reduce((r,a)=>{const p=e.createElement("option");return p.textContent=a.text,p.value=a.value,r.appendChild(p),r},e.createDocumentFragment())),t}class Qw{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Fi()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Fi("m")),this.modeElem_=Zw(t),this.modeElem_.classList.add(Fi("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const a=t.createElement("div");a.classList.add(Fi("mm")),a.appendChild(Lo(t,"dropdown")),r.appendChild(a),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(Fi("w")),this.element.appendChild(p),this.inputsElem_=p,this.inputViews_=n.inputViews,this.applyInputViews_(),_n(n.mode,v=>{this.modeElem_.value=v})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(t){this.inputViews_=t,this.applyInputViews_()}applyInputViews_(){ih(this.inputsElem_);const t=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=t.createElement("div");r.classList.add(Fi("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}}function tg(e){return Jt(e==="float"?2:0)}function eg(e,t,n){const r=Qi(e,t)[n];return new Po({min:0,max:r})}function ng(e,t,n){return new ls(e,{arrayPosition:n===0?"fst":n===3-1?"lst":"mid",parser:t.parser,props:ot.fromObject({formatter:tg(t.colorType),keyScale:Ci(!1),pointerScale:t.colorType==="float"?.01:1}),value:Nt(0,{constraint:eg(t.colorMode,t.colorType,n)}),viewProps:t.viewProps})}function ig(e,t){const n={colorMode:t.colorMode,colorType:t.colorType,parser:Ze,viewProps:t.viewProps};return[0,1,2].map(r=>{const a=ng(e,n,r);return os({primary:t.value,secondary:a.value,forward(p){return ee(p,t.colorType).getComponents(t.colorMode)[r]},backward(p,v){const f=t.colorMode,C=ee(p,t.colorType).getComponents(f);C[r]=v;const k=oc(To(tn(C),C[3]),f,t.colorType);return ee(k,"int")}}),a})}function sg(e,t){const n=new ic(e,{parser:ur("int"),props:ot.fromObject({formatter:lc}),value:Nt(at.black()),viewProps:t.viewProps});return os({primary:t.value,secondary:n.value,forward:r=>new at(tn(r.getComponents()),r.mode),backward:(r,a)=>new at(To(tn(a.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function rg(e){return e!=="hex"}class og{constructor(t,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=Nt(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Qw(t,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const n=this.colorMode.rawValue;return rg(n)?ig(t,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):sg(t,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(t){const n=t.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const Xl=it("hpl");class lg{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Xl()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Xl("c")),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Xl("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=this.value.rawValue,[n]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Lh(new at([n,100,100],"hsv"));const r=dt(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class ag{constructor(t,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new lg(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,n){if(!t.point)return;const r=dt(Dt(t.point.x,0,t.bounds.width),0,t.bounds.width,0,360),a=this.value.rawValue,[,p,v,f]=a.getComponents("hsv");this.value.setRawValue(new at([r,p,v,f],"hsv"),n)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const n=ae(Ci(!1),wn(t));if(n===0)return;const r=this.value.rawValue,[a,p,v,f]=r.getComponents("hsv");this.value.setRawValue(new at([a+n,p,v,f],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){ae(Ci(!1),wn(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Jl=it("svp"),Ju=64;class cg{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Jl()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=t.createElement("canvas");r.height=Ju,r.width=Ju,r.classList.add(Jl("c")),this.element.appendChild(r),this.canvasElement=r;const a=t.createElement("div");a.classList.add(Jl("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=C_(this.canvasElement);if(!t)return;const r=this.value.rawValue.getComponents("hsv"),a=this.canvasElement.width,p=this.canvasElement.height,v=t.getImageData(0,0,a,p),f=v.data;for(let k=0;k<p;k++)for(let E=0;E<a;E++){const O=dt(E,0,a,0,100),G=dt(k,0,p,100,0),mt=vh(r[0],O,G),I=(k*a+E)*4;f[I]=mt[0],f[I+1]=mt[1],f[I+2]=mt[2],f[I+3]=255}t.putImageData(v,0,0);const g=dt(r[1],0,100,0,100);this.markerElem_.style.left=`${g}%`;const C=dt(r[2],0,100,100,0);this.markerElem_.style.top=`${C}%`}onValueChange_(){this.update_()}}class ug{constructor(t,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new cg(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,n){if(!t.point)return;const r=dt(t.point.x,0,t.bounds.width,0,100),a=dt(t.point.y,0,t.bounds.height,100,0),[p,,,v]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new at([p,r,a,v],"hsv"),n)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){hh(t.key)&&t.preventDefault();const[n,r,a,p]=this.value.rawValue.getComponents("hsv"),v=Ci(!1),f=ae(v,wn(t)),g=ae(v,or(t));f===0&&g===0||this.value.setRawValue(new at([n,r+f,a+g,p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const n=Ci(!1),r=ae(n,wn(t)),a=ae(n,or(t));r===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class pg{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new ag(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new ug(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new Jw(t,{value:this.value,viewProps:this.viewProps}),text:new ls(t,{parser:Ze,props:ot.fromObject({pointerScale:.01,keyScale:.1,formatter:Jt(2)}),value:Nt(0,{constraint:new Po({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&os({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,a)=>{const p=r.getComponents();return p[3]=a,new at(p,r.mode)}}),this.textsC_=new og(t,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new kw(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const Zl=it("colsw");class hg{constructor(t,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=t.createElement("div"),this.element.classList.add(Zl()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Zl("sw")),this.element.appendChild(r),this.swatchElem_=r;const a=t.createElement("button");a.classList.add(Zl("b")),n.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=ac(t)}onValueChange_(){this.update_()}}class dg{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new hg(t,{value:this.value,viewProps:this.viewProps})}}class cc{constructor(t,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ar.create(n.expanded),this.swatchC_=new dg(t,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new ic(t,{parser:n.parser,props:ot.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new _w(t,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new ch(t,{viewProps:this.viewProps}):null;const a=new pg(t,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});a.view.allFocusableElements.forEach(p=>{p.addEventListener("blur",this.onPopupChildBlur_),p.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=a,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(a.view.element),os({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:p=>p,backward:(p,v)=>v})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),tc(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const n=this.view.element,r=t.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const n=this.popC_.view.element,r=sh(t);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!Wa(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function mg(e){return tn(e.getComponents("rgb")).reduce((t,n)=>t<<8|Math.floor(n)&255,0)}function vg(e){return e.getComponents("rgb").reduce((t,n,r)=>{const a=Math.floor(r===3?n*255:n)&255;return t<<8|a},0)>>>0}function fg(e){return new at([e>>16&255,e>>8&255,e&255],"rgb")}function bg(e){return new at([e>>24&255,e>>16&255,e>>8&255,dt(e&255,0,255,0,1)],"rgb")}function _g(e){return typeof e!="number"?at.black():fg(e)}function wg(e){return typeof e!="number"?at.black():bg(e)}function eo(e,t){return typeof e!="object"||Ct(e)?!1:t in e&&typeof e[t]=="number"}function Dh(e){return eo(e,"r")&&eo(e,"g")&&eo(e,"b")}function Rh(e){return Dh(e)&&eo(e,"a")}function Oh(e){return Dh(e)}function uc(e,t){if(e.mode!==t.mode||e.type!==t.type)return!1;const n=e.getComponents(),r=t.getComponents();for(let a=0;a<n.length;a++)if(n[a]!==r[a])return!1;return!0}function Zu(e){return"a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b]}function gg(e){const t=Th(e);return t?(n,r)=>{xi(n,t(r))}:null}function Cg(e){const t=e?vg:mg;return(n,r)=>{xi(n,t(r))}}function xg(e,t,n){const a=ee(t,n).toRgbaObject();e.writeProperty("r",a.r),e.writeProperty("g",a.g),e.writeProperty("b",a.b),e.writeProperty("a",a.a)}function yg(e,t,n){const a=ee(t,n).toRgbaObject();e.writeProperty("r",a.r),e.writeProperty("g",a.g),e.writeProperty("b",a.b)}function Pg(e,t){return(n,r)=>{e?xg(n,r,t):yg(n,r,t)}}function Eg(e){var t;return!!(!((t=e==null?void 0:e.color)===null||t===void 0)&&t.alpha)}function kg(e){return e?t=>ac(t,"0x"):t=>lc(t,"0x")}function Vg(e){return"color"in e||e.view==="color"}Kt({id:"input-color-number",type:"input",accept:(e,t)=>{if(typeof e!="number"||!Vg(t))return null;const n=sc(t);return n?{initialValue:e,params:Object.assign(Object.assign({},n),{supportsAlpha:Eg(t)})}:null},binding:{reader:e=>e.params.supportsAlpha?wg:_g,equals:uc,writer:e=>Cg(e.params.supportsAlpha)},controller:e=>{var t,n;return new cc(e.document,{colorType:"int",expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:kg(e.params.supportsAlpha),parser:ur("int"),pickerLayout:(n=e.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:e.params.supportsAlpha,value:e.value,viewProps:e.viewProps})}});function Sg(e,t){if(!Oh(e))return ee(at.black(),t);if(t==="int"){const n=Zu(e);return new at(n,"rgb")}if(t==="float"){const n=Zu(e);return new rc(n,"rgb")}return ee(at.black(),"int")}function Lg(e){return Rh(e)}function Mg(e){return t=>{const n=Sg(t,e);return ee(n,"int")}}function Ag(e,t){return n=>e?Ah(n,t):Mh(n,t)}Kt({id:"input-color-object",type:"input",accept:(e,t)=>{var n;if(!Oh(e))return null;const r=sc(t);return r?{initialValue:e,params:Object.assign(Object.assign({},r),{colorType:(n=_h(t))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:e=>Mg(e.params.colorType),equals:uc,writer:e=>Pg(Lg(e.initialValue),e.params.colorType)},controller:e=>{var t,n;const r=Rh(e.initialValue);return new cc(e.document,{colorType:e.params.colorType,expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:Ag(r,e.params.colorType),parser:ur("int"),pickerLayout:(n=e.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:e.value,viewProps:e.viewProps})}});Kt({id:"input-color-string",type:"input",accept:(e,t)=>{if(typeof e!="string"||t.view==="text")return null;const n=$w(e,_h(t));if(!n)return null;const r=Th(n);if(!r)return null;const a=sc(t);return a?{initialValue:e,params:Object.assign(Object.assign({},a),{format:n,stringifier:r})}:null},binding:{reader:()=>Uw,equals:uc,writer:e=>{const t=gg(e.params.format);if(!t)throw ve.notBindable();return t}},controller:e=>{var t,n;return new cc(e.document,{colorType:e.params.format.type,expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,formatter:e.params.stringifier,parser:ur("int"),pickerLayout:(n=e.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:e.params.format.alpha,value:e.value,viewProps:e.viewProps})}});class pc{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const n=this.asm_.toComponents(t).map((r,a)=>{var p,v;return(v=(p=this.components[a])===null||p===void 0?void 0:p.constrain(r))!==null&&v!==void 0?v:r});return this.asm_.fromComponents(n)}}const Qu=it("pndtxt");class Tg{constructor(t,n){this.textViews=n.textViews,this.element=t.createElement("div"),this.element.classList.add(Qu()),this.textViews.forEach(r=>{const a=t.createElement("div");a.classList.add(Qu("a")),a.appendChild(r.element),this.element.appendChild(a)})}}function Dg(e,t,n){return new ls(e,{arrayPosition:n===0?"fst":n===t.axes.length-1?"lst":"mid",parser:t.parser,props:t.axes[n].textProps,value:Nt(0,{constraint:t.axes[n].constraint}),viewProps:t.viewProps})}class hc{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,a)=>Dg(t,n,a)),this.acs_.forEach((r,a)=>{os({primary:this.value,secondary:r.value,forward:p=>n.assembly.toComponents(p)[a],backward:(p,v)=>{const f=n.assembly.toComponents(p);return f[a]=v,n.assembly.fromComponents(f)}})}),this.view=new Tg(t,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class Rg extends Ya{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(t){this.controller.valueController.sliderController.props.set("max",t)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(t){this.controller.valueController.sliderController.props.set("min",t)}}function Og(e,t){const n=[],r=Ua(e,t);r&&n.push(r);const a=Ha(e);a&&n.push(a);const p=nc(e.options);return p&&n.push(p),new rs(n)}Kt({id:"input-number",type:"input",accept:(e,t)=>{if(typeof e!="number")return null;const n=Bt(t,r=>Object.assign(Object.assign({},Vo(r)),{options:r.optional.custom(Ao),readonly:r.optional.constant(!1)}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Eo,constraint:e=>Og(e.params,e.initialValue),writer:e=>xi},controller:e=>{const t=e.value,n=e.constraint,r=n&&uo(n,Mo);if(r)return new Zi(e.document,{props:new ot({options:r.values.value("options")}),value:t,viewProps:e.viewProps});const a=ko(e.params,t.rawValue),p=n&&uo(n,Po);return p?new Gu(e.document,Object.assign(Object.assign({},dw(Object.assign(Object.assign({},a),{keyScale:Nt(a.keyScale),max:p.values.value("max"),min:p.values.value("min")}))),{parser:Ze,value:t,viewProps:e.viewProps})):new ls(e.document,{parser:Ze,props:ot.fromObject(a),value:t,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="number"?null:e.controller.valueController instanceof Gu?new Rg(e.controller):e.controller.valueController instanceof Zi?new ec(e.controller):null}});class $n{constructor(t=0,n=0){this.x=t,this.y=n}getComponents(){return[this.x,this.y]}static isObject(t){if(Ct(t))return!1;const n=t.x,r=t.y;return!(typeof n!="number"||typeof r!="number")}static equals(t,n){return t.x===n.x&&t.y===n.y}toObject(){return{x:this.x,y:this.y}}}const Nh={toComponents:e=>e.getComponents(),fromComponents:e=>new $n(...e)},zi=it("p2d");class Ng{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(zi()),n.viewProps.bindClassModifiers(this.element),_n(n.expanded,ss(this.element,zi(void 0,"expanded")));const r=t.createElement("div");r.classList.add(zi("h")),this.element.appendChild(r);const a=t.createElement("button");a.classList.add(zi("b")),a.appendChild(Lo(t,"p2dpad")),n.viewProps.bindDisabled(a),r.appendChild(a),this.buttonElement=a;const p=t.createElement("div");if(p.classList.add(zi("t")),r.appendChild(p),this.textElement=p,n.pickerLayout==="inline"){const v=t.createElement("div");v.classList.add(zi("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}const In=it("p2dp");class Ig{constructor(t,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=t.createElement("div"),this.element.classList.add(In()),n.layout==="popup"&&this.element.classList.add(In(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(In("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const a=t.createElementNS(fe,"svg");a.classList.add(In("g")),this.padElement.appendChild(a),this.svgElem_=a;const p=t.createElementNS(fe,"line");p.classList.add(In("ax")),p.setAttributeNS(null,"x1","0"),p.setAttributeNS(null,"y1","50%"),p.setAttributeNS(null,"x2","100%"),p.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(p);const v=t.createElementNS(fe,"line");v.classList.add(In("ax")),v.setAttributeNS(null,"x1","50%"),v.setAttributeNS(null,"y1","0"),v.setAttributeNS(null,"x2","50%"),v.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(v);const f=t.createElementNS(fe,"line");f.classList.add(In("l")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(f),this.lineElem_=f;const g=t.createElement("div");g.classList.add(In("m")),this.padElement.appendChild(g),this.markerElem_=g,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),a=dt(t,-r,+r,0,100),p=dt(n,-r,+r,0,100),v=this.props_.get("invertsY")?100-p:p;this.lineElem_.setAttributeNS(null,"x2",`${a}%`),this.lineElem_.setAttributeNS(null,"y2",`${v}%`),this.markerElem_.style.left=`${a}%`,this.markerElem_.style.top=`${v}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function tp(e,t,n){return[ae(t[0],wn(e)),ae(t[1],or(e))*(n?1:-1)]}class Bg{constructor(t,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Ig(t,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,n){if(!t.point)return;const r=this.props.get("max"),a=dt(t.point.x,0,t.bounds.width,-r,+r),p=dt(this.props.get("invertsY")?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-r,+r);this.value.setRawValue(new $n(a,p),n)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){hh(t.key)&&t.preventDefault();const[n,r]=tp(t,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new $n(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[n,r]=tp(t,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class jg{constructor(t,n){var r,a;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ar.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new ch(t,{viewProps:this.viewProps}):null;const p=new Bg(t,{layout:n.pickerLayout,props:new ot({invertsY:Nt(n.invertsY),max:Nt(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(v=>{v.addEventListener("blur",this.onPopupChildBlur_),v.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.textC_=new hc(t,{assembly:Nh,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new Ng(t,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),os({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:v=>v,backward:(v,f)=>f})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),tc(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(t){if(!this.popC_)return;const n=this.view.element,r=t.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const n=this.popC_.view.element,r=sh(t);r&&n.contains(r)||r&&r===this.view.buttonElement&&!Wa(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function Fg(e){return $n.isObject(e)?new $n(e.x,e.y):new $n}function zg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y)}function Kg(e,t){return new pc({assembly:Nh,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y)]})}function ep(e,t){var n,r;if(!Ct(e.min)||!Ct(e.max))return Math.max(Math.abs((n=e.min)!==null&&n!==void 0?n:0),Math.abs((r=e.max)!==null&&r!==void 0?r:0));const a=th(e);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function $g(e,t){var n,r;const a=ep(gi(e,(n=e.x)!==null&&n!==void 0?n:{}),t.x),p=ep(gi(e,(r=e.y)!==null&&r!==void 0?r:{}),t.y);return Math.max(a,p)}function Ug(e){if(!("y"in e))return!1;const t=e.y;return t&&"inverted"in t?!!t.inverted:!1}Kt({id:"input-point2d",type:"input",accept:(e,t)=>{if(!$n.isObject(e))return null;const n=Bt(t,r=>Object.assign(Object.assign({},lr(r)),{expanded:r.optional.boolean,picker:r.optional.custom(mh),readonly:r.optional.constant(!1),x:r.optional.custom(Fn),y:r.optional.object(Object.assign(Object.assign({},lr(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:e,params:n}:null},binding:{reader:()=>Fg,constraint:e=>Kg(e.params,e.initialValue),equals:$n.equals,writer:()=>zg},controller:e=>{var t,n;const r=e.document,a=e.value,p=e.constraint,v=[e.params.x,e.params.y];return new jg(r,{axes:a.rawValue.getComponents().map((f,g)=>{var C;return qa({constraint:p.components[g],initialValue:f,params:gi(e.params,(C=v[g])!==null&&C!==void 0?C:{})})}),expanded:(t=e.params.expanded)!==null&&t!==void 0?t:!1,invertsY:Ug(e.params),max:$g(e.params,a.rawValue),parser:Ze,pickerLayout:(n=e.params.picker)!==null&&n!==void 0?n:"popup",value:a,viewProps:e.viewProps})}});class Gi{constructor(t=0,n=0,r=0){this.x=t,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(Ct(t))return!1;const n=t.x,r=t.y,a=t.z;return!(typeof n!="number"||typeof r!="number"||typeof a!="number")}static equals(t,n){return t.x===n.x&&t.y===n.y&&t.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ih={toComponents:e=>e.getComponents(),fromComponents:e=>new Gi(...e)};function Hg(e){return Gi.isObject(e)?new Gi(e.x,e.y,e.z):new Gi}function qg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z)}function Gg(e,t){return new pc({assembly:Ih,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y),fn(Object.assign(Object.assign({},e),e.z),t.z)]})}Kt({id:"input-point3d",type:"input",accept:(e,t)=>{if(!Gi.isObject(e))return null;const n=Bt(t,r=>Object.assign(Object.assign({},lr(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(Fn),y:r.optional.custom(Fn),z:r.optional.custom(Fn)}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Hg,constraint:e=>Gg(e.params,e.initialValue),equals:Gi.equals,writer:e=>qg},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z];return new hc(e.document,{assembly:Ih,axes:t.rawValue.getComponents().map((a,p)=>{var v;return qa({constraint:n.components[p],initialValue:a,params:gi(e.params,(v=r[p])!==null&&v!==void 0?v:{})})}),parser:Ze,value:t,viewProps:e.viewProps})}});class Yi{constructor(t=0,n=0,r=0,a=0){this.x=t,this.y=n,this.z=r,this.w=a}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(Ct(t))return!1;const n=t.x,r=t.y,a=t.z,p=t.w;return!(typeof n!="number"||typeof r!="number"||typeof a!="number"||typeof p!="number")}static equals(t,n){return t.x===n.x&&t.y===n.y&&t.z===n.z&&t.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Bh={toComponents:e=>e.getComponents(),fromComponents:e=>new Yi(...e)};function Yg(e){return Yi.isObject(e)?new Yi(e.x,e.y,e.z,e.w):new Yi}function Wg(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z),e.writeProperty("w",t.w)}function Xg(e,t){return new pc({assembly:Bh,components:[fn(Object.assign(Object.assign({},e),e.x),t.x),fn(Object.assign(Object.assign({},e),e.y),t.y),fn(Object.assign(Object.assign({},e),e.z),t.z),fn(Object.assign(Object.assign({},e),e.w),t.w)]})}Kt({id:"input-point4d",type:"input",accept:(e,t)=>{if(!Yi.isObject(e))return null;const n=Bt(t,r=>Object.assign(Object.assign({},lr(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(Fn),x:r.optional.custom(Fn),y:r.optional.custom(Fn),z:r.optional.custom(Fn)}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Yg,constraint:e=>Xg(e.params,e.initialValue),equals:Yi.equals,writer:e=>Wg},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z,e.params.w];return new hc(e.document,{assembly:Bh,axes:t.rawValue.getComponents().map((a,p)=>{var v;return qa({constraint:n.components[p],initialValue:a,params:gi(e.params,(v=r[p])!==null&&v!==void 0?v:{})})}),parser:Ze,value:t,viewProps:e.viewProps})}});function Jg(e){const t=[],n=nc(e.options);return n&&t.push(n),new rs(t)}Kt({id:"input-string",type:"input",accept:(e,t)=>{if(typeof e!="string")return null;const n=Bt(t,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(Ao)}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>ph,constraint:e=>Jg(e.params),writer:e=>xi},controller:e=>{const t=e.document,n=e.value,r=e.constraint,a=r&&uo(r,Mo);return a?new Zi(t,{props:new ot({options:a.values.value("options")}),value:n,viewProps:e.viewProps}):new ic(t,{parser:p=>p,props:ot.fromObject({formatter:_a}),value:n,viewProps:e.viewProps})},api(e){return typeof e.controller.value.rawValue!="string"?null:e.controller.valueController instanceof Zi?new ec(e.controller):null}});const Do={monitor:{defaultInterval:200,defaultRows:3}},np=it("mll");class Zg{constructor(t,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=t.createElement("div"),this.element.classList.add(np()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("textarea");r.classList.add(np("i")),r.style.height=`calc(var(${dh("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const t=this.textareaElem_,n=t.scrollTop===t.scrollHeight-t.clientHeight,r=[];this.value.rawValue.forEach(a=>{a!==void 0&&r.push(this.formatter_(a))}),t.textContent=r.join(`
`),n&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class dc{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new Zg(t,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const ip=it("sgl");class Qg{constructor(t,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=t.createElement("div"),this.element.classList.add(ip()),n.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(ip("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const t=this.value.rawValue,n=t[t.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class mc{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new Qg(t,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}Kt({id:"monitor-bool",type:"monitor",accept:(e,t)=>{if(typeof e!="boolean")return null;const n=Bt(t,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>uh},controller:e=>{var t;return e.value.rawValue.length===1?new mc(e.document,{formatter:qu,value:e.value,viewProps:e.viewProps}):new dc(e.document,{formatter:qu,rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:e.value,viewProps:e.viewProps})}});class t0 extends Ya{get max(){return this.controller.valueController.props.get("max")}set max(t){this.controller.valueController.props.set("max",t)}get min(){return this.controller.valueController.props.get("min")}set min(t){this.controller.valueController.props.set("min",t)}}const Bn=it("grl");class e0{constructor(t,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Bn()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=t.createElementNS(fe,"svg");r.classList.add(Bn("g")),r.style.height=`calc(var(${dh("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const a=t.createElementNS(fe,"polyline");this.svgElem_.appendChild(a),this.lineElem_=a;const p=t.createElement("div");p.classList.add(Bn("t"),it("tt")()),this.element.appendChild(p),this.tooltipElem_=p,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),n=this.value.rawValue.length-1,r=this.props_.get("min"),a=this.props_.get("max"),p=[];this.value.rawValue.forEach((k,E)=>{if(k===void 0)return;const O=dt(E,0,n,0,t.width),G=dt(k,r,a,t.height,0);p.push([O,G].join(","))}),this.lineElem_.setAttributeNS(null,"points",p.join(" "));const v=this.tooltipElem_,f=this.value.rawValue[this.cursor_.rawValue];if(f===void 0){v.classList.remove(Bn("t","a"));return}const g=dt(this.cursor_.rawValue,0,n,0,t.width),C=dt(f,r,a,t.height,0);v.style.left=`${g}px`,v.style.top=`${C}px`,v.textContent=`${this.formatter_(f)}`,v.classList.contains(Bn("t","a"))||(v.classList.add(Bn("t","a"),Bn("t","in")),co(v),v.classList.remove(Bn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class jh{constructor(t,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=Nt(-1),this.view=new e0(t,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Wa(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new Hn(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(t){return en(t,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return nn(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(t){const n=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(dt(t.offsetX,0,n.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(dt(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function wa(e){return Ct(e.format)?Jt(2):e.format}function n0(e){var t;return e.value.rawValue.length===1?new mc(e.document,{formatter:wa(e.params),value:e.value,viewProps:e.viewProps}):new dc(e.document,{formatter:wa(e.params),rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:e.value,viewProps:e.viewProps})}function i0(e){var t,n,r;return new jh(e.document,{formatter:wa(e.params),rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,props:ot.fromObject({max:(n=e.params.max)!==null&&n!==void 0?n:100,min:(r=e.params.min)!==null&&r!==void 0?r:0}),value:e.value,viewProps:e.viewProps})}function sp(e){return e.view==="graph"}Kt({id:"monitor-number",type:"monitor",accept:(e,t)=>{if(typeof e!="number")return null;const n=Bt(t,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:e,params:n}:null},binding:{defaultBufferSize:e=>sp(e)?64:1,reader:e=>Eo},controller:e=>sp(e.params)?i0(e):n0(e),api:e=>e.controller.valueController instanceof jh?new t0(e.controller):null});Kt({id:"monitor-string",type:"monitor",accept:(e,t)=>{if(typeof e!="string")return null;const n=Bt(t,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>ph},controller:e=>{var t;const n=e.value;return n.rawValue.length>1||e.params.multiline?new dc(e.document,{formatter:_a,rows:(t=e.params.rows)!==null&&t!==void 0?t:Do.monitor.defaultRows,value:n,viewProps:e.viewProps}):new mc(e.document,{formatter:_a,value:n,viewProps:e.viewProps})}});const De=it("ckr");class s0{constructor(t,n){this.tickElems_=[],this.labelElems_=[],this.boundsWidth_=-1,this.onShowsTooltipChange_=this.onShowsTooltipChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.formatters_=n.formatters,this.unit_=n.unit,this.element=t.createElement("div"),this.element.classList.add(De(),De(void 0,`m${n.seriesId}`)),n.viewProps.bindClassModifiers(this.element),this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_),n.showsTooltip.emitter.on("change",this.onShowsTooltipChange_);const r=t.createElement("div");r.classList.add(De("w")),this.element.appendChild(r),this.offsetElem_=t.createElement("div"),this.offsetElem_.classList.add(De("o")),r.appendChild(this.offsetElem_),this.svgElem_=t.createElementNS(fe,"svg"),this.svgElem_.classList.add(De("g")),this.offsetElem_.appendChild(this.svgElem_),this.tooltipElem_=t.createElement("div"),this.tooltipElem_.classList.add(it("tt")(),De("tt")),this.element.appendChild(this.tooltipElem_),this.waitToBeAdded_()}waitToBeAdded_(){const t=new IntersectionObserver(n=>{n.forEach(r=>{r.target!==this.element||r.intersectionRatio===0||(this.update(),t.disconnect())})},{root:null});t.observe(this.element)}rebuildScaleIfNeeded_(t){if(this.boundsWidth_===t)return;this.boundsWidth_=t,this.tickElems_.forEach(C=>{rr(C)}),this.tickElems_=[],this.labelElems_.forEach(C=>{rr(C)}),this.labelElems_=[];const n=this.element.ownerDocument,r=this.unit_.ticks,a=this.unit_.pixels,f=((Math.ceil(t/2/a)+1)*2+1)*r,g=a/r;for(let C=0;C<f;C++){const k=C*g;if(C%r===0){const E=n.createElementNS(fe,"line");E.classList.add(De("mjt")),E.setAttributeNS(null,"x1",String(k)),E.setAttributeNS(null,"y1","0"),E.setAttributeNS(null,"x2",String(k)),E.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(E),this.tickElems_.push(E);const O=n.createElement("div");O.classList.add(De("l")),O.style.left=`${k}px`,this.offsetElem_.appendChild(O),this.labelElems_.push(O)}else{const E=n.createElementNS(fe,"line");E.classList.add(De("mnt")),E.setAttributeNS(null,"x1",String(k)),E.setAttributeNS(null,"y1","0"),E.setAttributeNS(null,"x2",String(k)),E.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(E),this.tickElems_.push(E)}}}updateScale_(t){const n=this.unit_.value,r=this.unit_.pixels,a=this.value_.rawValue,p=Math.ceil(t/2/r)+1,v=a-a%n-n*p,f=C=>1-Math.pow(Dt(Math.abs(a-C)/(t/2*(n/r)),0,1),10);this.labelElems_.forEach((C,k)=>{const E=v+k*n;C.textContent=this.formatters_.ring(E),C.style.opacity=String(f(E))});const g=this.unit_.ticks;this.tickElems_.forEach((C,k)=>{const E=v+k/g*n;C.style.opacity=String(f(E))})}update(){const t=this.element.getBoundingClientRect().width,n=this.unit_.value,r=this.unit_.pixels,a=this.value_.rawValue,p=Math.ceil(t/2/r)+1,v=(a%n+n*p)*(r/n),f=t/2-v;this.offsetElem_.style.transform=`translateX(${f}px)`,this.tooltipElem_.textContent=this.formatters_.text(a),this.rebuildScaleIfNeeded_(t),this.updateScale_(t)}onValueChange_(){this.update()}onShowsTooltipChange_(t){t.rawValue?this.element.classList.add(De(void 0,"tt")):this.element.classList.remove(De(void 0,"tt"))}}class vc{constructor(t,n){this.ox_=0,this.ov_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.tooltipEnabled_=n.tooltipEnabled,this.unit_=n.unit,this.showsTooltip_=Nt(!1),this.view=new s0(t,{formatters:n.formatters,seriesId:n.seriesId,showsTooltip:this.showsTooltip_,unit:n.unit,value:this.value,viewProps:this.viewProps});const r=new Hn(this.view.element);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}onPointerDown_(t){const n=t.data;!n.point||(this.ox_=n.point.x,this.ov_=this.value.rawValue,this.tooltipEnabled_&&(this.showsTooltip_.rawValue=!0))}onPointerMove_(t){const n=t.data;if(!n.point)return;const r=n.point.x-this.ox_,a=this.unit_.pixels,p=this.unit_.value;this.value.setRawValue(this.ov_-r/a*p,{forceEmit:!1,last:!1})}onPointerUp_(){this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0}),this.showsTooltip_.rawValue=!1}}const Ql=it("ckrtxt");class r0{constructor(t,n){this.element=t.createElement("div"),this.element.classList.add(Ql());const r=t.createElement("div");r.classList.add(Ql("r")),r.appendChild(n.ringView.element),this.element.appendChild(r);const a=t.createElement("div");a.classList.add(Ql("t")),a.appendChild(n.textView.element),this.element.appendChild(a)}}class Fh{constructor(t,n){this.value=n.value,this.viewProps=n.viewProps,this.rc_=new vc(t,{formatters:{ring:n.ringFormatter,text:n.textProps.get("formatter")},seriesId:n.seriesId,tooltipEnabled:!1,unit:n.ringUnit,value:this.value,viewProps:this.viewProps}),this.tc_=new ls(t,{parser:n.parser,props:n.textProps,value:this.value,viewProps:this.viewProps}),this.view=new r0(t,{ringView:this.rc_.view,textView:this.tc_.view})}}function zh(e){const t=[],n=Ha(e);n&&t.push(n);const r=Ua(e);return r&&t.push(r),new rs(t)}function o0(e){return e===0||e===1||e===2?e:void 0}function rp(e){return e!==void 0?String(e):"0"}function l0(e){const t=Jt(ma(e.value));return n=>{const r=t(n),a=r.substr(0,1);return r+(a==="-"||a==="+"?" ":"")}}const a0=Kt({id:"input-ring",type:"input",accept(e,t){if(typeof e!="number")return null;const n=Bt(t,r=>Object.assign(Object.assign({},Vo(r)),{series:r.optional.custom(o0),unit:r.optional.object({pixels:r.required.number,ticks:r.required.number,value:r.required.number}),view:r.required.constant("cameraring"),wide:r.optional.boolean}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Eo,constraint:e=>zh(e.params),writer:e=>xi},controller(e){var t,n,r;const a=(t=e.params.unit)!==null&&t!==void 0?t:{ticks:5,pixels:40,value:10},p=l0(a),v=ko(e.params,e.initialValue);if(e.params.wide)return new vc(e.document,{formatters:{ring:p,text:v.formatter},seriesId:(n=rp(e.params.series))!==null&&n!==void 0?n:"0",tooltipEnabled:!0,unit:a,value:e.value,viewProps:e.viewProps});const f=ot.fromObject(v);return new Fh(e.document,{parser:Ze,ringFormatter:p,ringUnit:a,seriesId:(r=rp(e.params.series))!==null&&r!==void 0?r:"0",textProps:f,value:e.value,viewProps:e.viewProps})}}),c0=Kt({id:"input-wheel",type:"input",accept(e,t){if(typeof e!="number")return null;const n=Bt(t,r=>Object.assign(Object.assign({},Vo(r)),{amount:r.optional.number,view:r.required.constant("camerawheel"),wide:r.optional.boolean}));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Eo,constraint:e=>zh(e.params),writer:e=>xi},controller(e){var t,n;const r=Jt(0),a=ko(e.params,e.initialValue);return e.params.wide?new vc(e.document,{formatters:{ring:r,text:a.formatter},seriesId:"w",tooltipEnabled:!0,unit:{ticks:10,pixels:40,value:((t=e.params.amount)!==null&&t!==void 0?t:a.pointerScale)*40},value:e.value,viewProps:e.viewProps}):new Fh(e.document,{parser:Ze,ringFormatter:r,ringUnit:{ticks:10,pixels:40,value:((n=e.params.amount)!==null&&n!==void 0?n:a.pointerScale)*40},seriesId:"w",textProps:ot.fromObject(a),value:e.value,viewProps:e.viewProps})}}),u0="camerakit",p0='.tp-ckrv_w{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-ckrv_w{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-ckrv_w:hover{background-color:var(--in-bg-h)}.tp-ckrv_w:focus{background-color:var(--in-bg-f)}.tp-ckrv_w:active{background-color:var(--in-bg-a)}.tp-ckrv_w:disabled{opacity:.5}.tp-ckrv{position:relative}.tp-ckrv.tp-v-disabled{opacity:.5}.tp-ckrv::before{background-color:var(--grv-fg);bottom:0;content:"";height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-ckrv::after{background-color:var(--in-fg);content:"";left:0;margin:auto;position:absolute;right:0}.tp-ckrv_w{cursor:pointer;height:calc(var(--cnt-usz));overflow:hidden}.tp-ckrv_o{height:100%;left:0;position:relative}.tp-ckrv_g{display:block;height:2px;overflow:visible;position:absolute;width:100%}.tp-ckrv_mjt{stroke:var(--in-fg);stroke-width:2;transform-origin:bottom}.tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:1;transform-origin:bottom}.tp-ckrv_l{color:var(--in-fg);font-size:.9em;pointer-events:none;position:absolute;top:0;transform:translateX(-50%);white-space:pre}.tp-ckrv_tt{left:50%;top:-4px;visibility:hidden}.tp-ckrv.tp-ckrv-tt .tp-ckrv_tt{visibility:visible}.tp-ckrv.tp-ckrv-m0::before{display:none}.tp-ckrv.tp-ckrv-m0::after{bottom:0;height:6px;width:2px}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_g{bottom:0;margin:auto;transform:translateY(3px);top:0}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mjt{transform:scaleY(3)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_l{line-height:8px;transform:translateX(-50%) scale(0.8)}.tp-ckrv.tp-ckrv-m1::before{display:none}.tp-ckrv.tp-ckrv-m1::after{bottom:0;height:8px;width:2px}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_g{bottom:0}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mjt{stroke-width:1;transform:scaleY(4)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_l{line-height:12px}.tp-ckrv.tp-ckrv-m2::before{transform:translateY(3px)}.tp-ckrv.tp-ckrv-m2::after{border-radius:2px;bottom:1px;height:4px;width:4px}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_g{display:none}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_l{line-height:12px;transform:translateX(-50%)}.tp-ckrv.tp-ckrv-mw::before,.tp-ckrv.tp-ckrv-mw::after{display:none}.tp-ckrv.tp-ckrv-mw .tp-ckrv_g{bottom:0;opacity:.2}.tp-ckrv.tp-ckrv-mw .tp-ckrv_mjt,.tp-ckrv.tp-ckrv-mw .tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:2;transform:scaleY(10)}.tp-ckrv.tp-ckrv-mw .tp-ckrv_l{display:none}.tp-ckrtxtv{display:flex}.tp-ckrtxtv_r{flex:2}.tp-ckrtxtv_t{flex:1;margin-left:4px}',h0=[a0,c0],d0=Object.freeze(Object.defineProperty({__proto__:null,css:p0,id:u0,plugins:h0},Symbol.toStringTag,{value:"Module"})),m0=Oa({components:{VTweakpane:Mb,VGithubIcon:Cb},setup(){return{onPaneOneCreated:a=>{const p={interval:{min:16,max:48}};a.addInput(p,"interval",{min:0,max:100,step:1})},onPaneTwoCreated:a=>{a.registerPlugin(d0);const p={flen:55,fnum:1.8,iso:100};a.addInput(p,"flen",{view:"cameraring",series:0,unit:{pixels:50,ticks:10,value:.2},min:1,step:.02}),a.addInput(p,"fnum",{view:"cameraring",series:1,unit:{ticks:10,pixels:40,value:.2},wide:!0,min:1.4,step:.02}),a.addInput(p,"iso",{view:"camerawheel",amount:100})},onPaneThreeCreated:a=>{a.addBlade({view:"text",label:"name",parse:p=>String(p),value:"sketch-01"})},onPaneFourCreated:a=>{const p={background:{r:255,g:0,b:55},tint:{r:0,g:255,b:214,a:.5}};a.addInput(p,"background"),a.addInput(p,"tint")}}}});const v0=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},f0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},b0=be("div",{class:"absolute bottom-4 right-4"},[be("a",{href:"https://app.netlify.com/sites/v-tweakpane/deploys","aria-label":"View deploys on Netlify",target:"_blank",rel:"noopener noreferrer",class:"gray-400"},[be("img",{src:"https://www.netlify.com/img/global/badges/netlify-color-accent.svg",alt:"Deploys by Netlify"})])],-1);function _0(e,t,n,r,a,p){const v=pu("v-github-icon"),f=pu("v-tweakpane");return qi(),Xs(Ye,null,[le(v,{url:"https://github.com/vinayakkulkarni/v-tweakpane"}),be("section",f0,[le(f,{class:"p-4",pane:{title:"Simple Interval / Range Slider Example"},onOnPaneCreated:e.onPaneOneCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Camera Kit Plugin Example"},onOnPaneCreated:e.onPaneTwoCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Blade Example"},onOnPaneCreated:e.onPaneThreeCreated},null,8,["onOnPaneCreated"]),le(f,{class:"p-4",pane:{title:"Colorpicker Example"},onOnPaneCreated:e.onPaneFourCreated},null,8,["onOnPaneCreated"])]),b0],64)}const w0=v0(m0,[["render",_0]]);lb(w0).mount("#app");
