function fa(i,o){for(var a=0;a<o.length;a++){const p=o[a];if(typeof p!="string"&&!Array.isArray(p)){for(const h in p)if(h!=="default"&&!(h in i)){const f=Object.getOwnPropertyDescriptor(p,h);f&&Object.defineProperty(i,h,f.get?f:{enumerable:!0,get:()=>p[h]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))p(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const w of f.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&p(w)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerpolicy&&(f.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?f.credentials="include":h.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function p(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();function Ao(i,o){const a=Object.create(null),p=i.split(",");for(let h=0;h<p.length;h++)a[p[h]]=!0;return o?h=>!!a[h.toLowerCase()]:h=>!!a[h]}function hr(i){if(st(i)){const o={};for(let a=0;a<i.length;a++){const p=i[a],h=Jt(p)?ep(p):hr(p);if(h)for(const f in h)o[f]=h[f]}return o}else{if(Jt(i))return i;if(Ft(i))return i}}const Zu=/;(?![^(]*\))/g,Qu=/:([^]+)/,tp=/\/\*.*?\*\//gs;function ep(i){const o={};return i.replace(tp,"").split(Zu).forEach(a=>{if(a){const p=a.split(Qu);p.length>1&&(o[p[0].trim()]=p[1].trim())}}),o}function Ro(i){let o="";if(Jt(i))o=i;else if(st(i))for(let a=0;a<i.length;a++){const p=Ro(i[a]);p&&(o+=p+" ")}else if(Ft(i))for(const a in i)i[a]&&(o+=a+" ");return o.trim()}const np="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ip=Ao(np);function ma(i){return!!i||i===""}const Lt={},Pi=[],Fe=()=>{},rp=()=>!1,sp=/^on[^a-z]/,cs=i=>sp.test(i),Oo=i=>i.startsWith("onUpdate:"),ae=Object.assign,No=(i,o)=>{const a=i.indexOf(o);a>-1&&i.splice(a,1)},op=Object.prototype.hasOwnProperty,dt=(i,o)=>op.call(i,o),st=Array.isArray,cr=i=>us(i)==="[object Map]",lp=i=>us(i)==="[object Set]",rt=i=>typeof i=="function",Jt=i=>typeof i=="string",Io=i=>typeof i=="symbol",Ft=i=>i!==null&&typeof i=="object",ba=i=>Ft(i)&&rt(i.then)&&rt(i.catch),ap=Object.prototype.toString,us=i=>ap.call(i),cp=i=>us(i).slice(8,-1),up=i=>us(i)==="[object Object]",Bo=i=>Jt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Qr=Ao(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ps=i=>{const o=Object.create(null);return a=>o[a]||(o[a]=i(a))},pp=/-(\w)/g,Ze=ps(i=>i.replace(pp,(o,a)=>a?a.toUpperCase():"")),dp=/\B([A-Z])/g,Ti=ps(i=>i.replace(dp,"-$1").toLowerCase()),ds=ps(i=>i.charAt(0).toUpperCase()+i.slice(1)),ho=ps(i=>i?`on${ds(i)}`:""),vr=(i,o)=>!Object.is(i,o),vo=(i,o)=>{for(let a=0;a<i.length;a++)i[a](o)},is=(i,o,a)=>{Object.defineProperty(i,o,{configurable:!0,enumerable:!1,value:a})},hp=i=>{const o=parseFloat(i);return isNaN(o)?i:o};let zl;const vp=()=>zl||(zl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ie;class fp{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ie,!o&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const a=Ie;try{return Ie=this,o()}finally{Ie=a}}}on(){Ie=this}off(){Ie=this.parent}stop(o){if(this._active){let a,p;for(a=0,p=this.effects.length;a<p;a++)this.effects[a].stop();for(a=0,p=this.cleanups.length;a<p;a++)this.cleanups[a]();if(this.scopes)for(a=0,p=this.scopes.length;a<p;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!o){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function mp(i,o=Ie){o&&o.active&&o.effects.push(i)}function bp(){return Ie}const zo=i=>{const o=new Set(i);return o.w=0,o.n=0,o},_a=i=>(i.w&Tn)>0,ga=i=>(i.n&Tn)>0,_p=({deps:i})=>{if(i.length)for(let o=0;o<i.length;o++)i[o].w|=Tn},gp=i=>{const{deps:o}=i;if(o.length){let a=0;for(let p=0;p<o.length;p++){const h=o[p];_a(h)&&!ga(h)?h.delete(i):o[a++]=h,h.w&=~Tn,h.n&=~Tn}o.length=a}},xo=new WeakMap;let ar=0,Tn=1;const Co=30;let Be;const ii=Symbol(""),yo=Symbol("");class jo{constructor(o,a=null,p){this.fn=o,this.scheduler=a,this.active=!0,this.deps=[],this.parent=void 0,mp(this,p)}run(){if(!this.active)return this.fn();let o=Be,a=Ln;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Be,Be=this,Ln=!0,Tn=1<<++ar,ar<=Co?_p(this):jl(this),this.fn()}finally{ar<=Co&&gp(this),Tn=1<<--ar,Be=this.parent,Ln=a,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Be===this?this.deferStop=!0:this.active&&(jl(this),this.onStop&&this.onStop(),this.active=!1)}}function jl(i){const{deps:o}=i;if(o.length){for(let a=0;a<o.length;a++)o[a].delete(i);o.length=0}}let Ln=!0;const wa=[];function Di(){wa.push(Ln),Ln=!1}function Ai(){const i=wa.pop();Ln=i===void 0?!0:i}function me(i,o,a){if(Ln&&Be){let p=xo.get(i);p||xo.set(i,p=new Map);let h=p.get(a);h||p.set(a,h=zo()),xa(h)}}function xa(i,o){let a=!1;ar<=Co?ga(i)||(i.n|=Tn,a=!_a(i)):a=!i.has(Be),a&&(i.add(Be),Be.deps.push(i))}function cn(i,o,a,p,h,f){const w=xo.get(i);if(!w)return;let C=[];if(o==="clear")C=[...w.values()];else if(a==="length"&&st(i)){const V=Number(p);w.forEach((T,A)=>{(A==="length"||A>=V)&&C.push(T)})}else switch(a!==void 0&&C.push(w.get(a)),o){case"add":st(i)?Bo(a)&&C.push(w.get("length")):(C.push(w.get(ii)),cr(i)&&C.push(w.get(yo)));break;case"delete":st(i)||(C.push(w.get(ii)),cr(i)&&C.push(w.get(yo)));break;case"set":cr(i)&&C.push(w.get(ii));break}if(C.length===1)C[0]&&Po(C[0]);else{const V=[];for(const T of C)T&&V.push(...T);Po(zo(V))}}function Po(i,o){const a=st(i)?i:[...i];for(const p of a)p.computed&&Fl(p);for(const p of a)p.computed||Fl(p)}function Fl(i,o){(i!==Be||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const wp=Ao("__proto__,__v_isRef,__isVue"),Ca=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Io)),xp=Fo(),Cp=Fo(!1,!0),yp=Fo(!0),Kl=Pp();function Pp(){const i={};return["includes","indexOf","lastIndexOf"].forEach(o=>{i[o]=function(...a){const p=bt(this);for(let f=0,w=this.length;f<w;f++)me(p,"get",f+"");const h=p[o](...a);return h===-1||h===!1?p[o](...a.map(bt)):h}}),["push","pop","shift","unshift","splice"].forEach(o=>{i[o]=function(...a){Di();const p=bt(this)[o].apply(this,a);return Ai(),p}}),i}function Ep(i){const o=bt(this);return me(o,"has",i),o.hasOwnProperty(i)}function Fo(i=!1,o=!1){return function(p,h,f){if(h==="__v_isReactive")return!i;if(h==="__v_isReadonly")return i;if(h==="__v_isShallow")return o;if(h==="__v_raw"&&f===(i?o?Fp:Va:o?ka:Ea).get(p))return p;const w=st(p);if(!i){if(w&&dt(Kl,h))return Reflect.get(Kl,h,f);if(h==="hasOwnProperty")return Ep}const C=Reflect.get(p,h,f);return(Io(h)?Ca.has(h):wp(h))||(i||me(p,"get",h),o)?C:Qt(C)?w&&Bo(h)?C:C.value:Ft(C)?i?Ma(C):Uo(C):C}}const kp=ya(),Vp=ya(!0);function ya(i=!1){return function(a,p,h,f){let w=a[p];if(Mi(w)&&Qt(w)&&!Qt(h))return!1;if(!i&&(!rs(h)&&!Mi(h)&&(w=bt(w),h=bt(h)),!st(a)&&Qt(w)&&!Qt(h)))return w.value=h,!0;const C=st(a)&&Bo(p)?Number(p)<a.length:dt(a,p),V=Reflect.set(a,p,h,f);return a===bt(f)&&(C?vr(h,w)&&cn(a,"set",p,h):cn(a,"add",p,h)),V}}function Mp(i,o){const a=dt(i,o);i[o];const p=Reflect.deleteProperty(i,o);return p&&a&&cn(i,"delete",o,void 0),p}function Lp(i,o){const a=Reflect.has(i,o);return(!Io(o)||!Ca.has(o))&&me(i,"has",o),a}function Sp(i){return me(i,"iterate",st(i)?"length":ii),Reflect.ownKeys(i)}const Pa={get:xp,set:kp,deleteProperty:Mp,has:Lp,ownKeys:Sp},Tp={get:yp,set(i,o){return!0},deleteProperty(i,o){return!0}},Dp=ae({},Pa,{get:Cp,set:Vp}),Ko=i=>i,hs=i=>Reflect.getPrototypeOf(i);function Gr(i,o,a=!1,p=!1){i=i.__v_raw;const h=bt(i),f=bt(o);a||(o!==f&&me(h,"get",o),me(h,"get",f));const{has:w}=hs(h),C=p?Ko:a?qo:fr;if(w.call(h,o))return C(i.get(o));if(w.call(h,f))return C(i.get(f));i!==h&&i.get(o)}function Yr(i,o=!1){const a=this.__v_raw,p=bt(a),h=bt(i);return o||(i!==h&&me(p,"has",i),me(p,"has",h)),i===h?a.has(i):a.has(i)||a.has(h)}function Wr(i,o=!1){return i=i.__v_raw,!o&&me(bt(i),"iterate",ii),Reflect.get(i,"size",i)}function $l(i){i=bt(i);const o=bt(this);return hs(o).has.call(o,i)||(o.add(i),cn(o,"add",i,i)),this}function Ul(i,o){o=bt(o);const a=bt(this),{has:p,get:h}=hs(a);let f=p.call(a,i);f||(i=bt(i),f=p.call(a,i));const w=h.call(a,i);return a.set(i,o),f?vr(o,w)&&cn(a,"set",i,o):cn(a,"add",i,o),this}function Hl(i){const o=bt(this),{has:a,get:p}=hs(o);let h=a.call(o,i);h||(i=bt(i),h=a.call(o,i)),p&&p.call(o,i);const f=o.delete(i);return h&&cn(o,"delete",i,void 0),f}function ql(){const i=bt(this),o=i.size!==0,a=i.clear();return o&&cn(i,"clear",void 0,void 0),a}function Xr(i,o){return function(p,h){const f=this,w=f.__v_raw,C=bt(w),V=o?Ko:i?qo:fr;return!i&&me(C,"iterate",ii),w.forEach((T,A)=>p.call(h,V(T),V(A),f))}}function Jr(i,o,a){return function(...p){const h=this.__v_raw,f=bt(h),w=cr(f),C=i==="entries"||i===Symbol.iterator&&w,V=i==="keys"&&w,T=h[i](...p),A=a?Ko:o?qo:fr;return!o&&me(f,"iterate",V?yo:ii),{next(){const{value:R,done:$}=T.next();return $?{value:R,done:$}:{value:C?[A(R[0]),A(R[1])]:A(R),done:$}},[Symbol.iterator](){return this}}}}function Vn(i){return function(...o){return i==="delete"?!1:this}}function Ap(){const i={get(f){return Gr(this,f)},get size(){return Wr(this)},has:Yr,add:$l,set:Ul,delete:Hl,clear:ql,forEach:Xr(!1,!1)},o={get(f){return Gr(this,f,!1,!0)},get size(){return Wr(this)},has:Yr,add:$l,set:Ul,delete:Hl,clear:ql,forEach:Xr(!1,!0)},a={get(f){return Gr(this,f,!0)},get size(){return Wr(this,!0)},has(f){return Yr.call(this,f,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Xr(!0,!1)},p={get(f){return Gr(this,f,!0,!0)},get size(){return Wr(this,!0)},has(f){return Yr.call(this,f,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Xr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{i[f]=Jr(f,!1,!1),a[f]=Jr(f,!0,!1),o[f]=Jr(f,!1,!0),p[f]=Jr(f,!0,!0)}),[i,a,o,p]}const[Rp,Op,Np,Ip]=Ap();function $o(i,o){const a=o?i?Ip:Np:i?Op:Rp;return(p,h,f)=>h==="__v_isReactive"?!i:h==="__v_isReadonly"?i:h==="__v_raw"?p:Reflect.get(dt(a,h)&&h in p?a:p,h,f)}const Bp={get:$o(!1,!1)},zp={get:$o(!1,!0)},jp={get:$o(!0,!1)},Ea=new WeakMap,ka=new WeakMap,Va=new WeakMap,Fp=new WeakMap;function Kp(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(i){return i.__v_skip||!Object.isExtensible(i)?0:Kp(cp(i))}function Uo(i){return Mi(i)?i:Ho(i,!1,Pa,Bp,Ea)}function Up(i){return Ho(i,!1,Dp,zp,ka)}function Ma(i){return Ho(i,!0,Tp,jp,Va)}function Ho(i,o,a,p,h){if(!Ft(i)||i.__v_raw&&!(o&&i.__v_isReactive))return i;const f=h.get(i);if(f)return f;const w=$p(i);if(w===0)return i;const C=new Proxy(i,w===2?p:a);return h.set(i,C),C}function Ei(i){return Mi(i)?Ei(i.__v_raw):!!(i&&i.__v_isReactive)}function Mi(i){return!!(i&&i.__v_isReadonly)}function rs(i){return!!(i&&i.__v_isShallow)}function La(i){return Ei(i)||Mi(i)}function bt(i){const o=i&&i.__v_raw;return o?bt(o):i}function Sa(i){return is(i,"__v_skip",!0),i}const fr=i=>Ft(i)?Uo(i):i,qo=i=>Ft(i)?Ma(i):i;function Ta(i){Ln&&Be&&(i=bt(i),xa(i.dep||(i.dep=zo())))}function Da(i,o){i=bt(i);const a=i.dep;a&&Po(a)}function Qt(i){return!!(i&&i.__v_isRef===!0)}function Gl(i){return Hp(i,!1)}function Hp(i,o){return Qt(i)?i:new qp(i,o)}class qp{constructor(o,a){this.__v_isShallow=a,this.dep=void 0,this.__v_isRef=!0,this._rawValue=a?o:bt(o),this._value=a?o:fr(o)}get value(){return Ta(this),this._value}set value(o){const a=this.__v_isShallow||rs(o)||Mi(o);o=a?o:bt(o),vr(o,this._rawValue)&&(this._rawValue=o,this._value=a?o:fr(o),Da(this))}}function Gp(i){return Qt(i)?i.value:i}const Yp={get:(i,o,a)=>Gp(Reflect.get(i,o,a)),set:(i,o,a,p)=>{const h=i[o];return Qt(h)&&!Qt(a)?(h.value=a,!0):Reflect.set(i,o,a,p)}};function Aa(i){return Ei(i)?i:new Proxy(i,Yp)}var Ra;class Wp{constructor(o,a,p,h){this._setter=a,this.dep=void 0,this.__v_isRef=!0,this[Ra]=!1,this._dirty=!0,this.effect=new jo(o,()=>{this._dirty||(this._dirty=!0,Da(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=p}get value(){const o=bt(this);return Ta(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}Ra="__v_isReadonly";function Xp(i,o,a=!1){let p,h;const f=rt(i);return f?(p=i,h=Fe):(p=i.get,h=i.set),new Wp(p,h,f||!h,a)}function Sn(i,o,a,p){let h;try{h=p?i(...p):i()}catch(f){vs(f,o,a)}return h}function Ke(i,o,a,p){if(rt(i)){const f=Sn(i,o,a,p);return f&&ba(f)&&f.catch(w=>{vs(w,o,a)}),f}const h=[];for(let f=0;f<i.length;f++)h.push(Ke(i[f],o,a,p));return h}function vs(i,o,a,p=!0){const h=o?o.vnode:null;if(o){let f=o.parent;const w=o.proxy,C=a;for(;f;){const T=f.ec;if(T){for(let A=0;A<T.length;A++)if(T[A](i,w,C)===!1)return}f=f.parent}const V=o.appContext.config.errorHandler;if(V){Sn(V,null,10,[i,w,C]);return}}Jp(i,a,h,p)}function Jp(i,o,a,p=!0){console.error(i)}let mr=!1,Eo=!1;const Zt=[];let Je=0;const ki=[];let an=null,ei=0;const Oa=Promise.resolve();let Go=null;function Na(i){const o=Go||Oa;return i?o.then(this?i.bind(this):i):o}function Zp(i){let o=Je+1,a=Zt.length;for(;o<a;){const p=o+a>>>1;br(Zt[p])<i?o=p+1:a=p}return o}function Yo(i){(!Zt.length||!Zt.includes(i,mr&&i.allowRecurse?Je+1:Je))&&(i.id==null?Zt.push(i):Zt.splice(Zp(i.id),0,i),Ia())}function Ia(){!mr&&!Eo&&(Eo=!0,Go=Oa.then(za))}function Qp(i){const o=Zt.indexOf(i);o>Je&&Zt.splice(o,1)}function td(i){st(i)?ki.push(...i):(!an||!an.includes(i,i.allowRecurse?ei+1:ei))&&ki.push(i),Ia()}function Yl(i,o=mr?Je+1:0){for(;o<Zt.length;o++){const a=Zt[o];a&&a.pre&&(Zt.splice(o,1),o--,a())}}function Ba(i){if(ki.length){const o=[...new Set(ki)];if(ki.length=0,an){an.push(...o);return}for(an=o,an.sort((a,p)=>br(a)-br(p)),ei=0;ei<an.length;ei++)an[ei]();an=null,ei=0}}const br=i=>i.id==null?1/0:i.id,ed=(i,o)=>{const a=br(i)-br(o);if(a===0){if(i.pre&&!o.pre)return-1;if(o.pre&&!i.pre)return 1}return a};function za(i){Eo=!1,mr=!0,Zt.sort(ed);const o=Fe;try{for(Je=0;Je<Zt.length;Je++){const a=Zt[Je];a&&a.active!==!1&&Sn(a,null,14)}}finally{Je=0,Zt.length=0,Ba(),mr=!1,Go=null,(Zt.length||ki.length)&&za()}}function nd(i,o,...a){if(i.isUnmounted)return;const p=i.vnode.props||Lt;let h=a;const f=o.startsWith("update:"),w=f&&o.slice(7);if(w&&w in p){const A=`${w==="modelValue"?"model":w}Modifiers`,{number:R,trim:$}=p[A]||Lt;$&&(h=a.map(et=>Jt(et)?et.trim():et)),R&&(h=a.map(hp))}let C,V=p[C=ho(o)]||p[C=ho(Ze(o))];!V&&f&&(V=p[C=ho(Ti(o))]),V&&Ke(V,i,6,h);const T=p[C+"Once"];if(T){if(!i.emitted)i.emitted={};else if(i.emitted[C])return;i.emitted[C]=!0,Ke(T,i,6,h)}}function ja(i,o,a=!1){const p=o.emitsCache,h=p.get(i);if(h!==void 0)return h;const f=i.emits;let w={},C=!1;if(!rt(i)){const V=T=>{const A=ja(T,o,!0);A&&(C=!0,ae(w,A))};!a&&o.mixins.length&&o.mixins.forEach(V),i.extends&&V(i.extends),i.mixins&&i.mixins.forEach(V)}return!f&&!C?(Ft(i)&&p.set(i,null),null):(st(f)?f.forEach(V=>w[V]=null):ae(w,f),Ft(i)&&p.set(i,w),w)}function fs(i,o){return!i||!cs(o)?!1:(o=o.slice(2).replace(/Once$/,""),dt(i,o[0].toLowerCase()+o.slice(1))||dt(i,Ti(o))||dt(i,o))}let ze=null,ms=null;function ss(i){const o=ze;return ze=i,ms=i&&i.type.__scopeId||null,o}function id(i){ms=i}function rd(){ms=null}function sd(i,o=ze,a){if(!o||i._n)return i;const p=(...h)=>{p._d&&ra(-1);const f=ss(o);let w;try{w=i(...h)}finally{ss(f),p._d&&ra(1)}return w};return p._n=!0,p._c=!0,p._d=!0,p}function fo(i){const{type:o,vnode:a,proxy:p,withProxy:h,props:f,propsOptions:[w],slots:C,attrs:V,emit:T,render:A,renderCache:R,data:$,setupState:et,ctx:_t,inheritAttrs:F}=i;let gt,ft;const ot=ss(i);try{if(a.shapeFlag&4){const W=h||p;gt=Xe(A.call(W,W,R,f,et,$,_t)),ft=V}else{const W=o;gt=Xe(W.length>1?W(f,{attrs:V,slots:C,emit:T}):W(f,null)),ft=o.props?V:od(V)}}catch(W){pr.length=0,vs(W,i,1),gt=fe(si)}let tt=gt;if(ft&&F!==!1){const W=Object.keys(ft),{shapeFlag:te}=tt;W.length&&te&7&&(w&&W.some(Oo)&&(ft=ld(ft,w)),tt=Li(tt,ft))}return a.dirs&&(tt=Li(tt),tt.dirs=tt.dirs?tt.dirs.concat(a.dirs):a.dirs),a.transition&&(tt.transition=a.transition),gt=tt,ss(ot),gt}const od=i=>{let o;for(const a in i)(a==="class"||a==="style"||cs(a))&&((o||(o={}))[a]=i[a]);return o},ld=(i,o)=>{const a={};for(const p in i)(!Oo(p)||!(p.slice(9)in o))&&(a[p]=i[p]);return a};function ad(i,o,a){const{props:p,children:h,component:f}=i,{props:w,children:C,patchFlag:V}=o,T=f.emitsOptions;if(o.dirs||o.transition)return!0;if(a&&V>=0){if(V&1024)return!0;if(V&16)return p?Wl(p,w,T):!!w;if(V&8){const A=o.dynamicProps;for(let R=0;R<A.length;R++){const $=A[R];if(w[$]!==p[$]&&!fs(T,$))return!0}}}else return(h||C)&&(!C||!C.$stable)?!0:p===w?!1:p?w?Wl(p,w,T):!0:!!w;return!1}function Wl(i,o,a){const p=Object.keys(o);if(p.length!==Object.keys(i).length)return!0;for(let h=0;h<p.length;h++){const f=p[h];if(o[f]!==i[f]&&!fs(a,f))return!0}return!1}function cd({vnode:i,parent:o},a){for(;o&&o.subTree===i;)(i=o.vnode).el=a,o=o.parent}const ud=i=>i.__isSuspense;function pd(i,o){o&&o.pendingBranch?st(i)?o.effects.push(...i):o.effects.push(i):td(i)}function dd(i,o){if(jt){let a=jt.provides;const p=jt.parent&&jt.parent.provides;p===a&&(a=jt.provides=Object.create(p)),a[i]=o}}function ts(i,o,a=!1){const p=jt||ze;if(p){const h=p.parent==null?p.vnode.appContext&&p.vnode.appContext.provides:p.parent.provides;if(h&&i in h)return h[i];if(arguments.length>1)return a&&rt(o)?o.call(p.proxy):o}}const Zr={};function mo(i,o,a){return Fa(i,o,a)}function Fa(i,o,{immediate:a,deep:p,flush:h,onTrack:f,onTrigger:w}=Lt){const C=bp()===(jt==null?void 0:jt.scope)?jt:null;let V,T=!1,A=!1;if(Qt(i)?(V=()=>i.value,T=rs(i)):Ei(i)?(V=()=>i,p=!0):st(i)?(A=!0,T=i.some(tt=>Ei(tt)||rs(tt)),V=()=>i.map(tt=>{if(Qt(tt))return tt.value;if(Ei(tt))return yi(tt);if(rt(tt))return Sn(tt,C,2)})):rt(i)?o?V=()=>Sn(i,C,2):V=()=>{if(!(C&&C.isUnmounted))return R&&R(),Ke(i,C,3,[$])}:V=Fe,o&&p){const tt=V;V=()=>yi(tt())}let R,$=tt=>{R=ft.onStop=()=>{Sn(tt,C,4)}},et;if(gr)if($=Fe,o?a&&Ke(o,C,3,[V(),A?[]:void 0,$]):V(),h==="sync"){const tt=ah();et=tt.__watcherHandles||(tt.__watcherHandles=[])}else return Fe;let _t=A?new Array(i.length).fill(Zr):Zr;const F=()=>{if(!!ft.active)if(o){const tt=ft.run();(p||T||(A?tt.some((W,te)=>vr(W,_t[te])):vr(tt,_t)))&&(R&&R(),Ke(o,C,3,[tt,_t===Zr?void 0:A&&_t[0]===Zr?[]:_t,$]),_t=tt)}else ft.run()};F.allowRecurse=!!o;let gt;h==="sync"?gt=F:h==="post"?gt=()=>ve(F,C&&C.suspense):(F.pre=!0,C&&(F.id=C.uid),gt=()=>Yo(F));const ft=new jo(V,gt);o?a?F():_t=ft.run():h==="post"?ve(ft.run.bind(ft),C&&C.suspense):ft.run();const ot=()=>{ft.stop(),C&&C.scope&&No(C.scope.effects,ft)};return et&&et.push(ot),ot}function hd(i,o,a){const p=this.proxy,h=Jt(i)?i.includes(".")?Ka(p,i):()=>p[i]:i.bind(p,p);let f;rt(o)?f=o:(f=o.handler,a=o);const w=jt;Si(this);const C=Fa(h,f.bind(p),a);return w?Si(w):ri(),C}function Ka(i,o){const a=o.split(".");return()=>{let p=i;for(let h=0;h<a.length&&p;h++)p=p[a[h]];return p}}function yi(i,o){if(!Ft(i)||i.__v_skip||(o=o||new Set,o.has(i)))return i;if(o.add(i),Qt(i))yi(i.value,o);else if(st(i))for(let a=0;a<i.length;a++)yi(i[a],o);else if(lp(i)||cr(i))i.forEach(a=>{yi(a,o)});else if(up(i))for(const a in i)yi(i[a],o);return i}function Wo(i){return rt(i)?{setup:i,name:i.name}:i}const es=i=>!!i.type.__asyncLoader,$a=i=>i.type.__isKeepAlive;function vd(i,o){Ua(i,"a",o)}function fd(i,o){Ua(i,"da",o)}function Ua(i,o,a=jt){const p=i.__wdc||(i.__wdc=()=>{let h=a;for(;h;){if(h.isDeactivated)return;h=h.parent}return i()});if(bs(o,p,a),a){let h=a.parent;for(;h&&h.parent;)$a(h.parent.vnode)&&md(p,o,a,h),h=h.parent}}function md(i,o,a,p){const h=bs(o,i,p,!0);qa(()=>{No(p[o],h)},a)}function bs(i,o,a=jt,p=!1){if(a){const h=a[i]||(a[i]=[]),f=o.__weh||(o.__weh=(...w)=>{if(a.isUnmounted)return;Di(),Si(a);const C=Ke(o,a,i,w);return ri(),Ai(),C});return p?h.unshift(f):h.push(f),f}}const un=i=>(o,a=jt)=>(!gr||i==="sp")&&bs(i,(...p)=>o(...p),a),bd=un("bm"),Ha=un("m"),_d=un("bu"),gd=un("u"),wd=un("bum"),qa=un("um"),xd=un("sp"),Cd=un("rtg"),yd=un("rtc");function Pd(i,o=jt){bs("ec",i,o)}function Zn(i,o,a,p){const h=i.dirs,f=o&&o.dirs;for(let w=0;w<h.length;w++){const C=h[w];f&&(C.oldValue=f[w].value);let V=C.dir[p];V&&(Di(),Ke(V,a,8,[i.el,C,i,o]),Ai())}}const Ga="components";function Xl(i,o){return kd(Ga,i,!0,o)||i}const Ed=Symbol();function kd(i,o,a=!0,p=!1){const h=ze||jt;if(h){const f=h.type;if(i===Ga){const C=rh(f,!1);if(C&&(C===o||C===Ze(o)||C===ds(Ze(o))))return f}const w=Jl(h[i]||f[i],o)||Jl(h.appContext[i],o);return!w&&p?f:w}}function Jl(i,o){return i&&(i[o]||i[Ze(o)]||i[ds(Ze(o))])}const ko=i=>i?rc(i)?Qo(i)||i.proxy:ko(i.parent):null,ur=ae(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>ko(i.parent),$root:i=>ko(i.root),$emit:i=>i.emit,$options:i=>Xo(i),$forceUpdate:i=>i.f||(i.f=()=>Yo(i.update)),$nextTick:i=>i.n||(i.n=Na.bind(i.proxy)),$watch:i=>hd.bind(i)}),bo=(i,o)=>i!==Lt&&!i.__isScriptSetup&&dt(i,o),Vd={get({_:i},o){const{ctx:a,setupState:p,data:h,props:f,accessCache:w,type:C,appContext:V}=i;let T;if(o[0]!=="$"){const et=w[o];if(et!==void 0)switch(et){case 1:return p[o];case 2:return h[o];case 4:return a[o];case 3:return f[o]}else{if(bo(p,o))return w[o]=1,p[o];if(h!==Lt&&dt(h,o))return w[o]=2,h[o];if((T=i.propsOptions[0])&&dt(T,o))return w[o]=3,f[o];if(a!==Lt&&dt(a,o))return w[o]=4,a[o];Vo&&(w[o]=0)}}const A=ur[o];let R,$;if(A)return o==="$attrs"&&me(i,"get",o),A(i);if((R=C.__cssModules)&&(R=R[o]))return R;if(a!==Lt&&dt(a,o))return w[o]=4,a[o];if($=V.config.globalProperties,dt($,o))return $[o]},set({_:i},o,a){const{data:p,setupState:h,ctx:f}=i;return bo(h,o)?(h[o]=a,!0):p!==Lt&&dt(p,o)?(p[o]=a,!0):dt(i.props,o)||o[0]==="$"&&o.slice(1)in i?!1:(f[o]=a,!0)},has({_:{data:i,setupState:o,accessCache:a,ctx:p,appContext:h,propsOptions:f}},w){let C;return!!a[w]||i!==Lt&&dt(i,w)||bo(o,w)||(C=f[0])&&dt(C,w)||dt(p,w)||dt(ur,w)||dt(h.config.globalProperties,w)},defineProperty(i,o,a){return a.get!=null?i._.accessCache[o]=0:dt(a,"value")&&this.set(i,o,a.value,null),Reflect.defineProperty(i,o,a)}};let Vo=!0;function Md(i){const o=Xo(i),a=i.proxy,p=i.ctx;Vo=!1,o.beforeCreate&&Zl(o.beforeCreate,i,"bc");const{data:h,computed:f,methods:w,watch:C,provide:V,inject:T,created:A,beforeMount:R,mounted:$,beforeUpdate:et,updated:_t,activated:F,deactivated:gt,beforeDestroy:ft,beforeUnmount:ot,destroyed:tt,unmounted:W,render:te,renderTracked:De,renderTriggered:$t,errorCaptured:yt,serverPrefetch:Ut,expose:lt,inheritAttrs:be,components:Ee,directives:$e,filters:It}=o;if(T&&Ld(T,p,null,i.appContext.config.unwrapInjectedRef),w)for(const Z in w){const H=w[Z];rt(H)&&(p[Z]=H.bind(a))}if(h){const Z=h.call(a,a);Ft(Z)&&(i.data=Uo(Z))}if(Vo=!0,f)for(const Z in f){const H=f[Z],ee=rt(H)?H.bind(a,a):rt(H.get)?H.get.bind(a,a):Fe,ge=!rt(H)&&rt(H.set)?H.set.bind(a):Fe,we=oh({get:ee,set:ge});Object.defineProperty(p,Z,{enumerable:!0,configurable:!0,get:()=>we.value,set:Pt=>we.value=Pt})}if(C)for(const Z in C)Ya(C[Z],p,a,Z);if(V){const Z=rt(V)?V.call(a):V;Reflect.ownKeys(Z).forEach(H=>{dd(H,Z[H])})}A&&Zl(A,i,"c");function xt(Z,H){st(H)?H.forEach(ee=>Z(ee.bind(a))):H&&Z(H.bind(a))}if(xt(bd,R),xt(Ha,$),xt(_d,et),xt(gd,_t),xt(vd,F),xt(fd,gt),xt(Pd,yt),xt(yd,De),xt(Cd,$t),xt(wd,ot),xt(qa,W),xt(xd,Ut),st(lt))if(lt.length){const Z=i.exposed||(i.exposed={});lt.forEach(H=>{Object.defineProperty(Z,H,{get:()=>a[H],set:ee=>a[H]=ee})})}else i.exposed||(i.exposed={});te&&i.render===Fe&&(i.render=te),be!=null&&(i.inheritAttrs=be),Ee&&(i.components=Ee),$e&&(i.directives=$e)}function Ld(i,o,a=Fe,p=!1){st(i)&&(i=Mo(i));for(const h in i){const f=i[h];let w;Ft(f)?"default"in f?w=ts(f.from||h,f.default,!0):w=ts(f.from||h):w=ts(f),Qt(w)&&p?Object.defineProperty(o,h,{enumerable:!0,configurable:!0,get:()=>w.value,set:C=>w.value=C}):o[h]=w}}function Zl(i,o,a){Ke(st(i)?i.map(p=>p.bind(o.proxy)):i.bind(o.proxy),o,a)}function Ya(i,o,a,p){const h=p.includes(".")?Ka(a,p):()=>a[p];if(Jt(i)){const f=o[i];rt(f)&&mo(h,f)}else if(rt(i))mo(h,i.bind(a));else if(Ft(i))if(st(i))i.forEach(f=>Ya(f,o,a,p));else{const f=rt(i.handler)?i.handler.bind(a):o[i.handler];rt(f)&&mo(h,f,i)}}function Xo(i){const o=i.type,{mixins:a,extends:p}=o,{mixins:h,optionsCache:f,config:{optionMergeStrategies:w}}=i.appContext,C=f.get(o);let V;return C?V=C:!h.length&&!a&&!p?V=o:(V={},h.length&&h.forEach(T=>os(V,T,w,!0)),os(V,o,w)),Ft(o)&&f.set(o,V),V}function os(i,o,a,p=!1){const{mixins:h,extends:f}=o;f&&os(i,f,a,!0),h&&h.forEach(w=>os(i,w,a,!0));for(const w in o)if(!(p&&w==="expose")){const C=Sd[w]||a&&a[w];i[w]=C?C(i[w],o[w]):o[w]}return i}const Sd={data:Ql,props:ti,emits:ti,methods:ti,computed:ti,beforeCreate:le,created:le,beforeMount:le,mounted:le,beforeUpdate:le,updated:le,beforeDestroy:le,beforeUnmount:le,destroyed:le,unmounted:le,activated:le,deactivated:le,errorCaptured:le,serverPrefetch:le,components:ti,directives:ti,watch:Dd,provide:Ql,inject:Td};function Ql(i,o){return o?i?function(){return ae(rt(i)?i.call(this,this):i,rt(o)?o.call(this,this):o)}:o:i}function Td(i,o){return ti(Mo(i),Mo(o))}function Mo(i){if(st(i)){const o={};for(let a=0;a<i.length;a++)o[i[a]]=i[a];return o}return i}function le(i,o){return i?[...new Set([].concat(i,o))]:o}function ti(i,o){return i?ae(ae(Object.create(null),i),o):o}function Dd(i,o){if(!i)return o;if(!o)return i;const a=ae(Object.create(null),i);for(const p in o)a[p]=le(i[p],o[p]);return a}function Ad(i,o,a,p=!1){const h={},f={};is(f,gs,1),i.propsDefaults=Object.create(null),Wa(i,o,h,f);for(const w in i.propsOptions[0])w in h||(h[w]=void 0);a?i.props=p?h:Up(h):i.type.props?i.props=h:i.props=f,i.attrs=f}function Rd(i,o,a,p){const{props:h,attrs:f,vnode:{patchFlag:w}}=i,C=bt(h),[V]=i.propsOptions;let T=!1;if((p||w>0)&&!(w&16)){if(w&8){const A=i.vnode.dynamicProps;for(let R=0;R<A.length;R++){let $=A[R];if(fs(i.emitsOptions,$))continue;const et=o[$];if(V)if(dt(f,$))et!==f[$]&&(f[$]=et,T=!0);else{const _t=Ze($);h[_t]=Lo(V,C,_t,et,i,!1)}else et!==f[$]&&(f[$]=et,T=!0)}}}else{Wa(i,o,h,f)&&(T=!0);let A;for(const R in C)(!o||!dt(o,R)&&((A=Ti(R))===R||!dt(o,A)))&&(V?a&&(a[R]!==void 0||a[A]!==void 0)&&(h[R]=Lo(V,C,R,void 0,i,!0)):delete h[R]);if(f!==C)for(const R in f)(!o||!dt(o,R)&&!0)&&(delete f[R],T=!0)}T&&cn(i,"set","$attrs")}function Wa(i,o,a,p){const[h,f]=i.propsOptions;let w=!1,C;if(o)for(let V in o){if(Qr(V))continue;const T=o[V];let A;h&&dt(h,A=Ze(V))?!f||!f.includes(A)?a[A]=T:(C||(C={}))[A]=T:fs(i.emitsOptions,V)||(!(V in p)||T!==p[V])&&(p[V]=T,w=!0)}if(f){const V=bt(a),T=C||Lt;for(let A=0;A<f.length;A++){const R=f[A];a[R]=Lo(h,V,R,T[R],i,!dt(T,R))}}return w}function Lo(i,o,a,p,h,f){const w=i[a];if(w!=null){const C=dt(w,"default");if(C&&p===void 0){const V=w.default;if(w.type!==Function&&rt(V)){const{propsDefaults:T}=h;a in T?p=T[a]:(Si(h),p=T[a]=V.call(null,o),ri())}else p=V}w[0]&&(f&&!C?p=!1:w[1]&&(p===""||p===Ti(a))&&(p=!0))}return p}function Xa(i,o,a=!1){const p=o.propsCache,h=p.get(i);if(h)return h;const f=i.props,w={},C=[];let V=!1;if(!rt(i)){const A=R=>{V=!0;const[$,et]=Xa(R,o,!0);ae(w,$),et&&C.push(...et)};!a&&o.mixins.length&&o.mixins.forEach(A),i.extends&&A(i.extends),i.mixins&&i.mixins.forEach(A)}if(!f&&!V)return Ft(i)&&p.set(i,Pi),Pi;if(st(f))for(let A=0;A<f.length;A++){const R=Ze(f[A]);ta(R)&&(w[R]=Lt)}else if(f)for(const A in f){const R=Ze(A);if(ta(R)){const $=f[A],et=w[R]=st($)||rt($)?{type:$}:Object.assign({},$);if(et){const _t=ia(Boolean,et.type),F=ia(String,et.type);et[0]=_t>-1,et[1]=F<0||_t<F,(_t>-1||dt(et,"default"))&&C.push(R)}}}const T=[w,C];return Ft(i)&&p.set(i,T),T}function ta(i){return i[0]!=="$"}function ea(i){const o=i&&i.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:i===null?"null":""}function na(i,o){return ea(i)===ea(o)}function ia(i,o){return st(o)?o.findIndex(a=>na(a,i)):rt(o)&&na(o,i)?0:-1}const Ja=i=>i[0]==="_"||i==="$stable",Jo=i=>st(i)?i.map(Xe):[Xe(i)],Od=(i,o,a)=>{if(o._n)return o;const p=sd((...h)=>Jo(o(...h)),a);return p._c=!1,p},Za=(i,o,a)=>{const p=i._ctx;for(const h in i){if(Ja(h))continue;const f=i[h];if(rt(f))o[h]=Od(h,f,p);else if(f!=null){const w=Jo(f);o[h]=()=>w}}},Qa=(i,o)=>{const a=Jo(o);i.slots.default=()=>a},Nd=(i,o)=>{if(i.vnode.shapeFlag&32){const a=o._;a?(i.slots=bt(o),is(o,"_",a)):Za(o,i.slots={})}else i.slots={},o&&Qa(i,o);is(i.slots,gs,1)},Id=(i,o,a)=>{const{vnode:p,slots:h}=i;let f=!0,w=Lt;if(p.shapeFlag&32){const C=o._;C?a&&C===1?f=!1:(ae(h,o),!a&&C===1&&delete h._):(f=!o.$stable,Za(o,h)),w=o}else o&&(Qa(i,o),w={default:1});if(f)for(const C in h)!Ja(C)&&!(C in w)&&delete h[C]};function tc(){return{app:null,config:{isNativeTag:rp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bd=0;function zd(i,o){return function(p,h=null){rt(p)||(p=Object.assign({},p)),h!=null&&!Ft(h)&&(h=null);const f=tc(),w=new Set;let C=!1;const V=f.app={_uid:Bd++,_component:p,_props:h,_container:null,_context:f,_instance:null,version:ch,get config(){return f.config},set config(T){},use(T,...A){return w.has(T)||(T&&rt(T.install)?(w.add(T),T.install(V,...A)):rt(T)&&(w.add(T),T(V,...A))),V},mixin(T){return f.mixins.includes(T)||f.mixins.push(T),V},component(T,A){return A?(f.components[T]=A,V):f.components[T]},directive(T,A){return A?(f.directives[T]=A,V):f.directives[T]},mount(T,A,R){if(!C){const $=fe(p,h);return $.appContext=f,A&&o?o($,T):i($,T,R),C=!0,V._container=T,T.__vue_app__=V,Qo($.component)||$.component.proxy}},unmount(){C&&(i(null,V._container),delete V._container.__vue_app__)},provide(T,A){return f.provides[T]=A,V}};return V}}function So(i,o,a,p,h=!1){if(st(i)){i.forEach(($,et)=>So($,o&&(st(o)?o[et]:o),a,p,h));return}if(es(p)&&!h)return;const f=p.shapeFlag&4?Qo(p.component)||p.component.proxy:p.el,w=h?null:f,{i:C,r:V}=i,T=o&&o.r,A=C.refs===Lt?C.refs={}:C.refs,R=C.setupState;if(T!=null&&T!==V&&(Jt(T)?(A[T]=null,dt(R,T)&&(R[T]=null)):Qt(T)&&(T.value=null)),rt(V))Sn(V,C,12,[w,A]);else{const $=Jt(V),et=Qt(V);if($||et){const _t=()=>{if(i.f){const F=$?dt(R,V)?R[V]:A[V]:V.value;h?st(F)&&No(F,f):st(F)?F.includes(f)||F.push(f):$?(A[V]=[f],dt(R,V)&&(R[V]=A[V])):(V.value=[f],i.k&&(A[i.k]=V.value))}else $?(A[V]=w,dt(R,V)&&(R[V]=w)):et&&(V.value=w,i.k&&(A[i.k]=w))};w?(_t.id=-1,ve(_t,a)):_t()}}}const ve=pd;function jd(i){return Fd(i)}function Fd(i,o){const a=vp();a.__VUE__=!0;const{insert:p,remove:h,patchProp:f,createElement:w,createText:C,createComment:V,setText:T,setElementText:A,parentNode:R,nextSibling:$,setScopeId:et=Fe,insertStaticContent:_t}=i,F=(x,P,M,D=null,S=null,N=null,U=!1,I=null,K=!!P.dynamicChildren)=>{if(x===P)return;x&&!lr(x,P)&&(D=Ae(x),Pt(x,S,N,!0),x=null),P.patchFlag===-2&&(K=!1,P.dynamicChildren=null);const{type:O,ref:Y,shapeFlag:q}=P;switch(O){case _s:gt(x,P,M,D);break;case si:ft(x,P,M,D);break;case _o:x==null&&ot(P,M,D,U);break;case We:Ee(x,P,M,D,S,N,U,I,K);break;default:q&1?te(x,P,M,D,S,N,U,I,K):q&6?$e(x,P,M,D,S,N,U,I,K):(q&64||q&128)&&O.process(x,P,M,D,S,N,U,I,K,ie)}Y!=null&&S&&So(Y,x&&x.ref,N,P||x,!P)},gt=(x,P,M,D)=>{if(x==null)p(P.el=C(P.children),M,D);else{const S=P.el=x.el;P.children!==x.children&&T(S,P.children)}},ft=(x,P,M,D)=>{x==null?p(P.el=V(P.children||""),M,D):P.el=x.el},ot=(x,P,M,D)=>{[x.el,x.anchor]=_t(x.children,P,M,D,x.el,x.anchor)},tt=({el:x,anchor:P},M,D)=>{let S;for(;x&&x!==P;)S=$(x),p(x,M,D),x=S;p(P,M,D)},W=({el:x,anchor:P})=>{let M;for(;x&&x!==P;)M=$(x),h(x),x=M;h(P)},te=(x,P,M,D,S,N,U,I,K)=>{U=U||P.type==="svg",x==null?De(P,M,D,S,N,U,I,K):Ut(x,P,S,N,U,I,K)},De=(x,P,M,D,S,N,U,I)=>{let K,O;const{type:Y,props:q,shapeFlag:G,transition:J,dirs:nt}=x;if(K=x.el=w(x.type,N,q&&q.is,q),G&8?A(K,x.children):G&16&&yt(x.children,K,null,D,S,N&&Y!=="foreignObject",U,I),nt&&Zn(x,null,D,"created"),$t(K,x,x.scopeId,U,D),q){for(const ct in q)ct!=="value"&&!Qr(ct)&&f(K,ct,null,q[ct],N,x.children,D,S,Ht);"value"in q&&f(K,"value",null,q.value),(O=q.onVnodeBeforeMount)&&Ye(O,D,x)}nt&&Zn(x,null,D,"beforeMount");const ut=(!S||S&&!S.pendingBranch)&&J&&!J.persisted;ut&&J.beforeEnter(K),p(K,P,M),((O=q&&q.onVnodeMounted)||ut||nt)&&ve(()=>{O&&Ye(O,D,x),ut&&J.enter(K),nt&&Zn(x,null,D,"mounted")},S)},$t=(x,P,M,D,S)=>{if(M&&et(x,M),D)for(let N=0;N<D.length;N++)et(x,D[N]);if(S){let N=S.subTree;if(P===N){const U=S.vnode;$t(x,U,U.scopeId,U.slotScopeIds,S.parent)}}},yt=(x,P,M,D,S,N,U,I,K=0)=>{for(let O=K;O<x.length;O++){const Y=x[O]=I?Mn(x[O]):Xe(x[O]);F(null,Y,P,M,D,S,N,U,I)}},Ut=(x,P,M,D,S,N,U)=>{const I=P.el=x.el;let{patchFlag:K,dynamicChildren:O,dirs:Y}=P;K|=x.patchFlag&16;const q=x.props||Lt,G=P.props||Lt;let J;M&&Qn(M,!1),(J=G.onVnodeBeforeUpdate)&&Ye(J,M,P,x),Y&&Zn(P,x,M,"beforeUpdate"),M&&Qn(M,!0);const nt=S&&P.type!=="foreignObject";if(O?lt(x.dynamicChildren,O,I,M,D,nt,N):U||H(x,P,I,null,M,D,nt,N,!1),K>0){if(K&16)be(I,P,q,G,M,D,S);else if(K&2&&q.class!==G.class&&f(I,"class",null,G.class,S),K&4&&f(I,"style",q.style,G.style,S),K&8){const ut=P.dynamicProps;for(let ct=0;ct<ut.length;ct++){const ht=ut[ct],St=q[ht],Et=G[ht];(Et!==St||ht==="value")&&f(I,ht,St,Et,S,x.children,M,D,Ht)}}K&1&&x.children!==P.children&&A(I,P.children)}else!U&&O==null&&be(I,P,q,G,M,D,S);((J=G.onVnodeUpdated)||Y)&&ve(()=>{J&&Ye(J,M,P,x),Y&&Zn(P,x,M,"updated")},D)},lt=(x,P,M,D,S,N,U)=>{for(let I=0;I<P.length;I++){const K=x[I],O=P[I],Y=K.el&&(K.type===We||!lr(K,O)||K.shapeFlag&70)?R(K.el):M;F(K,O,Y,null,D,S,N,U,!0)}},be=(x,P,M,D,S,N,U)=>{if(M!==D){if(M!==Lt)for(const I in M)!Qr(I)&&!(I in D)&&f(x,I,M[I],null,U,P.children,S,N,Ht);for(const I in D){if(Qr(I))continue;const K=D[I],O=M[I];K!==O&&I!=="value"&&f(x,I,O,K,U,P.children,S,N,Ht)}"value"in D&&f(x,"value",M.value,D.value)}},Ee=(x,P,M,D,S,N,U,I,K)=>{const O=P.el=x?x.el:C(""),Y=P.anchor=x?x.anchor:C("");let{patchFlag:q,dynamicChildren:G,slotScopeIds:J}=P;J&&(I=I?I.concat(J):J),x==null?(p(O,M,D),p(Y,M,D),yt(P.children,M,Y,S,N,U,I,K)):q>0&&q&64&&G&&x.dynamicChildren?(lt(x.dynamicChildren,G,M,S,N,U,I),(P.key!=null||S&&P===S.subTree)&&ec(x,P,!0)):H(x,P,M,Y,S,N,U,I,K)},$e=(x,P,M,D,S,N,U,I,K)=>{P.slotScopeIds=I,x==null?P.shapeFlag&512?S.ctx.activate(P,M,D,U,K):It(P,M,D,S,N,U,K):_e(x,P,K)},It=(x,P,M,D,S,N,U)=>{const I=x.component=Qd(x,D,S);if($a(x)&&(I.ctx.renderer=ie),th(I),I.asyncDep){if(S&&S.registerDep(I,xt),!x.el){const K=I.subTree=fe(si);ft(null,K,P,M)}return}xt(I,x,P,M,S,N,U)},_e=(x,P,M)=>{const D=P.component=x.component;if(ad(x,P,M))if(D.asyncDep&&!D.asyncResolved){Z(D,P,M);return}else D.next=P,Qp(D.update),D.update();else P.el=x.el,D.vnode=P},xt=(x,P,M,D,S,N,U)=>{const I=()=>{if(x.isMounted){let{next:Y,bu:q,u:G,parent:J,vnode:nt}=x,ut=Y,ct;Qn(x,!1),Y?(Y.el=nt.el,Z(x,Y,U)):Y=nt,q&&vo(q),(ct=Y.props&&Y.props.onVnodeBeforeUpdate)&&Ye(ct,J,Y,nt),Qn(x,!0);const ht=fo(x),St=x.subTree;x.subTree=ht,F(St,ht,R(St.el),Ae(St),x,S,N),Y.el=ht.el,ut===null&&cd(x,ht.el),G&&ve(G,S),(ct=Y.props&&Y.props.onVnodeUpdated)&&ve(()=>Ye(ct,J,Y,nt),S)}else{let Y;const{el:q,props:G}=P,{bm:J,m:nt,parent:ut}=x,ct=es(P);if(Qn(x,!1),J&&vo(J),!ct&&(Y=G&&G.onVnodeBeforeMount)&&Ye(Y,ut,P),Qn(x,!0),q&&qt){const ht=()=>{x.subTree=fo(x),qt(q,x.subTree,x,S,null)};ct?P.type.__asyncLoader().then(()=>!x.isUnmounted&&ht()):ht()}else{const ht=x.subTree=fo(x);F(null,ht,M,D,x,S,N),P.el=ht.el}if(nt&&ve(nt,S),!ct&&(Y=G&&G.onVnodeMounted)){const ht=P;ve(()=>Ye(Y,ut,ht),S)}(P.shapeFlag&256||ut&&es(ut.vnode)&&ut.vnode.shapeFlag&256)&&x.a&&ve(x.a,S),x.isMounted=!0,P=M=D=null}},K=x.effect=new jo(I,()=>Yo(O),x.scope),O=x.update=()=>K.run();O.id=x.uid,Qn(x,!0),O()},Z=(x,P,M)=>{P.component=x;const D=x.vnode.props;x.vnode=P,x.next=null,Rd(x,P.props,D,M),Id(x,P.children,M),Di(),Yl(),Ai()},H=(x,P,M,D,S,N,U,I,K=!1)=>{const O=x&&x.children,Y=x?x.shapeFlag:0,q=P.children,{patchFlag:G,shapeFlag:J}=P;if(G>0){if(G&128){ge(O,q,M,D,S,N,U,I,K);return}else if(G&256){ee(O,q,M,D,S,N,U,I,K);return}}J&8?(Y&16&&Ht(O,S,N),q!==O&&A(M,q)):Y&16?J&16?ge(O,q,M,D,S,N,U,I,K):Ht(O,S,N,!0):(Y&8&&A(M,""),J&16&&yt(q,M,D,S,N,U,I,K))},ee=(x,P,M,D,S,N,U,I,K)=>{x=x||Pi,P=P||Pi;const O=x.length,Y=P.length,q=Math.min(O,Y);let G;for(G=0;G<q;G++){const J=P[G]=K?Mn(P[G]):Xe(P[G]);F(x[G],J,M,null,S,N,U,I,K)}O>Y?Ht(x,S,N,!0,!1,q):yt(P,M,D,S,N,U,I,K,q)},ge=(x,P,M,D,S,N,U,I,K)=>{let O=0;const Y=P.length;let q=x.length-1,G=Y-1;for(;O<=q&&O<=G;){const J=x[O],nt=P[O]=K?Mn(P[O]):Xe(P[O]);if(lr(J,nt))F(J,nt,M,null,S,N,U,I,K);else break;O++}for(;O<=q&&O<=G;){const J=x[q],nt=P[G]=K?Mn(P[G]):Xe(P[G]);if(lr(J,nt))F(J,nt,M,null,S,N,U,I,K);else break;q--,G--}if(O>q){if(O<=G){const J=G+1,nt=J<Y?P[J].el:D;for(;O<=G;)F(null,P[O]=K?Mn(P[O]):Xe(P[O]),M,nt,S,N,U,I,K),O++}}else if(O>G)for(;O<=q;)Pt(x[O],S,N,!0),O++;else{const J=O,nt=O,ut=new Map;for(O=nt;O<=G;O++){const Mt=P[O]=K?Mn(P[O]):Xe(P[O]);Mt.key!=null&&ut.set(Mt.key,O)}let ct,ht=0;const St=G-nt+1;let Et=!1,ke=0;const re=new Array(St);for(O=0;O<St;O++)re[O]=0;for(O=J;O<=q;O++){const Mt=x[O];if(ht>=St){Pt(Mt,S,N,!0);continue}let At;if(Mt.key!=null)At=ut.get(Mt.key);else for(ct=nt;ct<=G;ct++)if(re[ct-nt]===0&&lr(Mt,P[ct])){At=ct;break}At===void 0?Pt(Mt,S,N,!0):(re[At-nt]=O+1,At>=ke?ke=At:Et=!0,F(Mt,P[At],M,null,S,N,U,I,K),ht++)}const Qe=Et?Kd(re):Pi;for(ct=Qe.length-1,O=St-1;O>=0;O--){const Mt=nt+O,At=P[Mt],xe=Mt+1<Y?P[Mt+1].el:D;re[O]===0?F(null,At,M,xe,S,N,U,I,K):Et&&(ct<0||O!==Qe[ct]?we(At,M,xe,2):ct--)}}},we=(x,P,M,D,S=null)=>{const{el:N,type:U,transition:I,children:K,shapeFlag:O}=x;if(O&6){we(x.component.subTree,P,M,D);return}if(O&128){x.suspense.move(P,M,D);return}if(O&64){U.move(x,P,M,ie);return}if(U===We){p(N,P,M);for(let q=0;q<K.length;q++)we(K[q],P,M,D);p(x.anchor,P,M);return}if(U===_o){tt(x,P,M);return}if(D!==2&&O&1&&I)if(D===0)I.beforeEnter(N),p(N,P,M),ve(()=>I.enter(N),S);else{const{leave:q,delayLeave:G,afterLeave:J}=I,nt=()=>p(N,P,M),ut=()=>{q(N,()=>{nt(),J&&J()})};G?G(N,nt,ut):ut()}else p(N,P,M)},Pt=(x,P,M,D=!1,S=!1)=>{const{type:N,props:U,ref:I,children:K,dynamicChildren:O,shapeFlag:Y,patchFlag:q,dirs:G}=x;if(I!=null&&So(I,null,M,x,!0),Y&256){P.ctx.deactivate(x);return}const J=Y&1&&G,nt=!es(x);let ut;if(nt&&(ut=U&&U.onVnodeBeforeUnmount)&&Ye(ut,P,x),Y&6)Vt(x.component,M,D);else{if(Y&128){x.suspense.unmount(M,D);return}J&&Zn(x,null,P,"beforeUnmount"),Y&64?x.type.remove(x,P,M,S,ie,D):O&&(N!==We||q>0&&q&64)?Ht(O,P,M,!1,!0):(N===We&&q&384||!S&&Y&16)&&Ht(K,P,M),D&&ne(x)}(nt&&(ut=U&&U.onVnodeUnmounted)||J)&&ve(()=>{ut&&Ye(ut,P,x),J&&Zn(x,null,P,"unmounted")},M)},ne=x=>{const{type:P,el:M,anchor:D,transition:S}=x;if(P===We){wt(M,D);return}if(P===_o){W(x);return}const N=()=>{h(M),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(x.shapeFlag&1&&S&&!S.persisted){const{leave:U,delayLeave:I}=S,K=()=>U(M,N);I?I(x.el,N,K):K()}else N()},wt=(x,P)=>{let M;for(;x!==P;)M=$(x),h(x),x=M;h(P)},Vt=(x,P,M)=>{const{bum:D,scope:S,update:N,subTree:U,um:I}=x;D&&vo(D),S.stop(),N&&(N.active=!1,Pt(U,x,P,M)),I&&ve(I,P),ve(()=>{x.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Ht=(x,P,M,D=!1,S=!1,N=0)=>{for(let U=N;U<x.length;U++)Pt(x[U],P,M,D,S)},Ae=x=>x.shapeFlag&6?Ae(x.component.subTree):x.shapeFlag&128?x.suspense.next():$(x.anchor||x.el),Dt=(x,P,M)=>{x==null?P._vnode&&Pt(P._vnode,null,null,!0):F(P._vnode||null,x,P,null,null,null,M),Yl(),Ba(),P._vnode=x},ie={p:F,um:Pt,m:we,r:ne,mt:It,mc:yt,pc:H,pbc:lt,n:Ae,o:i};let Ue,qt;return o&&([Ue,qt]=o(ie)),{render:Dt,hydrate:Ue,createApp:zd(Dt,Ue)}}function Qn({effect:i,update:o},a){i.allowRecurse=o.allowRecurse=a}function ec(i,o,a=!1){const p=i.children,h=o.children;if(st(p)&&st(h))for(let f=0;f<p.length;f++){const w=p[f];let C=h[f];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=h[f]=Mn(h[f]),C.el=w.el),a||ec(w,C)),C.type===_s&&(C.el=w.el)}}function Kd(i){const o=i.slice(),a=[0];let p,h,f,w,C;const V=i.length;for(p=0;p<V;p++){const T=i[p];if(T!==0){if(h=a[a.length-1],i[h]<T){o[p]=h,a.push(p);continue}for(f=0,w=a.length-1;f<w;)C=f+w>>1,i[a[C]]<T?f=C+1:w=C;T<i[a[f]]&&(f>0&&(o[p]=a[f-1]),a[f]=p)}}for(f=a.length,w=a[f-1];f-- >0;)a[f]=w,w=o[w];return a}const $d=i=>i.__isTeleport,We=Symbol(void 0),_s=Symbol(void 0),si=Symbol(void 0),_o=Symbol(void 0),pr=[];let je=null;function Vi(i=!1){pr.push(je=i?null:[])}function Ud(){pr.pop(),je=pr[pr.length-1]||null}let _r=1;function ra(i){_r+=i}function nc(i){return i.dynamicChildren=_r>0?je||Pi:null,Ud(),_r>0&&je&&je.push(i),i}function dr(i,o,a,p,h,f){return nc(Pe(i,o,a,p,h,f,!0))}function Hd(i,o,a,p,h){return nc(fe(i,o,a,p,h,!0))}function qd(i){return i?i.__v_isVNode===!0:!1}function lr(i,o){return i.type===o.type&&i.key===o.key}const gs="__vInternal",ic=({key:i})=>i!=null?i:null,ns=({ref:i,ref_key:o,ref_for:a})=>i!=null?Jt(i)||Qt(i)||rt(i)?{i:ze,r:i,k:o,f:!!a}:i:null;function Pe(i,o=null,a=null,p=0,h=null,f=i===We?0:1,w=!1,C=!1){const V={__v_isVNode:!0,__v_skip:!0,type:i,props:o,key:o&&ic(o),ref:o&&ns(o),scopeId:ms,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:p,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:ze};return C?(Zo(V,a),f&128&&i.normalize(V)):a&&(V.shapeFlag|=Jt(a)?8:16),_r>0&&!w&&je&&(V.patchFlag>0||f&6)&&V.patchFlag!==32&&je.push(V),V}const fe=Gd;function Gd(i,o=null,a=null,p=0,h=null,f=!1){if((!i||i===Ed)&&(i=si),qd(i)){const C=Li(i,o,!0);return a&&Zo(C,a),_r>0&&!f&&je&&(C.shapeFlag&6?je[je.indexOf(i)]=C:je.push(C)),C.patchFlag|=-2,C}if(sh(i)&&(i=i.__vccOpts),o){o=Yd(o);let{class:C,style:V}=o;C&&!Jt(C)&&(o.class=Ro(C)),Ft(V)&&(La(V)&&!st(V)&&(V=ae({},V)),o.style=hr(V))}const w=Jt(i)?1:ud(i)?128:$d(i)?64:Ft(i)?4:rt(i)?2:0;return Pe(i,o,a,p,h,w,f,!0)}function Yd(i){return i?La(i)||gs in i?ae({},i):i:null}function Li(i,o,a=!1){const{props:p,ref:h,patchFlag:f,children:w}=i,C=o?Xd(p||{},o):p;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:C,key:C&&ic(C),ref:o&&o.ref?a&&h?st(h)?h.concat(ns(o)):[h,ns(o)]:ns(o):h,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:w,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:o&&i.type!==We?f===-1?16:f|16:f,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Li(i.ssContent),ssFallback:i.ssFallback&&Li(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function Wd(i=" ",o=0){return fe(_s,null,i,o)}function sa(i="",o=!1){return o?(Vi(),Hd(si,null,i)):fe(si,null,i)}function Xe(i){return i==null||typeof i=="boolean"?fe(si):st(i)?fe(We,null,i.slice()):typeof i=="object"?Mn(i):fe(_s,null,String(i))}function Mn(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Li(i)}function Zo(i,o){let a=0;const{shapeFlag:p}=i;if(o==null)o=null;else if(st(o))a=16;else if(typeof o=="object")if(p&65){const h=o.default;h&&(h._c&&(h._d=!1),Zo(i,h()),h._c&&(h._d=!0));return}else{a=32;const h=o._;!h&&!(gs in o)?o._ctx=ze:h===3&&ze&&(ze.slots._===1?o._=1:(o._=2,i.patchFlag|=1024))}else rt(o)?(o={default:o,_ctx:ze},a=32):(o=String(o),p&64?(a=16,o=[Wd(o)]):a=8);i.children=o,i.shapeFlag|=a}function Xd(...i){const o={};for(let a=0;a<i.length;a++){const p=i[a];for(const h in p)if(h==="class")o.class!==p.class&&(o.class=Ro([o.class,p.class]));else if(h==="style")o.style=hr([o.style,p.style]);else if(cs(h)){const f=o[h],w=p[h];w&&f!==w&&!(st(f)&&f.includes(w))&&(o[h]=f?[].concat(f,w):w)}else h!==""&&(o[h]=p[h])}return o}function Ye(i,o,a,p=null){Ke(i,o,7,[a,p])}const Jd=tc();let Zd=0;function Qd(i,o,a){const p=i.type,h=(o?o.appContext:i.appContext)||Jd,f={uid:Zd++,vnode:i,type:p,parent:o,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new fp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xa(p,h),emitsOptions:ja(p,h),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:p.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=o?o.root:f,f.emit=nd.bind(null,f),i.ce&&i.ce(f),f}let jt=null;const Si=i=>{jt=i,i.scope.on()},ri=()=>{jt&&jt.scope.off(),jt=null};function rc(i){return i.vnode.shapeFlag&4}let gr=!1;function th(i,o=!1){gr=o;const{props:a,children:p}=i.vnode,h=rc(i);Ad(i,a,h,o),Nd(i,p);const f=h?eh(i,o):void 0;return gr=!1,f}function eh(i,o){const a=i.type;i.accessCache=Object.create(null),i.proxy=Sa(new Proxy(i.ctx,Vd));const{setup:p}=a;if(p){const h=i.setupContext=p.length>1?ih(i):null;Si(i),Di();const f=Sn(p,i,0,[i.props,h]);if(Ai(),ri(),ba(f)){if(f.then(ri,ri),o)return f.then(w=>{oa(i,w,o)}).catch(w=>{vs(w,i,0)});i.asyncDep=f}else oa(i,f,o)}else sc(i,o)}function oa(i,o,a){rt(o)?i.type.__ssrInlineRender?i.ssrRender=o:i.render=o:Ft(o)&&(i.setupState=Aa(o)),sc(i,a)}let la;function sc(i,o,a){const p=i.type;if(!i.render){if(!o&&la&&!p.render){const h=p.template||Xo(i).template;if(h){const{isCustomElement:f,compilerOptions:w}=i.appContext.config,{delimiters:C,compilerOptions:V}=p,T=ae(ae({isCustomElement:f,delimiters:C},w),V);p.render=la(h,T)}}i.render=p.render||Fe}Si(i),Di(),Md(i),Ai(),ri()}function nh(i){return new Proxy(i.attrs,{get(o,a){return me(i,"get","$attrs"),o[a]}})}function ih(i){const o=p=>{i.exposed=p||{}};let a;return{get attrs(){return a||(a=nh(i))},slots:i.slots,emit:i.emit,expose:o}}function Qo(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Aa(Sa(i.exposed)),{get(o,a){if(a in o)return o[a];if(a in ur)return ur[a](i)},has(o,a){return a in o||a in ur}}))}function rh(i,o=!0){return rt(i)?i.displayName||i.name:i.name||o&&i.__name}function sh(i){return rt(i)&&"__vccOpts"in i}const oh=(i,o)=>Xp(i,o,gr),lh=Symbol(""),ah=()=>ts(lh),ch="3.2.47",uh="http://www.w3.org/2000/svg",ni=typeof document<"u"?document:null,aa=ni&&ni.createElement("template"),ph={insert:(i,o,a)=>{o.insertBefore(i,a||null)},remove:i=>{const o=i.parentNode;o&&o.removeChild(i)},createElement:(i,o,a,p)=>{const h=o?ni.createElementNS(uh,i):ni.createElement(i,a?{is:a}:void 0);return i==="select"&&p&&p.multiple!=null&&h.setAttribute("multiple",p.multiple),h},createText:i=>ni.createTextNode(i),createComment:i=>ni.createComment(i),setText:(i,o)=>{i.nodeValue=o},setElementText:(i,o)=>{i.textContent=o},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>ni.querySelector(i),setScopeId(i,o){i.setAttribute(o,"")},insertStaticContent(i,o,a,p,h,f){const w=a?a.previousSibling:o.lastChild;if(h&&(h===f||h.nextSibling))for(;o.insertBefore(h.cloneNode(!0),a),!(h===f||!(h=h.nextSibling)););else{aa.innerHTML=p?`<svg>${i}</svg>`:i;const C=aa.content;if(p){const V=C.firstChild;for(;V.firstChild;)C.appendChild(V.firstChild);C.removeChild(V)}o.insertBefore(C,a)}return[w?w.nextSibling:o.firstChild,a?a.previousSibling:o.lastChild]}};function dh(i,o,a){const p=i._vtc;p&&(o=(o?[o,...p]:[...p]).join(" ")),o==null?i.removeAttribute("class"):a?i.setAttribute("class",o):i.className=o}function hh(i,o,a){const p=i.style,h=Jt(a);if(a&&!h){if(o&&!Jt(o))for(const f in o)a[f]==null&&To(p,f,"");for(const f in a)To(p,f,a[f])}else{const f=p.display;h?o!==a&&(p.cssText=a):o&&i.removeAttribute("style"),"_vod"in i&&(p.display=f)}}const ca=/\s*!important$/;function To(i,o,a){if(st(a))a.forEach(p=>To(i,o,p));else if(a==null&&(a=""),o.startsWith("--"))i.setProperty(o,a);else{const p=vh(i,o);ca.test(a)?i.setProperty(Ti(p),a.replace(ca,""),"important"):i[p]=a}}const ua=["Webkit","Moz","ms"],go={};function vh(i,o){const a=go[o];if(a)return a;let p=Ze(o);if(p!=="filter"&&p in i)return go[o]=p;p=ds(p);for(let h=0;h<ua.length;h++){const f=ua[h]+p;if(f in i)return go[o]=f}return o}const pa="http://www.w3.org/1999/xlink";function fh(i,o,a,p,h){if(p&&o.startsWith("xlink:"))a==null?i.removeAttributeNS(pa,o.slice(6,o.length)):i.setAttributeNS(pa,o,a);else{const f=ip(o);a==null||f&&!ma(a)?i.removeAttribute(o):i.setAttribute(o,f?"":a)}}function mh(i,o,a,p,h,f,w){if(o==="innerHTML"||o==="textContent"){p&&w(p,h,f),i[o]=a==null?"":a;return}if(o==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=a;const V=a==null?"":a;(i.value!==V||i.tagName==="OPTION")&&(i.value=V),a==null&&i.removeAttribute(o);return}let C=!1;if(a===""||a==null){const V=typeof i[o];V==="boolean"?a=ma(a):a==null&&V==="string"?(a="",C=!0):V==="number"&&(a=0,C=!0)}try{i[o]=a}catch{}C&&i.removeAttribute(o)}function bh(i,o,a,p){i.addEventListener(o,a,p)}function _h(i,o,a,p){i.removeEventListener(o,a,p)}function gh(i,o,a,p,h=null){const f=i._vei||(i._vei={}),w=f[o];if(p&&w)w.value=p;else{const[C,V]=wh(o);if(p){const T=f[o]=yh(p,h);bh(i,C,T,V)}else w&&(_h(i,C,w,V),f[o]=void 0)}}const da=/(?:Once|Passive|Capture)$/;function wh(i){let o;if(da.test(i)){o={};let p;for(;p=i.match(da);)i=i.slice(0,i.length-p[0].length),o[p[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Ti(i.slice(2)),o]}let wo=0;const xh=Promise.resolve(),Ch=()=>wo||(xh.then(()=>wo=0),wo=Date.now());function yh(i,o){const a=p=>{if(!p._vts)p._vts=Date.now();else if(p._vts<=a.attached)return;Ke(Ph(p,a.value),o,5,[p])};return a.value=i,a.attached=Ch(),a}function Ph(i,o){if(st(o)){const a=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{a.call(i),i._stopped=!0},o.map(p=>h=>!h._stopped&&p&&p(h))}else return o}const ha=/^on[a-z]/,Eh=(i,o,a,p,h=!1,f,w,C,V)=>{o==="class"?dh(i,p,h):o==="style"?hh(i,a,p):cs(o)?Oo(o)||gh(i,o,a,p,w):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):kh(i,o,p,h))?mh(i,o,p,f,w,C,V):(o==="true-value"?i._trueValue=p:o==="false-value"&&(i._falseValue=p),fh(i,o,p,h))};function kh(i,o,a,p){return p?!!(o==="innerHTML"||o==="textContent"||o in i&&ha.test(o)&&rt(a)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&i.tagName==="INPUT"||o==="type"&&i.tagName==="TEXTAREA"||ha.test(o)&&Jt(a)?!1:o in i}const Vh=ae({patchProp:Eh},ph);let va;function Mh(){return va||(va=jd(Vh))}const Lh=(...i)=>{const o=Mh().createApp(...i),{mount:a}=o;return o.mount=p=>{const h=Sh(p);if(!h)return;const f=o._component;!rt(f)&&!f.render&&!f.template&&(f.template=h.innerHTML),h.innerHTML="";const w=a(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),w},o};function Sh(i){return Jt(i)?document.querySelector(i):i}/*!
 * v-github-icon v3.0.2
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const Th=Wo({name:"VGithubIcon",props:{url:{type:String,required:!0,default:""},position:{type:String,required:!1,default:"top-right"},bgColor:{type:String,required:!1,default:"#FFFFFF"},fillColor:{type:String,required:!1,default:"#151513"}}}),Dh=(i,o)=>{const a=i.__vccOpts||i;for(const[p,h]of o)a[p]=h;return a},Ri=i=>(id("data-v-6c7dc248"),i=i(),rd(),i),Ah=["href"],Rh=Ri(()=>Pe("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),Oh=Ri(()=>Pe("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),Nh=Ri(()=>Pe("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),Ih=[Rh,Oh,Nh],Bh=Ri(()=>Pe("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),zh=Ri(()=>Pe("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),jh=Ri(()=>Pe("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),Fh=[Bh,zh,jh];function Kh(i,o,a,p,h,f){return Vi(),dr("a",{href:i.url,class:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},[i.position==="top-left"?(Vi(),dr("svg",{key:0,width:"80",height:"80",viewBox:"0 0 250 250",style:hr([{fill:i.fillColor,color:i.bgColor},{position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"}]),"aria-hidden":"true"},Ih,4)):sa("",!0),i.position==="top-right"?(Vi(),dr("svg",{key:1,width:"80",height:"80",viewBox:"0 0 250 250",style:hr([{fill:i.fillColor,color:i.bgColor},{position:"absolute",top:"0",border:"0",right:"0"}]),"aria-hidden":"true"},Fh,4)):sa("",!0)],8,Ah)}const $h=Dh(Th,[["render",Kh],["__scopeId","data-v-6c7dc248"]]);var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Do={exports:{}};/*! Tweakpane 3.1.7 (c) 2016 cocopon, licensed under the MIT license. */(function(i,o){(function(a,p){p(o)})(tl,function(a){class p{constructor(t){const[e,s]=t.split("-"),d=e.split(".");this.major=parseInt(d[0],10),this.minor=parseInt(d[1],10),this.patch=parseInt(d[2],10),this.prerelease=s!=null?s:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class h{constructor(t){this.controller_=t}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class f{constructor(t){this.target=t}}class w extends f{constructor(t,e,s,d){super(t),this.value=e,this.presetKey=s,this.last=d!=null?d:!0}}class C extends f{constructor(t,e,s){super(t),this.value=e,this.presetKey=s}}class V extends f{constructor(t,e){super(t),this.expanded=e}}class T extends f{constructor(t,e){super(t),this.index=e}}function A(n){return n}function R(n){return n==null}function $(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function et(n,t){let e=n;do{const s=Object.getOwnPropertyDescriptor(e,t);if(s&&(s.set!==void 0||s.writable===!0))return!0;e=Object.getPrototypeOf(e)}while(e!==null);return!1}const _t={alreadydisposed:()=>"View has been already disposed",invalidparams:n=>`Invalid parameters for '${n.name}'`,nomatchingcontroller:n=>`No matching controller for '${n.key}'`,nomatchingview:n=>`No matching view for '${JSON.stringify(n.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:n=>`Property '${n.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class F{static alreadyDisposed(){return new F({type:"alreadydisposed"})}static notBindable(){return new F({type:"notbindable"})}static propertyNotFound(t){return new F({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new F({type:"shouldneverhappen"})}constructor(t){var e;this.message=(e=_t[t.type](t.context))!==null&&e!==void 0?e:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}}class gt{constructor(t,e,s){this.obj_=t,this.key_=e,this.presetKey_=s!=null?s:e}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,e){const s=this.read();if(!gt.isBindable(s))throw F.notBindable();if(!(t in s))throw F.propertyNotFound(t);s[t]=e}}class ft extends h{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,e){const s=e.bind(this);return this.controller_.valueController.emitter.on(t,()=>{s(new f(this))}),this}}class ot{constructor(){this.observers_={}}on(t,e){let s=this.observers_[t];return s||(s=this.observers_[t]=[]),s.push({handler:e}),this}off(t,e){const s=this.observers_[t];return s&&(this.observers_[t]=s.filter(d=>d.handler!==e)),this}emit(t,e){const s=this.observers_[t];!s||s.forEach(d=>{d.handler(e)})}}const tt="tp";function W(n){return(e,s)=>[tt,"-",n,"v",e?`_${e}`:"",s?`-${s}`:""].join("")}function te(n,t){return e=>t(n(e))}function De(n){return n.rawValue}function $t(n,t){n.emitter.on("change",te(De,t)),t(n.rawValue)}function yt(n,t,e){$t(n.value(t),e)}function Ut(n,t,e){e?n.classList.add(t):n.classList.remove(t)}function lt(n,t){return e=>{Ut(n,t,e)}}function be(n,t){$t(n,e=>{t.textContent=e!=null?e:""})}const Ee=W("btn");class $e{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Ee()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("button");s.classList.add(Ee("b")),e.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s;const d=t.createElement("div");d.classList.add(Ee("t")),be(e.props.value("title"),d),this.buttonElement.appendChild(d)}}class It{constructor(t,e){this.emitter=new ot,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new $e(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class _e{constructor(t,e){var s;this.constraint_=e==null?void 0:e.constraint,this.equals_=(s=e==null?void 0:e.equals)!==null&&s!==void 0?s:(d,g)=>d===g,this.emitter=new ot,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const s=e!=null?e:{forceEmit:!1,last:!0},d=this.constraint_?this.constraint_.constrain(t):t,g=this.rawValue_;!!this.equals_(g,d)&&!s.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=d,this.emitter.emit("change",{options:s,previousRawValue:g,rawValue:d,sender:this}))}}class xt{constructor(t){this.emitter=new ot,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const s=e!=null?e:{forceEmit:!1,last:!0},d=this.value_;d===t&&!s.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:s,previousRawValue:d,rawValue:this.value_,sender:this}))}}function Z(n,t){const e=t==null?void 0:t.constraint,s=t==null?void 0:t.equals;return!e&&!s?new xt(n):new _e(n,t)}class H{constructor(t){this.emitter=new ot,this.valMap_=t;for(const e in this.valMap_)this.valMap_[e].emitter.on("change",()=>{this.emitter.emit("change",{key:e,sender:this})})}static createCore(t){return Object.keys(t).reduce((s,d)=>Object.assign(s,{[d]:Z(t[d])}),{})}static fromObject(t){const e=this.createCore(t);return new H(e)}get(t){return this.valMap_[t].rawValue}set(t,e){this.valMap_[t].rawValue=e}value(t){return this.valMap_[t]}}function ee(n,t){const s=Object.keys(t).reduce((d,g)=>{if(d===void 0)return;const k=t[g],B=k(n[g]);return B.succeeded?Object.assign(Object.assign({},d),{[g]:B.value}):void 0},{});return s}function ge(n,t){return n.reduce((e,s)=>{if(e===void 0)return;const d=t(s);if(!(!d.succeeded||d.value===void 0))return[...e,d.value]},[])}function we(n){return n===null?!1:typeof n=="object"}function Pt(n){return t=>e=>{if(!t&&e===void 0)return{succeeded:!1,value:void 0};if(t&&e===void 0)return{succeeded:!0,value:void 0};const s=n(e);return s!==void 0?{succeeded:!0,value:s}:{succeeded:!1,value:void 0}}}function ne(n){return{custom:t=>Pt(t)(n),boolean:Pt(t=>typeof t=="boolean"?t:void 0)(n),number:Pt(t=>typeof t=="number"?t:void 0)(n),string:Pt(t=>typeof t=="string"?t:void 0)(n),function:Pt(t=>typeof t=="function"?t:void 0)(n),constant:t=>Pt(e=>e===t?t:void 0)(n),raw:Pt(t=>t)(n),object:t=>Pt(e=>{if(!!we(e))return ee(e,t)})(n),array:t=>Pt(e=>{if(!!Array.isArray(e))return ge(e,t)})(n)}}const wt={optional:ne(!0),required:ne(!1)};function Vt(n,t){const e=wt.required.object(t)(n);return e.succeeded?e.value:void 0}function Ht(n){console.warn([`Missing '${n.key}' of ${n.target} in ${n.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Ae(n){return n&&n.parentElement&&n.parentElement.removeChild(n),null}class Dt{constructor(t){this.value_=t}static create(t){return[new Dt(t),(e,s)=>{t.setRawValue(e,s)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const ie=W("");function Ue(n,t){return lt(n,ie(void 0,t))}class qt extends H{constructor(t){var e;super(t),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Dt.create(Z(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(e=this.get("parent"))===null||e===void 0||e.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(t){var e,s,d;const g=t!=null?t:{};return new qt(H.createCore({disabled:(e=g.disabled)!==null&&e!==void 0?e:!1,disposed:!1,hidden:(s=g.hidden)!==null&&s!==void 0?s:!1,parent:(d=g.parent)!==null&&d!==void 0?d:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(t){$t(this.globalDisabled_,Ue(t,"disabled")),yt(this,"hidden",Ue(t,"hidden"))}bindDisabled(t){$t(this.globalDisabled_,e=>{t.disabled=e})}bindTabIndex(t){$t(this.globalDisabled_,e=>{t.tabIndex=e?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",e=>{e&&t()})}getGlobalDisabled_(){const t=this.get("parent");return(t?t.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(t){var e;const s=t.previousRawValue;s==null||s.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(e=this.get("parent"))===null||e===void 0||e.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function x(){return["veryfirst","first","last","verylast"]}const P=W(""),M={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class D{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const e=this.view.element;this.blade.value("positions").emitter.on("change",()=>{x().forEach(s=>{e.classList.remove(P(void 0,M[s]))}),this.blade.get("positions").forEach(s=>{e.classList.add(P(void 0,M[s]))})}),this.viewProps.handleDispose(()=>{Ae(e)})}get parent(){return this.parent_}set parent(t){if(this.parent_=t,!("parent"in this.viewProps.valMap_)){Ht({key:"parent",target:qt.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const S="http://www.w3.org/2000/svg";function N(n){n.offsetHeight}function U(n,t){const e=n.style.transition;n.style.transition="none",t(),n.style.transition=e}function I(n){return n.ontouchstart!==void 0}function K(){return globalThis}function O(){return K().document}function Y(n){const t=n.ownerDocument.defaultView;return t&&"document"in t?n.getContext("2d",{willReadFrequently:!0}):null}const q={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function G(n,t){const e=n.createElementNS(S,"svg");return e.innerHTML=q[t],e}function J(n,t,e){n.insertBefore(t,n.children[e])}function nt(n){n.parentElement&&n.parentElement.removeChild(n)}function ut(n){for(;n.children.length>0;)n.removeChild(n.children[0])}function ct(n){for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0])}function ht(n){return n.relatedTarget?n.relatedTarget:"explicitOriginalTarget"in n?n.explicitOriginalTarget:null}const St=W("lbl");function Et(n,t){const e=n.createDocumentFragment();return t.split(`
`).map(d=>n.createTextNode(d)).forEach((d,g)=>{g>0&&e.appendChild(n.createElement("br")),e.appendChild(d)}),e}class ke{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(St()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(St("l")),yt(e.props,"label",g=>{R(g)?this.element.classList.add(St(void 0,"nol")):(this.element.classList.remove(St(void 0,"nol")),ct(s),s.appendChild(Et(t,g)))}),this.element.appendChild(s),this.labelElement=s;const d=t.createElement("div");d.classList.add(St("v")),this.element.appendChild(d),this.valueElement=d}}class re extends D{constructor(t,e){const s=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{view:new ke(t,{props:e.props,viewProps:s}),viewProps:s})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Qe={id:"button",type:"blade",accept(n){const t=wt,e=Vt(n,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return e?{params:e}:null},controller(n){return new re(n.document,{blade:n.blade,props:H.fromObject({label:n.params.label}),valueController:new It(n.document,{props:H.fromObject({title:n.params.title}),viewProps:n.viewProps})})},api(n){return!(n.controller instanceof re)||!(n.controller.valueController instanceof It)?null:new ft(n.controller)}};class Mt extends D{constructor(t){super(t),this.value=t.value}}function At(){return new H({positions:Z([],{equals:$})})}class xe extends H{constructor(t){super(t)}static create(t){const e={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},s=H.createCore(e);return new xe(s)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!R(t)?`${t}px`:"auto"}bindExpandedClass(t,e){const s=()=>{this.styleExpanded?t.classList.add(e):t.classList.remove(e)};yt(this,"expanded",s),yt(this,"temporaryExpanded",s)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function oi(n,t){let e=0;return U(t,()=>{n.set("expandedHeight",null),n.set("temporaryExpanded",!0),N(t),e=t.clientHeight,n.set("temporaryExpanded",null),N(t)}),e}function li(n,t){t.style.height=n.styleHeight}function Dn(n,t){n.value("expanded").emitter.on("beforechange",()=>{if(n.set("completed",!1),R(n.get("expandedHeight"))){const e=oi(n,t);e>0&&n.set("expandedHeight",e)}n.set("shouldFixHeight",!0),N(t)}),n.emitter.on("change",()=>{li(n,t)}),li(n,t),t.addEventListener("transitionend",e=>{e.propertyName==="height"&&n.cleanUpTransition()})}class Wt extends h{constructor(t,e){super(t),this.rackApi_=e}}function Oi(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function An(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function Rn(n,t){const e=t!=null?t:{};return n.addBlade(Object.assign(Object.assign({},e),{view:"separator"}))}function On(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class Ve{constructor(t){this.emitter=new ot,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const e of this.allItems())if(t(e))return e;return null}includes(t){return this.cache_.has(t)}add(t,e){if(this.includes(t))throw F.shouldNeverHappen();const s=e!==void 0?e:this.items_.length;this.items_.splice(s,0,t),this.cache_.add(t);const d=this.extract_(t);d&&(d.emitter.on("add",this.onSubListAdd_),d.emitter.on("remove",this.onSubListRemove_),d.allItems().forEach(g=>{this.cache_.add(g)})),this.emitter.emit("add",{index:s,item:t,root:this,target:this})}remove(t){const e=this.items_.indexOf(t);if(e<0)return;this.items_.splice(e,1),this.cache_.delete(t);const s=this.extract_(t);s&&(s.emitter.off("add",this.onSubListAdd_),s.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class pn extends h{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new ot,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const e=t.sender.target.read();this.emitter_.emit("change",{event:new w(this,e,this.controller_.binding.target.presetKey,t.options.last)})}}class Gt extends re{constructor(t,e){super(t,e),this.binding=e.binding}}class dn extends h{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new ot,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const e=t.sender.target.read();this.emitter_.emit("update",{event:new C(this,e,this.controller_.binding.target.presetKey)})}}class ce extends re{constructor(t,e){super(t,e),this.binding=e.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Ni(n){return n instanceof _?n.apiSet_:n instanceof Wt?n.rackApi_.apiSet_:null}function hn(n,t){const e=n.find(s=>s.controller_===t);if(!e)throw F.shouldNeverHappen();return e}function ai(n,t,e){if(!gt.isBindable(n))throw F.notBindable();return new gt(n,t,e)}class _ extends h{constructor(t,e){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new ot,this.apiSet_=new Ve(Ni),this.pool_=e;const s=this.controller_.rack;s.emitter.on("add",this.onRackAdd_),s.emitter.on("remove",this.onRackRemove_),s.emitter.on("inputchange",this.onRackInputChange_),s.emitter.on("monitorupdate",this.onRackMonitorUpdate_),s.children.forEach(d=>{this.setUpApi_(d)})}get children(){return this.controller_.rack.children.map(t=>hn(this.apiSet_,t))}addInput(t,e,s){const d=s!=null?s:{},g=this.controller_.view.element.ownerDocument,k=this.pool_.createInput(g,ai(t,e,d.presetKey),d),B=new pn(k);return this.add(B,d.index)}addMonitor(t,e,s){const d=s!=null?s:{},g=this.controller_.view.element.ownerDocument,k=this.pool_.createMonitor(g,ai(t,e),d),B=new dn(k);return this.add(B,d.index)}addFolder(t){return An(this,t)}addButton(t){return Oi(this,t)}addSeparator(t){return Rn(this,t)}addTab(t){return On(this,t)}add(t,e){this.controller_.rack.add(t.controller_,e);const s=this.apiSet_.find(d=>d.controller_===t.controller_);return s&&this.apiSet_.remove(s),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const e=this.controller_.view.element.ownerDocument,s=this.pool_.createBlade(e,t),d=this.pool_.createBladeApi(s);return this.add(d,t.index)}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}setUpApi_(t){this.apiSet_.find(s=>s.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const e=hn(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}onRackInputChange_(t){const e=t.bladeController;if(e instanceof Gt){const s=hn(this.apiSet_,e),d=e.binding;this.emitter_.emit("change",{event:new w(s,d.target.read(),d.target.presetKey,t.options.last)})}else if(e instanceof Mt){const s=hn(this.apiSet_,e);this.emitter_.emit("change",{event:new w(s,e.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof ce))throw F.shouldNeverHappen();const e=hn(this.apiSet_,t.bladeController),s=t.bladeController.binding;this.emitter_.emit("update",{event:new C(e,s.target.read(),s.target.presetKey)})}}class v extends Wt{constructor(t,e){super(t,new _(t.rackController,e)),this.emitter_=new ot,this.controller_.foldable.value("expanded").emitter.on("change",s=>{this.emitter_.emit("fold",{event:new V(this,s.sender.rawValue)})}),this.rackApi_.on("change",s=>{this.emitter_.emit("change",{event:s})}),this.rackApi_.on("update",s=>{this.emitter_.emit("update",{event:s})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,e,s){return this.rackApi_.addInput(t,e,s)}addMonitor(t,e,s){return this.rackApi_.addMonitor(t,e,s)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){return this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}}class m extends D{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class y{constructor(t,e){const s=W(e.viewName);this.element=t.createElement("div"),this.element.classList.add(s()),e.viewProps.bindClassModifiers(this.element)}}function z(n,t){for(let e=0;e<n.length;e++){const s=n[e];if(s instanceof Gt&&s.binding===t)return s}return null}function at(n,t){for(let e=0;e<n.length;e++){const s=n[e];if(s instanceof ce&&s.binding===t)return s}return null}function Rt(n,t){for(let e=0;e<n.length;e++){const s=n[e];if(s instanceof Mt&&s.value===t)return s}return null}function Tt(n){return n instanceof Xt?n.rack:n instanceof m?n.rackController.rack:null}function Re(n){const t=Tt(n);return t?t.bcSet_:null}class Kt{constructor(t){var e,s;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new ot,this.blade_=(e=t.blade)!==null&&e!==void 0?e:null,(s=this.blade_)===null||s===void 0||s.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=t.viewProps,this.bcSet_=new Ve(Re),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,e){var s;(s=t.parent)===null||s===void 0||s.remove(t),et(t,"parent")?t.parent=this:(t.parent_=this,Ht({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(t,e)}remove(t){et(t,"parent")?t.parent=null:(t.parent_=null,Ht({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(e=>e instanceof t)}onSetAdd_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),!e)return;const s=t.item;if(s.viewProps.emitter.on("change",this.onChildViewPropsChange_),s.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),s.viewProps.handleDispose(this.onChildDispose_),s instanceof Gt)s.binding.emitter.on("change",this.onChildInputChange_);else if(s instanceof ce)s.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(s instanceof Mt)s.value.emitter.on("change",this.onChildValueChange_);else{const d=Tt(s);if(d){const g=d.emitter;g.on("layout",this.onDescendantLayout_),g.on("inputchange",this.onDescendantInputChange_),g.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),!e)return;const s=t.item;if(s instanceof Gt)s.binding.emitter.off("change",this.onChildInputChange_);else if(s instanceof ce)s.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(s instanceof Mt)s.value.emitter.off("change",this.onChildValueChange_);else{const d=Tt(s);if(d){const g=d.emitter;g.off("layout",this.onDescendantLayout_),g.off("inputchange",this.onDescendantInputChange_),g.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(d=>!d.viewProps.get("hidden")),e=t[0],s=t[t.length-1];this.bcSet_.items.forEach(d=>{const g=[];d===e&&(g.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&g.push("veryfirst")),d===s&&(g.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&g.push("verylast")),d.blade.set("positions",g)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(e=>e.viewProps.get("disposed")).forEach(e=>{this.bcSet_.remove(e)})}onChildInputChange_(t){const e=z(this.find(Gt),t.sender);if(!e)throw F.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onChildMonitorUpdate_(t){const e=at(this.find(ce),t.sender);if(!e)throw F.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}onChildValueChange_(t){const e=Rt(this.find(Mt),t.sender);if(!e)throw F.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Xt extends D{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new y(t,{viewName:"brk",viewProps:e.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const s=new Kt({blade:e.root?void 0:e.blade,viewProps:e.viewProps});s.emitter.on("add",this.onRackAdd_),s.emitter.on("remove",this.onRackRemove_),this.rack=s,this.viewProps.handleDispose(()=>{for(let d=this.rack.children.length-1;d>=0;d--)this.rack.children[d].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||J(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||nt(t.bladeController.view.element)}}const kt=W("cnt");class vn{constructor(t,e){var s;this.className_=W((s=e.viewName)!==null&&s!==void 0?s:"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),kt()),e.viewProps.bindClassModifiers(this.element),this.foldable_=e.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),yt(this.foldable_,"completed",lt(this.element,this.className_(void 0,"cpl")));const d=t.createElement("button");d.classList.add(this.className_("b")),yt(e.props,"title",Q=>{R(Q)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),e.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d;const g=t.createElement("div");g.classList.add(this.className_("i")),this.element.appendChild(g);const k=t.createElement("div");k.classList.add(this.className_("t")),be(e.props.value("title"),k),this.buttonElement.appendChild(k),this.titleElement=k;const B=t.createElement("div");B.classList.add(this.className_("m")),this.buttonElement.appendChild(B);const X=e.containerElement;X.classList.add(this.className_("c")),this.element.appendChild(X),this.containerElement=X}}class ci extends m{constructor(t,e){var s;const d=xe.create((s=e.expanded)!==null&&s!==void 0?s:!0),g=new Xt(t,{blade:e.blade,root:e.root,viewProps:e.viewProps});super(Object.assign(Object.assign({},e),{rackController:g,view:new vn(t,{containerElement:g.view.element,foldable:d,props:e.props,viewName:e.root?"rot":void 0,viewProps:e.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=e.props,this.foldable=d,Dn(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const ws={id:"folder",type:"blade",accept(n){const t=wt,e=Vt(n,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return e?{params:e}:null},controller(n){return new ci(n.document,{blade:n.blade,expanded:n.params.expanded,props:H.fromObject({title:n.params.title}),viewProps:n.viewProps})},api(n){return n.controller instanceof ci?new v(n.controller,n.pool):null}};class fn extends Mt{constructor(t,e){const s=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{value:e.valueController.value,view:new ke(t,{props:e.props,viewProps:s}),viewProps:s})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class wr extends h{}const Ii=W("spr");class xs{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Ii()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("hr");s.classList.add(Ii("r")),this.element.appendChild(s)}}class Nn extends D{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new xs(t,{viewProps:e.viewProps})}))}}const Cs={id:"separator",type:"blade",accept(n){const e=Vt(n,{view:wt.required.constant("separator")});return e?{params:e}:null},controller(n){return new Nn(n.document,{blade:n.blade,viewProps:n.viewProps})},api(n){return n.controller instanceof Nn?new wr(n.controller):null}},Bt=W("tbi");class ys{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Bt()),e.viewProps.bindClassModifiers(this.element),yt(e.props,"selected",g=>{g?this.element.classList.add(Bt(void 0,"sel")):this.element.classList.remove(Bt(void 0,"sel"))});const s=t.createElement("button");s.classList.add(Bt("b")),e.viewProps.bindDisabled(s),this.element.appendChild(s),this.buttonElement=s;const d=t.createElement("div");d.classList.add(Bt("t")),be(e.props.value("title"),d),this.buttonElement.appendChild(d),this.titleElement=d}}class ui{constructor(t,e){this.emitter=new ot,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new ys(t,{props:e.props,viewProps:e.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class xr{constructor(t,e){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ui(t,{props:e.itemProps,viewProps:qt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Xt(t,{blade:At(),viewProps:qt.create()}),this.props=e.props,yt(this.props,"selected",s=>{this.itemController.props.set("selected",s),this.contentController.viewProps.set("hidden",!s)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Bi{constructor(t,e){this.controller_=t,this.rackApi_=e}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addInput(t,e,s){return this.rackApi_.addInput(t,e,s)}addMonitor(t,e,s){return this.rackApi_.addMonitor(t,e,s)}addBlade(t){return this.rackApi_.addBlade(t)}}class Cr extends Wt{constructor(t,e){super(t,new _(t.rackController,e)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new ot,this.pageApiMap_=new Map,this.rackApi_.on("change",s=>{this.emitter_.emit("change",{event:s})}),this.rackApi_.on("update",s=>{this.emitter_.emit("update",{event:s})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(s=>{this.setUpPageApi_(s)})}get pages(){return this.controller_.pageSet.items.map(t=>{const e=this.pageApiMap_.get(t);if(!e)throw F.shouldNeverHappen();return e})}addPage(t){const e=this.controller_.view.element.ownerDocument,s=new xr(e,{itemProps:H.fromObject({selected:!1,title:t.title}),props:H.fromObject({selected:!1})});this.controller_.add(s,t.index);const d=this.pageApiMap_.get(s);if(!d)throw F.shouldNeverHappen();return d}removePage(t){this.controller_.remove(t)}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}setUpPageApi_(t){const e=this.rackApi_.apiSet_.find(d=>d.controller_===t.contentController);if(!e)throw F.shouldNeverHappen();const s=new Bi(t,e);this.pageApiMap_.set(t,s)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw F.shouldNeverHappen();this.pageApiMap_.delete(t.item)}onSelect_(t){this.emitter_.emit("select",{event:new T(this,t.rawValue)})}}const yr=-1;class Ps{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Z(!0),this.selectedIndex=Z(yr),this.items_=[]}add(t,e){const s=e!=null?e:this.items_.length;this.items_.splice(s,0,t),t.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(t){const e=this.items_.indexOf(t);e<0||(this.items_.splice(e,1),t.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=yr,this.empty.rawValue=!0;return}const t=this.items_.findIndex(e=>e.rawValue);t<0?(this.items_.forEach((e,s)=>{e.rawValue=s===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((e,s)=>{e.rawValue=s===t}),this.selectedIndex.rawValue=t),this.empty.rawValue=!1}onItemSelectedChange_(t){if(t.rawValue){const e=this.items_.findIndex(s=>s===t.sender);this.items_.forEach((s,d)=>{s.rawValue=d===e}),this.selectedIndex.rawValue=e}else this.keepSelection_()}}const mn=W("tab");class bn{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(mn(),kt()),e.viewProps.bindClassModifiers(this.element),$t(e.empty,lt(this.element,mn(void 0,"nop")));const s=t.createElement("div");s.classList.add(mn("t")),this.element.appendChild(s),this.itemsElement=s;const d=t.createElement("div");d.classList.add(mn("i")),this.element.appendChild(d);const g=e.contentsElement;g.classList.add(mn("c")),this.element.appendChild(g),this.contentsElement=g}}class In extends m{constructor(t,e){const s=new Xt(t,{blade:e.blade,viewProps:e.viewProps}),d=new Ps;super({blade:e.blade,rackController:s,view:new bn(t,{contentsElement:s.view.element,empty:d.empty,viewProps:e.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new Ve(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=d}get pageSet(){return this.pageSet_}add(t,e){this.pageSet_.add(t,e)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}onPageAdd_(t){const e=t.item;J(this.view.itemsElement,e.itemController.view.element,t.index),e.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(e.contentController,t.index),this.tab.add(e.props.value("selected"))}onPageRemove_(t){const e=t.item;nt(e.itemController.view.element),e.itemController.viewProps.set("parent",null),this.rackController.rack.remove(e.contentController),this.tab.remove(e.props.value("selected"))}}const zi={id:"tab",type:"blade",accept(n){const t=wt,e=Vt(n,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!e||e.pages.length===0?null:{params:e}},controller(n){const t=new In(n.document,{blade:n.blade,viewProps:n.viewProps});return n.params.pages.forEach(e=>{const s=new xr(n.document,{itemProps:H.fromObject({selected:!1,title:e.title}),props:H.fromObject({selected:!1})});t.add(s)}),t},api(n){return n.controller instanceof In?new Cr(n.controller,n.pool):null}};function Es(n,t){const e=n.accept(t.params);if(!e)return null;const s=wt.optional.boolean(t.params.disabled).value,d=wt.optional.boolean(t.params.hidden).value;return n.controller({blade:At(),document:t.document,params:Object.assign(Object.assign({},e.params),{disabled:s,hidden:d}),viewProps:qt.create({disabled:s,hidden:d})})}class Pr{constructor(){this.disabled=!1,this.emitter=new ot}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ji{constructor(t,e){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new ot,this.interval_=e,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class pi{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new ot,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Ot(n,t){for(;n.length<t;)n.push(void 0)}function Er(n){const t=[];return Ot(t,n),Z(t)}function _n(n){const t=n.indexOf(void 0);return t<0?n:n.slice(0,t)}function ue(n,t){const e=[..._n(n),t];return e.length>n.length?e.splice(0,e.length-n.length):Ot(e,n.length),e}class ks{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new ot,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const e=this.value.rawValue,s=this.reader_(t);this.value.rawValue=ue(e,s),this.emitter.emit("update",{rawValue:s,sender:this})}onTick_(t){this.read()}}class Bn{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((e,s)=>s.constrain(e),t)}}function Ce(n,t){if(n instanceof t)return n;if(n instanceof Bn){const e=n.constraints.reduce((s,d)=>s||(d instanceof t?d:null),null);if(e)return e}return null}class gn{constructor(t){this.values=H.fromObject({max:t.max,min:t.min})}constrain(t){const e=this.values.get("max"),s=this.values.get("min");return Math.min(Math.max(t,s),e)}}class zn{constructor(t){this.values=H.fromObject({options:t})}get options(){return this.values.get("options")}constrain(t){const e=this.values.get("options");return e.length===0||e.filter(d=>d.value===t).length>0?t:e[0].value}}class Fi{constructor(t){this.values=H.fromObject({max:t.max,min:t.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(t){const e=this.values.get("max"),s=this.values.get("min");let d=t;return R(s)||(d=Math.max(d,s)),R(e)||(d=Math.min(d,e)),d}}class di{constructor(t,e=0){this.step=t,this.origin=e}constrain(t){const e=this.origin%this.step,s=Math.round((t-e)/this.step);return e+s*this.step}}const wn=W("lst");class kr{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.props_=e.props,this.element=t.createElement("div"),this.element.classList.add(wn()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("select");s.classList.add(wn("s")),yt(this.props_,"options",g=>{ut(s),g.forEach((k,B)=>{const X=t.createElement("option");X.dataset.index=String(B),X.textContent=k.text,X.value=String(k.value),s.appendChild(X)})}),e.viewProps.bindDisabled(s),this.element.appendChild(s),this.selectElement=s;const d=t.createElement("div");d.classList.add(wn("m")),d.appendChild(G(t,"dropdown")),this.element.appendChild(d),e.value.emitter.on("change",this.onValueChange_),this.value_=e.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class jn{constructor(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new kr(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const s=t.currentTarget.selectedOptions.item(0);if(!s)return;const d=Number(s.dataset.index);this.value.rawValue=this.props.get("options")[d].value}}const Vr=W("pop");class Vs{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Vr()),e.viewProps.bindClassModifiers(this.element),$t(e.shows,lt(this.element,Vr(void 0,"v")))}}class Mr{constructor(t,e){this.shows=Z(!1),this.viewProps=e.viewProps,this.view=new Vs(t,{shows:this.shows,viewProps:this.viewProps})}}const Lr=W("txt");class Ms{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Lr()),e.viewProps.bindClassModifiers(this.element),this.props_=e.props,this.props_.emitter.on("change",this.onChange_);const s=t.createElement("input");s.classList.add(Lr("i")),s.type="text",e.viewProps.bindDisabled(s),this.element.appendChild(s),this.inputElement=s,e.value.emitter.on("change",this.onChange_),this.value_=e.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class hi{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new Ms(t,{props:e.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const s=t.currentTarget.value,d=this.parser_(s);R(d)||(this.value.rawValue=d),this.view.refresh()}}function Ls(n){return String(n)}function Sr(n){return n==="false"?!1:!!n}function Tr(n){return Ls(n)}class Ss{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Ts={"**":(n,t)=>Math.pow(n,t),"*":(n,t)=>n*t,"/":(n,t)=>n/t,"%":(n,t)=>n%t,"+":(n,t)=>n+t,"-":(n,t)=>n-t,"<<":(n,t)=>n<<t,">>":(n,t)=>n>>t,">>>":(n,t)=>n>>>t,"&":(n,t)=>n&t,"^":(n,t)=>n^t,"|":(n,t)=>n|t};class Ds{constructor(t,e,s){this.left=e,this.operator=t,this.right=s}evaluate(){const t=Ts[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Dr={"+":n=>n,"-":n=>-n,"~":n=>~n};class As{constructor(t,e){this.operator=t,this.expression=e}evaluate(){const t=Dr[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Ki(n){return(t,e)=>{for(let s=0;s<n.length;s++){const d=n[s](t,e);if(d!=="")return d}return""}}function tn(n,t){var e;const s=n.substr(t).match(/^\s+/);return(e=s&&s[0])!==null&&e!==void 0?e:""}function Rs(n,t){const e=n.substr(t,1);return e.match(/^[1-9]$/)?e:""}function Fn(n,t){var e;const s=n.substr(t).match(/^[0-9]+/);return(e=s&&s[0])!==null&&e!==void 0?e:""}function Os(n,t){const e=Fn(n,t);if(e!=="")return e;const s=n.substr(t,1);if(t+=1,s!=="-"&&s!=="+")return"";const d=Fn(n,t);return d===""?"":s+d}function Me(n,t){const e=n.substr(t,1);if(t+=1,e.toLowerCase()!=="e")return"";const s=Os(n,t);return s===""?"":e+s}function Ar(n,t){const e=n.substr(t,1);if(e==="0")return e;const s=Rs(n,t);return t+=s.length,s===""?"":s+Fn(n,t)}function Ns(n,t){const e=Ar(n,t);if(t+=e.length,e==="")return"";const s=n.substr(t,1);if(t+=s.length,s!==".")return"";const d=Fn(n,t);return t+=d.length,e+s+d+Me(n,t)}function Rr(n,t){const e=n.substr(t,1);if(t+=e.length,e!==".")return"";const s=Fn(n,t);return t+=s.length,s===""?"":e+s+Me(n,t)}function Is(n,t){const e=Ar(n,t);return t+=e.length,e===""?"":e+Me(n,t)}const Or=Ki([Ns,Rr,Is]);function $i(n,t){var e;const s=n.substr(t).match(/^[01]+/);return(e=s&&s[0])!==null&&e!==void 0?e:""}function Bs(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0b")return"";const s=$i(n,t);return s===""?"":e+s}function Nr(n,t){var e;const s=n.substr(t).match(/^[0-7]+/);return(e=s&&s[0])!==null&&e!==void 0?e:""}function pe(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0o")return"";const s=Nr(n,t);return s===""?"":e+s}function zs(n,t){var e;const s=n.substr(t).match(/^[0-9a-f]+/i);return(e=s&&s[0])!==null&&e!==void 0?e:""}function js(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0x")return"";const s=zs(n,t);return s===""?"":e+s}const Ui=Ki([Bs,pe,js]),Fs=Ki([Ui,Or]);function He(n,t){const e=Fs(n,t);return t+=e.length,e===""?null:{evaluable:new Ss(e),cursor:t}}function Hi(n,t){const e=n.substr(t,1);if(t+=e.length,e!=="(")return null;const s=vi(n,t);if(!s)return null;t=s.cursor,t+=tn(n,t).length;const d=n.substr(t,1);return t+=d.length,d!==")"?null:{evaluable:s.evaluable,cursor:t}}function Ks(n,t){var e;return(e=He(n,t))!==null&&e!==void 0?e:Hi(n,t)}function qi(n,t){const e=Ks(n,t);if(e)return e;const s=n.substr(t,1);if(t+=s.length,s!=="+"&&s!=="-"&&s!=="~")return null;const d=qi(n,t);return d?(t=d.cursor,{cursor:t,evaluable:new As(s,d.evaluable)}):null}function $s(n,t,e){e+=tn(t,e).length;const s=n.filter(d=>t.startsWith(d,e))[0];return s?(e+=s.length,e+=tn(t,e).length,{cursor:e,operator:s}):null}function en(n,t){return(e,s)=>{const d=n(e,s);if(!d)return null;s=d.cursor;let g=d.evaluable;for(;;){const k=$s(t,e,s);if(!k)break;s=k.cursor;const B=n(e,s);if(!B)return null;s=B.cursor,g=new Ds(k.operator,g,B.evaluable)}return g?{cursor:s,evaluable:g}:null}}const Ir=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((n,t)=>en(n,t),qi);function vi(n,t){return t+=tn(n,t).length,Ir(n,t)}function Br(n){const t=vi(n,0);return!t||t.cursor+tn(n,t.cursor).length!==n.length?null:t.evaluable}function Le(n){var t;const e=Br(n);return(t=e==null?void 0:e.evaluate())!==null&&t!==void 0?t:null}function Oe(n){if(typeof n=="number")return n;if(typeof n=="string"){const t=Le(n);if(!R(t))return t}return 0}function Us(n){return String(n)}function zt(n){return t=>t.toFixed(Math.max(Math.min(n,20),0))}const zr=zt(0);function Kn(n){return zr(n)+"%"}function Gi(n){return String(n)}function qe(n){return n}function xn({primary:n,secondary:t,forward:e,backward:s}){let d=!1;function g(k){d||(d=!0,k(),d=!1)}n.emitter.on("change",k=>{g(()=>{t.setRawValue(e(n,t),k.options)})}),t.emitter.on("change",k=>{g(()=>{n.setRawValue(s(n,t),k.options)}),g(()=>{t.setRawValue(e(n,t),k.options)})}),g(()=>{t.setRawValue(e(n,t),{forceEmit:!1,last:!0})})}function Yt(n,t){const e=n*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+e:t.downKey?-e:0}function $n(n){return{altKey:n.altKey,downKey:n.key==="ArrowDown",shiftKey:n.shiftKey,upKey:n.key==="ArrowUp"}}function Se(n){return{altKey:n.altKey,downKey:n.key==="ArrowLeft",shiftKey:n.shiftKey,upKey:n.key==="ArrowRight"}}function jr(n){return n==="ArrowUp"||n==="ArrowDown"}function fi(n){return jr(n)||n==="ArrowLeft"||n==="ArrowRight"}function Yi(n,t){var e,s;const d=t.ownerDocument.defaultView,g=t.getBoundingClientRect();return{x:n.pageX-(((e=d&&d.scrollX)!==null&&e!==void 0?e:0)+g.left),y:n.pageY-(((s=d&&d.scrollY)!==null&&s!==void 0?s:0)+g.top)}}class nn{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new ot,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var e;t.preventDefault(),(e=t.currentTarget)===null||e===void 0||e.focus();const s=this.elem_.ownerDocument;s.addEventListener("mousemove",this.onDocumentMouseMove_),s.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const e=t.targetTouches.item(0),s=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-s.left,y:e.clientY-s.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchMove_(t){const e=t.targetTouches.item(0),s=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-s.left,y:e.clientY-s.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchEnd_(t){var e;const s=(e=t.targetTouches.item(0))!==null&&e!==void 0?e:this.lastTouch_,d=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(s?{x:s.clientX-d.left,y:s.clientY-d.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function Ct(n,t,e,s,d){const g=(n-t)/(e-t);return s+g*(d-s)}function Wi(n){return String(n.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Nt(n,t,e){return Math.min(Math.max(n,t),e)}function Cn(n,t){return(n%t+t)%t}const se=W("txt");class Xi{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(se(),se(void 0,"num")),e.arrayPosition&&this.element.classList.add(se(void 0,e.arrayPosition)),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("input");s.classList.add(se("i")),s.type="text",e.viewProps.bindDisabled(s),this.element.appendChild(s),this.inputElement=s,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=e.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(se()),this.inputElement.classList.add(se("i"));const d=t.createElement("div");d.classList.add(se("k")),this.element.appendChild(d),this.knobElement=d;const g=t.createElementNS(S,"svg");g.classList.add(se("g")),this.knobElement.appendChild(g);const k=t.createElementNS(S,"path");k.classList.add(se("gb")),g.appendChild(k),this.guideBodyElem_=k;const B=t.createElementNS(S,"path");B.classList.add(se("gh")),g.appendChild(B),this.guideHeadElem_=B;const X=t.createElement("div");X.classList.add(W("tt")()),this.knobElement.appendChild(X),this.tooltipElem_=X,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(se(void 0,"drg"));return}this.element.classList.add(se(void 0,"drg"));const e=t.rawValue/this.props_.get("draggingScale"),s=e+(e>0?-1:e<0?1:0),d=Nt(-s,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${s+d},0 L${s},4 L${s+d},8`,`M ${e},-1 L${e},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${e},4`);const g=this.props_.get("formatter");this.tooltipElem_.textContent=g(this.value.rawValue),this.tooltipElem_.style.left=`${e}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class Un{constructor(t,e){var s;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.parser_=e.parser,this.props=e.props,this.sliderProps_=(s=e.sliderProps)!==null&&s!==void 0?s:null,this.value=e.value,this.viewProps=e.viewProps,this.dragging_=Z(null),this.view=new Xi(t,{arrayPosition:e.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const d=new nn(this.view.knobElement);d.emitter.on("down",this.onPointerDown_),d.emitter.on("move",this.onPointerMove_),d.emitter.on("up",this.onPointerUp_)}constrainValue_(t){var e,s;const d=(e=this.sliderProps_)===null||e===void 0?void 0:e.get("minValue"),g=(s=this.sliderProps_)===null||s===void 0?void 0:s.get("maxValue");let k=t;return d!==void 0&&(k=Math.max(k,d)),g!==void 0&&(k=Math.min(k,g)),k}onInputChange_(t){const s=t.currentTarget.value,d=this.parser_(s);R(d)||(this.value.rawValue=this.constrainValue_(d)),this.view.refresh()}onInputKeyDown_(t){const e=Yt(this.baseStep_,$n(t));e!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+e),{forceEmit:!1,last:!1})}onInputKeyUp_(t){Yt(this.baseStep_,$n(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const e=t.point.x-t.bounds.width/2;return this.constrainValue_(this.originRawValue_+e*this.props.get("draggingScale"))}onPointerMove_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ji=W("sld");class oe{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Ji()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(Ji("t")),e.viewProps.bindTabIndex(s),this.element.appendChild(s),this.trackElement=s;const d=t.createElement("div");d.classList.add(Ji("k")),this.trackElement.appendChild(d),this.knobElement=d,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.update_()}update_(){const t=Nt(Ct(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class Zi{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.value=e.value,this.viewProps=e.viewProps,this.props=e.props,this.view=new oe(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){!t.point||this.value.setRawValue(Ct(Nt(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),e)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Yt(this.baseStep_,Se(t));e!==0&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}onKeyUp_(t){Yt(this.baseStep_,Se(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Hn=W("sldtxt");class Qi{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Hn());const s=t.createElement("div");s.classList.add(Hn("s")),this.sliderView_=e.sliderView,s.appendChild(this.sliderView_.element),this.element.appendChild(s);const d=t.createElement("div");d.classList.add(Hn("t")),this.textView_=e.textView,d.appendChild(this.textView_.element),this.element.appendChild(d)}}class mi{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.sliderC_=new Zi(t,{baseStep:e.baseStep,props:e.sliderProps,value:e.value,viewProps:this.viewProps}),this.textC_=new Un(t,{baseStep:e.baseStep,parser:e.parser,props:e.textProps,sliderProps:e.sliderProps,value:e.value,viewProps:e.viewProps}),this.view=new Qi(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function ye(n,t){n.write(t)}function qn(n){const t=wt;if(Array.isArray(n))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(n).value;if(typeof n=="object")return t.required.raw(n).value}function tr(n){if(n==="inline"||n==="popup")return n}function Ne(n){const t=wt;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(n).value}function Fr(n){if(Array.isArray(n))return n;const t=[];return Object.keys(n).forEach(e=>{t.push({text:e,value:n[e]})}),t}function er(n){return R(n)?null:new zn(Fr(n))}function Hs(n){const t=n?Ce(n,di):null;return t?t.step:null}function bi(n,t){const e=n&&Ce(n,di);return e?Wi(e.step):Math.max(Wi(t),2)}function rn(n){const t=Hs(n);return t!=null?t:1}function sn(n,t){var e;const s=n&&Ce(n,di),d=Math.abs((e=s==null?void 0:s.step)!==null&&e!==void 0?e:t);return d===0?.1:Math.pow(10,Math.floor(Math.log10(d))-1)}const Gn=W("ckb");class Yn{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Gn()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("label");s.classList.add(Gn("l")),this.element.appendChild(s);const d=t.createElement("input");d.classList.add(Gn("i")),d.type="checkbox",s.appendChild(d),this.inputElement=d,e.viewProps.bindDisabled(this.inputElement);const g=t.createElement("div");g.classList.add(Gn("w")),s.appendChild(g);const k=G(t,"check");g.appendChild(k),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Kr{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Yn(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const e=t.currentTarget;this.value.rawValue=e.checked}}function $r(n){const t=[],e=er(n.options);return e&&t.push(e),new Bn(t)}const _i={id:"input-bool",type:"input",accept:(n,t)=>{if(typeof n!="boolean")return null;const s=Vt(t,{options:wt.optional.custom(qn)});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Sr,constraint:n=>$r(n.params),writer:n=>ye},controller:n=>{const t=n.document,e=n.value,s=n.constraint,d=s&&Ce(s,zn);return d?new jn(t,{props:new H({options:d.values.value("options")}),value:e,viewProps:n.viewProps}):new Kr(t,{value:e,viewProps:n.viewProps})}},on=W("col");class nr{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(on()),e.foldable.bindExpandedClass(this.element,on(void 0,"expanded")),yt(e.foldable,"completed",lt(this.element,on(void 0,"cpl")));const s=t.createElement("div");s.classList.add(on("h")),this.element.appendChild(s);const d=t.createElement("div");d.classList.add(on("s")),s.appendChild(d),this.swatchElement=d;const g=t.createElement("div");if(g.classList.add(on("t")),s.appendChild(g),this.textElement=g,e.pickerLayout==="inline"){const k=t.createElement("div");k.classList.add(on("p")),this.element.appendChild(k),this.pickerElement=k}else this.pickerElement=null}}function qs(n,t,e){const s=Nt(n/255,0,1),d=Nt(t/255,0,1),g=Nt(e/255,0,1),k=Math.max(s,d,g),B=Math.min(s,d,g),X=k-B;let Q=0,vt=0;const mt=(B+k)/2;return X!==0&&(vt=X/(1-Math.abs(k+B-1)),s===k?Q=(d-g)/X:d===k?Q=2+(g-s)/X:Q=4+(s-d)/X,Q=Q/6+(Q<0?1:0)),[Q*360,vt*100,mt*100]}function Gs(n,t,e){const s=(n%360+360)%360,d=Nt(t/100,0,1),g=Nt(e/100,0,1),k=(1-Math.abs(2*g-1))*d,B=k*(1-Math.abs(s/60%2-1)),X=g-k/2;let Q,vt,mt;return s>=0&&s<60?[Q,vt,mt]=[k,B,0]:s>=60&&s<120?[Q,vt,mt]=[B,k,0]:s>=120&&s<180?[Q,vt,mt]=[0,k,B]:s>=180&&s<240?[Q,vt,mt]=[0,B,k]:s>=240&&s<300?[Q,vt,mt]=[B,0,k]:[Q,vt,mt]=[k,0,B],[(Q+X)*255,(vt+X)*255,(mt+X)*255]}function Ys(n,t,e){const s=Nt(n/255,0,1),d=Nt(t/255,0,1),g=Nt(e/255,0,1),k=Math.max(s,d,g),B=Math.min(s,d,g),X=k-B;let Q;X===0?Q=0:k===s?Q=60*(((d-g)/X%6+6)%6):k===d?Q=60*((g-s)/X+2):Q=60*((s-d)/X+4);const vt=k===0?0:X/k,mt=k;return[Q,vt*100,mt*100]}function Ur(n,t,e){const s=Cn(n,360),d=Nt(t/100,0,1),g=Nt(e/100,0,1),k=g*d,B=k*(1-Math.abs(s/60%2-1)),X=g-k;let Q,vt,mt;return s>=0&&s<60?[Q,vt,mt]=[k,B,0]:s>=60&&s<120?[Q,vt,mt]=[B,k,0]:s>=120&&s<180?[Q,vt,mt]=[0,k,B]:s>=180&&s<240?[Q,vt,mt]=[0,B,k]:s>=240&&s<300?[Q,vt,mt]=[B,0,k]:[Q,vt,mt]=[k,0,B],[(Q+X)*255,(vt+X)*255,(mt+X)*255]}function c(n,t,e){const s=e+t*(100-Math.abs(2*e-100))/200;return[n,s!==0?t*(100-Math.abs(2*e-100))/s:0,e+t*(100-Math.abs(2*e-100))/(2*100)]}function r(n,t,e){const s=100-Math.abs(e*(200-t)/100-100);return[n,s!==0?t*e/s:0,e*(200-t)/(2*100)]}function l(n){return[n[0],n[1],n[2]]}function u(n,t){return[n[0],n[1],n[2],t]}const b={hsl:{hsl:(n,t,e)=>[n,t,e],hsv:c,rgb:Gs},hsv:{hsl:r,hsv:(n,t,e)=>[n,t,e],rgb:Ur},rgb:{hsl:qs,hsv:Ys,rgb:(n,t,e)=>[n,t,e]}};function E(n,t){return[t==="float"?1:n==="rgb"?255:360,t==="float"?1:n==="rgb"?255:100,t==="float"?1:n==="rgb"?255:100]}function L(n,t){return n===t?t:Cn(n,t)}function j(n,t,e){var s;const d=E(t,e);return[t==="rgb"?Nt(n[0],0,d[0]):L(n[0],d[0]),Nt(n[1],0,d[1]),Nt(n[2],0,d[2]),Nt((s=n[3])!==null&&s!==void 0?s:1,0,1)]}function pt(n,t,e,s){const d=E(t,e),g=E(t,s);return n.map((k,B)=>k/d[B]*g[B])}function de(n,t,e){const s=pt(n,t.mode,t.type,"int"),d=b[t.mode][e.mode](...s);return pt(d,e.mode,"int",e.type)}function he(n,t){return typeof n!="object"||R(n)?!1:t in n&&typeof n[t]=="number"}class it{static black(t="int"){return new it([0,0,0],"rgb",t)}static fromObject(t,e="int"){const s="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new it(s,"rgb",e)}static toRgbaObject(t,e="int"){return t.toRgbaObject(e)}static isRgbColorObject(t){return he(t,"r")&&he(t,"g")&&he(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&he(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,e){if(t.mode!==e.mode)return!1;const s=t.comps_,d=e.comps_;for(let g=0;g<s.length;g++)if(s[g]!==d[g])return!1;return!0}constructor(t,e,s="int"){this.mode=e,this.type=s,this.comps_=j(t,e,s)}getComponents(t,e="int"){return u(de(l(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:e}),this.comps_[3])}toRgbaObject(t="int"){const e=this.getComponents("rgb",t);return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Ge=W("colp");class Ws{constructor(t,e){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(Ge()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(Ge("hsv"));const d=t.createElement("div");d.classList.add(Ge("sv")),this.svPaletteView_=e.svPaletteView,d.appendChild(this.svPaletteView_.element),s.appendChild(d);const g=t.createElement("div");g.classList.add(Ge("h")),this.hPaletteView_=e.hPaletteView,g.appendChild(this.hPaletteView_.element),s.appendChild(g),this.element.appendChild(s);const k=t.createElement("div");if(k.classList.add(Ge("rgb")),this.textView_=e.textView,k.appendChild(this.textView_.element),this.element.appendChild(k),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};const B=t.createElement("div");B.classList.add(Ge("a"));const X=t.createElement("div");X.classList.add(Ge("ap")),X.appendChild(this.alphaViews_.palette.element),B.appendChild(X);const Q=t.createElement("div");Q.classList.add(Ge("at")),Q.appendChild(this.alphaViews_.text.element),B.appendChild(Q),this.element.appendChild(B)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(e=>e.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function lc(n){return n==="int"?"int":n==="float"?"float":void 0}function Xs(n){const t=wt;return Vt(n,{alpha:t.optional.boolean,color:t.optional.object({alpha:t.optional.boolean,type:t.optional.custom(lc)}),expanded:t.optional.boolean,picker:t.optional.custom(tr)})}function Wn(n){return n?.1:1}function Xn(n){var t;return(t=n.color)===null||t===void 0?void 0:t.type}function ac(n,t){return n.alpha===t.alpha&&n.mode===t.mode&&n.notation===t.notation&&n.type===t.type}function Te(n,t){const e=n.match(/^(.+)%$/);return Math.min(e?parseFloat(e[1])*.01*t:parseFloat(n),t)}const cc={deg:n=>n,grad:n=>n*360/400,rad:n=>n*360/(2*Math.PI),turn:n=>n*360};function el(n){const t=n.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(n);const e=parseFloat(t[1]),s=t[2];return cc[s](e)}function nl(n){const t=n.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[Te(t[1],255),Te(t[2],255),Te(t[3],255)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function il(n){return t=>{const e=nl(t);return e?new it(e,"rgb",n):null}}function rl(n){const t=n.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[Te(t[1],255),Te(t[2],255),Te(t[3],255),Te(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function sl(n){return t=>{const e=rl(t);return e?new it(e,"rgb",n):null}}function ol(n){const t=n.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[el(t[1]),Te(t[2],100),Te(t[3],100)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function ll(n){return t=>{const e=ol(t);return e?new it(e,"hsl",n):null}}function al(n){const t=n.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[el(t[1]),Te(t[2],100),Te(t[3],100),Te(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function cl(n){return t=>{const e=al(t);return e?new it(e,"hsl",n):null}}function ul(n){const t=n.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const e=n.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function uc(n){const t=ul(n);return t?new it(t,"rgb","int"):null}function pl(n){const t=n.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Ct(parseInt(t[4]+t[4],16),0,255,0,1)];const e=n.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),Ct(parseInt(e[4],16),0,255,0,1)]:null}function pc(n){const t=pl(n);return t?new it(t,"rgb","int"):null}function dl(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function hl(n){return t=>{const e=dl(t);return e?new it(e,"rgb",n):null}}function vl(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function fl(n){return t=>{const e=vl(t);return e?new it(e,"rgb",n):null}}const dc=[{parser:ul,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:pl,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:nl,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:rl,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:ol,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:al,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:dl,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:vl,result:{alpha:!0,mode:"rgb",notation:"object"}}];function hc(n){return dc.reduce((t,{parser:e,result:s})=>t||(e(n)?s:null),null)}function Js(n,t="int"){const e=hc(n);return e?e.notation==="hex"&&t!=="float"?Object.assign(Object.assign({},e),{type:"int"}):e.notation==="func"?Object.assign(Object.assign({},e),{type:t}):null:null}const ml={int:[uc,pc,il("int"),sl("int"),ll("int"),cl("int"),hl("int"),fl("int")],float:[il("float"),sl("float"),ll("float"),cl("float"),hl("float"),fl("float")]};function vc(n){const t=ml[n];return e=>{if(typeof e!="string")return it.black(n);const s=t.reduce((d,g)=>d||g(e),null);return s!=null?s:it.black(n)}}function Zs(n){const t=ml[n];return e=>t.reduce((s,d)=>s||d(e),null)}function bl(n){const t=Nt(Math.floor(n),0,255).toString(16);return t.length===1?`0${t}`:t}function _l(n,t="#"){const e=l(n.getComponents("rgb")).map(bl).join("");return`${t}${e}`}function Qs(n,t="#"){const e=n.getComponents("rgb"),s=[e[0],e[1],e[2],e[3]*255].map(bl).join("");return`${t}${s}`}function gl(n,t){const e=zt(t==="float"?2:0);return`rgb(${l(n.getComponents("rgb",t)).map(d=>e(d)).join(", ")})`}function fc(n){return t=>gl(t,n)}function Hr(n,t){const e=zt(2),s=zt(t==="float"?2:0);return`rgba(${n.getComponents("rgb",t).map((g,k)=>(k===3?e:s)(g)).join(", ")})`}function mc(n){return t=>Hr(t,n)}function bc(n){const t=[zt(0),Kn,Kn];return`hsl(${l(n.getComponents("hsl")).map((s,d)=>t[d](s)).join(", ")})`}function _c(n){const t=[zt(0),Kn,Kn,zt(2)];return`hsla(${n.getComponents("hsl").map((s,d)=>t[d](s)).join(", ")})`}function wl(n,t){const e=zt(t==="float"?2:0),s=["r","g","b"];return`{${l(n.getComponents("rgb",t)).map((g,k)=>`${s[k]}: ${e(g)}`).join(", ")}}`}function gc(n){return t=>wl(t,n)}function xl(n,t){const e=zt(2),s=zt(t==="float"?2:0),d=["r","g","b","a"];return`{${n.getComponents("rgb",t).map((k,B)=>{const X=B===3?e:s;return`${d[B]}: ${X(k)}`}).join(", ")}}`}function wc(n){return t=>xl(t,n)}const xc=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:_l},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Qs},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:bc},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:_c},...["int","float"].reduce((n,t)=>[...n,{format:{alpha:!1,mode:"rgb",notation:"func",type:t},stringifier:fc(t)},{format:{alpha:!0,mode:"rgb",notation:"func",type:t},stringifier:mc(t)},{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:gc(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:wc(t)}],[])];function to(n){return xc.reduce((t,e)=>t||(ac(e.format,n)?e.stringifier:null),null)}const ir=W("apl");class Cc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(ir()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const s=t.createElement("div");s.classList.add(ir("b")),this.element.appendChild(s);const d=t.createElement("div");d.classList.add(ir("c")),s.appendChild(d),this.colorElem_=d;const g=t.createElement("div");g.classList.add(ir("m")),this.element.appendChild(g),this.markerElem_=g;const k=t.createElement("div");k.classList.add(ir("p")),this.markerElem_.appendChild(k),this.previewElem_=k,this.update_()}update_(){const t=this.value.rawValue,e=t.getComponents("rgb"),s=new it([e[0],e[1],e[2],0],"rgb"),d=new it([e[0],e[1],e[2],255],"rgb"),g=["to right",Hr(s),Hr(d)];this.colorElem_.style.background=`linear-gradient(${g.join(",")})`,this.previewElem_.style.backgroundColor=Hr(t);const k=Ct(e[3],0,1,0,100);this.markerElem_.style.left=`${k}%`}onValueChange_(){this.update_()}}class yc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Cc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const s=t.point.x/t.bounds.width,d=this.value.rawValue,[g,k,B]=d.getComponents("hsv");this.value.setRawValue(new it([g,k,B,s],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Yt(Wn(!0),Se(t));if(e===0)return;const s=this.value.rawValue,[d,g,k,B]=s.getComponents("hsv");this.value.setRawValue(new it([d,g,k,B+e],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){Yt(Wn(!0),Se(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const gi=W("coltxt");function Pc(n){const t=n.createElement("select"),e=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(e.reduce((s,d)=>{const g=n.createElement("option");return g.textContent=d.text,g.value=d.value,s.appendChild(g),s},n.createDocumentFragment())),t}class Ec{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(gi()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(gi("m")),this.modeElem_=Pc(t),this.modeElem_.classList.add(gi("ms")),s.appendChild(this.modeSelectElement),e.viewProps.bindDisabled(this.modeElem_);const d=t.createElement("div");d.classList.add(gi("mm")),d.appendChild(G(t,"dropdown")),s.appendChild(d),this.element.appendChild(s);const g=t.createElement("div");g.classList.add(gi("w")),this.element.appendChild(g),this.textsElem_=g,this.textViews_=e.textViews,this.applyTextViews_(),$t(e.colorMode,k=>{this.modeElem_.value=k})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){ut(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(e=>{const s=t.createElement("div");s.classList.add(gi("c")),s.appendChild(e.element),this.textsElem_.appendChild(s)})}}function kc(n){return zt(n==="float"?2:0)}function Vc(n,t,e){const s=E(n,t)[e];return new gn({min:0,max:s})}function eo(n,t,e){return new Un(n,{arrayPosition:e===0?"fst":e===3-1?"lst":"mid",baseStep:Wn(!1),parser:t.parser,props:H.fromObject({draggingScale:t.colorType==="float"?.01:1,formatter:kc(t.colorType)}),value:Z(0,{constraint:Vc(t.colorMode,t.colorType,e)}),viewProps:t.viewProps})}class Mc{constructor(t,e){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=e.colorType,this.parser_=e.parser,this.value=e.value,this.viewProps=e.viewProps,this.colorMode=Z(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Ec(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const e={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},s=[eo(t,e,0),eo(t,e,1),eo(t,e,2)];return s.forEach((d,g)=>{xn({primary:this.value,secondary:d.value,forward:k=>k.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[g],backward:(k,B)=>{const X=this.colorMode.rawValue,Q=k.rawValue.getComponents(X,this.colorType_);return Q[g]=B.rawValue,new it(u(l(Q),Q[3]),X,this.colorType_)}})}),s}onModeSelectChange_(t){const e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const no=W("hpl");class Lc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(no()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const s=t.createElement("div");s.classList.add(no("c")),this.element.appendChild(s);const d=t.createElement("div");d.classList.add(no("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=this.value.rawValue,[e]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=gl(new it([e,100,100],"hsv"));const s=Ct(e,0,360,0,100);this.markerElem_.style.left=`${s}%`}onValueChange_(){this.update_()}}class Sc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Lc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const s=Ct(Nt(t.point.x,0,t.bounds.width),0,t.bounds.width,0,360),d=this.value.rawValue,[,g,k,B]=d.getComponents("hsv");this.value.setRawValue(new it([s,g,k,B],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Yt(Wn(!1),Se(t));if(e===0)return;const s=this.value.rawValue,[d,g,k,B]=s.getComponents("hsv");this.value.setRawValue(new it([d+e,g,k,B],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){Yt(Wn(!1),Se(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const io=W("svp"),Cl=64;class Tc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(io()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const s=t.createElement("canvas");s.height=Cl,s.width=Cl,s.classList.add(io("c")),this.element.appendChild(s),this.canvasElement=s;const d=t.createElement("div");d.classList.add(io("m")),this.element.appendChild(d),this.markerElem_=d,this.update_()}update_(){const t=Y(this.canvasElement);if(!t)return;const s=this.value.rawValue.getComponents("hsv"),d=this.canvasElement.width,g=this.canvasElement.height,k=t.getImageData(0,0,d,g),B=k.data;for(let vt=0;vt<g;vt++)for(let mt=0;mt<d;mt++){const Jn=Ct(mt,0,d,0,100),sr=Ct(vt,0,g,100,0),or=Ur(s[0],Jn,sr),qr=(vt*d+mt)*4;B[qr]=or[0],B[qr+1]=or[1],B[qr+2]=or[2],B[qr+3]=255}t.putImageData(k,0,0);const X=Ct(s[1],0,100,0,100);this.markerElem_.style.left=`${X}%`;const Q=Ct(s[2],0,100,100,0);this.markerElem_.style.top=`${Q}%`}onValueChange_(){this.update_()}}class Dc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Tc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const s=Ct(t.point.x,0,t.bounds.width,0,100),d=Ct(t.point.y,0,t.bounds.height,100,0),[g,,,k]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new it([g,s,d,k],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){fi(t.key)&&t.preventDefault();const[e,s,d,g]=this.value.rawValue.getComponents("hsv"),k=Wn(!1),B=Yt(k,Se(t)),X=Yt(k,$n(t));B===0&&X===0||this.value.setRawValue(new it([e,s+B,d+X,g],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const e=Wn(!1),s=Yt(e,Se(t)),d=Yt(e,$n(t));s===0&&d===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Ac{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.hPaletteC_=new Sc(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Dc(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=e.supportsAlpha?{palette:new yc(t,{value:this.value,viewProps:this.viewProps}),text:new Un(t,{parser:Le,baseStep:.1,props:H.fromObject({draggingScale:.01,formatter:zt(2)}),value:Z(0,{constraint:new gn({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&xn({primary:this.value,secondary:this.alphaIcs_.text.value,forward:s=>s.rawValue.getComponents()[3],backward:(s,d)=>{const g=s.rawValue.getComponents();return g[3]=d.rawValue,new it(g,s.rawValue.mode)}}),this.textC_=new Mc(t,{colorType:e.colorType,parser:Le,value:this.value,viewProps:this.viewProps}),this.view=new Ws(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const ro=W("colsw");class Rc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(ro()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(ro("sw")),this.element.appendChild(s),this.swatchElem_=s;const d=t.createElement("button");d.classList.add(ro("b")),e.viewProps.bindDisabled(d),this.element.appendChild(d),this.buttonElement=d,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Qs(t)}onValueChange_(){this.update_()}}class Oc{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new Rc(t,{value:this.value,viewProps:this.viewProps})}}class so{constructor(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=xe.create(e.expanded),this.swatchC_=new Oc(t,{value:this.value,viewProps:this.viewProps});const s=this.swatchC_.view.buttonElement;s.addEventListener("blur",this.onButtonBlur_),s.addEventListener("click",this.onButtonClick_),this.textC_=new hi(t,{parser:e.parser,props:H.fromObject({formatter:e.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new nr(t,{foldable:this.foldable_,pickerLayout:e.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=e.pickerLayout==="popup"?new Mr(t,{viewProps:this.viewProps}):null;const d=new Ac(t,{colorType:e.colorType,supportsAlpha:e.supportsAlpha,value:this.value,viewProps:this.viewProps});d.view.allFocusableElements.forEach(g=>{g.addEventListener("blur",this.onPopupChildBlur_),g.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=d,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(d.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:g=>g.rawValue,backward:(g,k)=>k.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Dn(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,s=t.relatedTarget;(!s||!e.contains(s))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,s=ht(t);s&&e.contains(s)||s&&s===this.swatchC_.view.buttonElement&&!I(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Nc(n,t){return it.isColorObject(n)?it.fromObject(n,t):it.black(t)}function Ic(n){return l(n.getComponents("rgb")).reduce((t,e)=>t<<8|Math.floor(e)&255,0)}function Bc(n){return n.getComponents("rgb").reduce((t,e,s)=>{const d=Math.floor(s===3?e*255:e)&255;return t<<8|d},0)>>>0}function zc(n){return new it([n>>16&255,n>>8&255,n&255],"rgb")}function jc(n){return new it([n>>24&255,n>>16&255,n>>8&255,Ct(n&255,0,255,0,1)],"rgb")}function Fc(n){return typeof n!="number"?it.black():zc(n)}function Kc(n){return typeof n!="number"?it.black():jc(n)}function $c(n){const t=to(n);return t?(e,s)=>{ye(e,t(s))}:null}function Uc(n){const t=n?Bc:Ic;return(e,s)=>{ye(e,t(s))}}function Hc(n,t,e){const s=t.toRgbaObject(e);n.writeProperty("r",s.r),n.writeProperty("g",s.g),n.writeProperty("b",s.b),n.writeProperty("a",s.a)}function qc(n,t,e){const s=t.toRgbaObject(e);n.writeProperty("r",s.r),n.writeProperty("g",s.g),n.writeProperty("b",s.b)}function Gc(n,t){return(e,s)=>{n?Hc(e,s,t):qc(e,s,t)}}function oo(n){var t;return!!((n==null?void 0:n.alpha)||((t=n==null?void 0:n.color)===null||t===void 0?void 0:t.alpha))}function Yc(n){return n?t=>Qs(t,"0x"):t=>_l(t,"0x")}function Wc(n){return"color"in n||"view"in n&&n.view==="color"}const Xc={id:"input-color-number",type:"input",accept:(n,t)=>{if(typeof n!="number"||!Wc(t))return null;const e=Xs(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>oo(n.params)?Kc:Fc,equals:it.equals,writer:n=>Uc(oo(n.params))},controller:n=>{const t=oo(n.params),e="expanded"in n.params?n.params.expanded:void 0,s="picker"in n.params?n.params.picker:void 0;return new so(n.document,{colorType:"int",expanded:e!=null?e:!1,formatter:Yc(t),parser:Zs("int"),pickerLayout:s!=null?s:"popup",supportsAlpha:t,value:n.value,viewProps:n.viewProps})}};function Jc(n){return it.isRgbaColorObject(n)}function Zc(n){return t=>Nc(t,n)}function Qc(n,t){return e=>n?xl(e,t):wl(e,t)}const tu={id:"input-color-object",type:"input",accept:(n,t)=>{if(!it.isColorObject(n))return null;const e=Xs(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>Zc(Xn(n.params)),equals:it.equals,writer:n=>Gc(Jc(n.initialValue),Xn(n.params))},controller:n=>{var t;const e=it.isRgbaColorObject(n.initialValue),s="expanded"in n.params?n.params.expanded:void 0,d="picker"in n.params?n.params.picker:void 0,g=(t=Xn(n.params))!==null&&t!==void 0?t:"int";return new so(n.document,{colorType:g,expanded:s!=null?s:!1,formatter:Qc(e,g),parser:Zs(g),pickerLayout:d!=null?d:"popup",supportsAlpha:e,value:n.value,viewProps:n.viewProps})}},eu={id:"input-color-string",type:"input",accept:(n,t)=>{if(typeof n!="string"||"view"in t&&t.view==="text")return null;const e=Js(n,Xn(t));if(!e||!to(e))return null;const d=Xs(t);return d?{initialValue:n,params:d}:null},binding:{reader:n=>{var t;return vc((t=Xn(n.params))!==null&&t!==void 0?t:"int")},equals:it.equals,writer:n=>{const t=Js(n.initialValue,Xn(n.params));if(!t)throw F.shouldNeverHappen();const e=$c(t);if(!e)throw F.notBindable();return e}},controller:n=>{const t=Js(n.initialValue,Xn(n.params));if(!t)throw F.shouldNeverHappen();const e=to(t);if(!e)throw F.shouldNeverHappen();const s="expanded"in n.params?n.params.expanded:void 0,d="picker"in n.params?n.params.picker:void 0;return new so(n.document,{colorType:t.type,expanded:s!=null?s:!1,formatter:e,parser:Zs(t.type),pickerLayout:d!=null?d:"popup",supportsAlpha:t.alpha,value:n.value,viewProps:n.viewProps})}};class yn{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const e=this.asm_.toComponents(t).map((s,d)=>{var g,k;return(k=(g=this.components[d])===null||g===void 0?void 0:g.constrain(s))!==null&&k!==void 0?k:s});return this.asm_.fromComponents(e)}}const yl=W("pndtxt");class nu{constructor(t,e){this.textViews=e.textViews,this.element=t.createElement("div"),this.element.classList.add(yl()),this.textViews.forEach(s=>{const d=t.createElement("div");d.classList.add(yl("a")),d.appendChild(s.element),this.element.appendChild(d)})}}function iu(n,t,e){return new Un(n,{arrayPosition:e===0?"fst":e===t.axes.length-1?"lst":"mid",baseStep:t.axes[e].baseStep,parser:t.parser,props:t.axes[e].textProps,value:Z(0,{constraint:t.axes[e].constraint}),viewProps:t.viewProps})}class lo{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.acs_=e.axes.map((s,d)=>iu(t,e,d)),this.acs_.forEach((s,d)=>{xn({primary:this.value,secondary:s.value,forward:g=>e.assembly.toComponents(g.rawValue)[d],backward:(g,k)=>{const B=e.assembly.toComponents(g.rawValue);return B[d]=k.rawValue,e.assembly.fromComponents(B)}})}),this.view=new nu(t,{textViews:this.acs_.map(s=>s.view)})}}function Pl(n,t){return"step"in n&&!R(n.step)?new di(n.step,t):null}function El(n){return!R(n.max)&&!R(n.min)?new gn({max:n.max,min:n.min}):!R(n.max)||!R(n.min)?new Fi({max:n.max,min:n.min}):null}function ru(n){const t=Ce(n,gn);if(t)return[t.values.get("min"),t.values.get("max")];const e=Ce(n,Fi);return e?[e.minValue,e.maxValue]:[void 0,void 0]}function su(n,t){const e=[],s=Pl(n,t);s&&e.push(s);const d=El(n);d&&e.push(d);const g=er(n.options);return g&&e.push(g),new Bn(e)}const ou={id:"input-number",type:"input",accept:(n,t)=>{if(typeof n!="number")return null;const e=wt,s=Vt(t,{format:e.optional.function,max:e.optional.number,min:e.optional.number,options:e.optional.custom(qn),step:e.optional.number});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Oe,constraint:n=>su(n.params,n.initialValue),writer:n=>ye},controller:n=>{var t;const e=n.value,s=n.constraint,d=s&&Ce(s,zn);if(d)return new jn(n.document,{props:new H({options:d.values.value("options")}),value:e,viewProps:n.viewProps});const g=(t="format"in n.params?n.params.format:void 0)!==null&&t!==void 0?t:zt(bi(s,e.rawValue)),k=s&&Ce(s,gn);return k?new mi(n.document,{baseStep:rn(s),parser:Le,sliderProps:new H({maxValue:k.values.value("max"),minValue:k.values.value("min")}),textProps:H.fromObject({draggingScale:sn(s,e.rawValue),formatter:g}),value:e,viewProps:n.viewProps}):new Un(n.document,{baseStep:rn(s),parser:Le,props:H.fromObject({draggingScale:sn(s,e.rawValue),formatter:g}),value:e,viewProps:n.viewProps})}};class Pn{constructor(t=0,e=0){this.x=t,this.y=e}getComponents(){return[this.x,this.y]}static isObject(t){if(R(t))return!1;const e=t.x,s=t.y;return!(typeof e!="number"||typeof s!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y}toObject(){return{x:this.x,y:this.y}}}const kl={toComponents:n=>n.getComponents(),fromComponents:n=>new Pn(...n)},wi=W("p2d");class lu{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(wi()),e.viewProps.bindClassModifiers(this.element),$t(e.expanded,lt(this.element,wi(void 0,"expanded")));const s=t.createElement("div");s.classList.add(wi("h")),this.element.appendChild(s);const d=t.createElement("button");d.classList.add(wi("b")),d.appendChild(G(t,"p2dpad")),e.viewProps.bindDisabled(d),s.appendChild(d),this.buttonElement=d;const g=t.createElement("div");if(g.classList.add(wi("t")),s.appendChild(g),this.textElement=g,e.pickerLayout==="inline"){const k=t.createElement("div");k.classList.add(wi("p")),this.element.appendChild(k),this.pickerElement=k}else this.pickerElement=null}}const En=W("p2dp");class au{constructor(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(En()),e.layout==="popup"&&this.element.classList.add(En(void 0,"p")),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("div");s.classList.add(En("p")),e.viewProps.bindTabIndex(s),this.element.appendChild(s),this.padElement=s;const d=t.createElementNS(S,"svg");d.classList.add(En("g")),this.padElement.appendChild(d),this.svgElem_=d;const g=t.createElementNS(S,"line");g.classList.add(En("ax")),g.setAttributeNS(null,"x1","0"),g.setAttributeNS(null,"y1","50%"),g.setAttributeNS(null,"x2","100%"),g.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(g);const k=t.createElementNS(S,"line");k.classList.add(En("ax")),k.setAttributeNS(null,"x1","50%"),k.setAttributeNS(null,"y1","0"),k.setAttributeNS(null,"x2","50%"),k.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(k);const B=t.createElementNS(S,"line");B.classList.add(En("l")),B.setAttributeNS(null,"x1","50%"),B.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(B),this.lineElem_=B;const X=t.createElement("div");X.classList.add(En("m")),this.padElement.appendChild(X),this.markerElem_=X,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,e]=this.value.rawValue.getComponents(),s=this.maxValue_,d=Ct(t,-s,+s,0,100),g=Ct(e,-s,+s,0,100),k=this.invertsY_?100-g:g;this.lineElem_.setAttributeNS(null,"x2",`${d}%`),this.lineElem_.setAttributeNS(null,"y2",`${k}%`),this.markerElem_.style.left=`${d}%`,this.markerElem_.style.top=`${k}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Vl(n,t,e){return[Yt(t[0],Se(n)),Yt(t[1],$n(n))*(e?1:-1)]}class cu{constructor(t,e){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new au(t,{invertsY:this.invertsY_,layout:e.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const s=this.maxValue_,d=Ct(t.point.x,0,t.bounds.width,-s,+s),g=Ct(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-s,+s);this.value.setRawValue(new Pn(d,g),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){fi(t.key)&&t.preventDefault();const[e,s]=Vl(t,this.baseSteps_,this.invertsY_);e===0&&s===0||this.value.setRawValue(new Pn(this.value.rawValue.x+e,this.value.rawValue.y+s),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[e,s]=Vl(t,this.baseSteps_,this.invertsY_);e===0&&s===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class uu{constructor(t,e){var s,d;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=xe.create(e.expanded),this.popC_=e.pickerLayout==="popup"?new Mr(t,{viewProps:this.viewProps}):null;const g=new cu(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,layout:e.pickerLayout,maxValue:e.maxValue,value:this.value,viewProps:this.viewProps});g.view.allFocusableElements.forEach(k=>{k.addEventListener("blur",this.onPopupChildBlur_),k.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=g,this.textC_=new lo(t,{assembly:kl,axes:e.axes,parser:e.parser,value:this.value,viewProps:this.viewProps}),this.view=new lu(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(s=this.view.buttonElement)===null||s===void 0||s.addEventListener("blur",this.onPadButtonBlur_),(d=this.view.buttonElement)===null||d===void 0||d.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:k=>k.rawValue,backward:(k,B)=>B.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Dn(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,s=t.relatedTarget;(!s||!e.contains(s))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,s=ht(t);s&&e.contains(s)||s&&s===this.view.buttonElement&&!I(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}class xi{constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.z=s}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(R(t))return!1;const e=t.x,s=t.y,d=t.z;return!(typeof e!="number"||typeof s!="number"||typeof d!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ml={toComponents:n=>n.getComponents(),fromComponents:n=>new xi(...n)};function pu(n){return xi.isObject(n)?new xi(n.x,n.y,n.z):new xi}function du(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z)}function hu(n,t){return new yn({assembly:Ml,components:[ln("x"in n?n.x:void 0,t.x),ln("y"in n?n.y:void 0,t.y),ln("z"in n?n.z:void 0,t.z)]})}function ao(n,t){return{baseStep:rn(t),constraint:t,textProps:H.fromObject({draggingScale:sn(t,n),formatter:zt(bi(t,n))})}}const vu={id:"input-point3d",type:"input",accept:(n,t)=>{if(!xi.isObject(n))return null;const e=wt,s=Vt(t,{x:e.optional.custom(Ne),y:e.optional.custom(Ne),z:e.optional.custom(Ne)});return s?{initialValue:n,params:s}:null},binding:{reader:n=>pu,constraint:n=>hu(n.params,n.initialValue),equals:xi.equals,writer:n=>du},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof yn))throw F.shouldNeverHappen();return new lo(n.document,{assembly:Ml,axes:[ao(t.rawValue.x,e.components[0]),ao(t.rawValue.y,e.components[1]),ao(t.rawValue.z,e.components[2])],parser:Le,value:t,viewProps:n.viewProps})}};class Ci{constructor(t=0,e=0,s=0,d=0){this.x=t,this.y=e,this.z=s,this.w=d}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(R(t))return!1;const e=t.x,s=t.y,d=t.z,g=t.w;return!(typeof e!="number"||typeof s!="number"||typeof d!="number"||typeof g!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Ll={toComponents:n=>n.getComponents(),fromComponents:n=>new Ci(...n)};function fu(n){return Ci.isObject(n)?new Ci(n.x,n.y,n.z,n.w):new Ci}function mu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z),n.writeProperty("w",t.w)}function bu(n,t){return new yn({assembly:Ll,components:[ln("x"in n?n.x:void 0,t.x),ln("y"in n?n.y:void 0,t.y),ln("z"in n?n.z:void 0,t.z),ln("w"in n?n.w:void 0,t.w)]})}function _u(n,t){return{baseStep:rn(t),constraint:t,textProps:H.fromObject({draggingScale:sn(t,n),formatter:zt(bi(t,n))})}}const gu={id:"input-point4d",type:"input",accept:(n,t)=>{if(!Ci.isObject(n))return null;const e=wt,s=Vt(t,{x:e.optional.custom(Ne),y:e.optional.custom(Ne),z:e.optional.custom(Ne),w:e.optional.custom(Ne)});return s?{initialValue:n,params:s}:null},binding:{reader:n=>fu,constraint:n=>bu(n.params,n.initialValue),equals:Ci.equals,writer:n=>mu},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof yn))throw F.shouldNeverHappen();return new lo(n.document,{assembly:Ll,axes:t.rawValue.getComponents().map((s,d)=>_u(s,e.components[d])),parser:Le,value:t,viewProps:n.viewProps})}};function wu(n){const t=[],e=er(n.options);return e&&t.push(e),new Bn(t)}const xu={id:"input-string",type:"input",accept:(n,t)=>{if(typeof n!="string")return null;const s=Vt(t,{options:wt.optional.custom(qn)});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Gi,constraint:n=>wu(n.params),writer:n=>ye},controller:n=>{const t=n.document,e=n.value,s=n.constraint,d=s&&Ce(s,zn);return d?new jn(t,{props:new H({options:d.values.value("options")}),value:e,viewProps:n.viewProps}):new hi(t,{parser:g=>g,props:H.fromObject({formatter:qe}),value:e,viewProps:n.viewProps})}},rr={monitor:{defaultInterval:200,defaultLineCount:3}},Sl=W("mll");class Cu{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Sl()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("textarea");s.classList.add(Sl("i")),s.style.height=`calc(var(--bld-us) * ${e.lineCount})`,s.readOnly=!0,e.viewProps.bindDisabled(s),this.element.appendChild(s),this.textareaElem_=s,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.textareaElem_,e=t.scrollTop===t.scrollHeight-t.clientHeight,s=[];this.value.rawValue.forEach(d=>{d!==void 0&&s.push(this.formatter_(d))}),t.textContent=s.join(`
`),e&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class co{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new Cu(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value,viewProps:this.viewProps})}}const Tl=W("sgl");class yu{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Tl()),e.viewProps.bindClassModifiers(this.element);const s=t.createElement("input");s.classList.add(Tl("i")),s.readOnly=!0,s.type="text",e.viewProps.bindDisabled(s),this.element.appendChild(s),this.inputElement=s,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.value.rawValue,e=t[t.length-1];this.inputElement.value=e!==void 0?this.formatter_(e):""}onValueUpdate_(){this.update_()}}class uo{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new yu(t,{formatter:e.formatter,value:this.value,viewProps:this.viewProps})}}const Pu={id:"monitor-bool",type:"monitor",accept:(n,t)=>{if(typeof n!="boolean")return null;const s=Vt(t,{lineCount:wt.optional.number});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Sr},controller:n=>{var t;return n.value.rawValue.length===1?new uo(n.document,{formatter:Tr,value:n.value,viewProps:n.viewProps}):new co(n.document,{formatter:Tr,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:rr.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}},kn=W("grl");class Eu{constructor(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(kn()),e.viewProps.bindClassModifiers(this.element),this.formatter_=e.formatter,this.props_=e.props,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const s=t.createElementNS(S,"svg");s.classList.add(kn("g")),s.style.height=`calc(var(--bld-us) * ${e.lineCount})`,this.element.appendChild(s),this.svgElem_=s;const d=t.createElementNS(S,"polyline");this.svgElem_.appendChild(d),this.lineElem_=d;const g=t.createElement("div");g.classList.add(kn("t"),W("tt")()),this.element.appendChild(g),this.tooltipElem_=g,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,s=this.props_.get("minValue"),d=this.props_.get("maxValue"),g=[];this.value.rawValue.forEach((vt,mt)=>{if(vt===void 0)return;const Jn=Ct(mt,0,e,0,t.width),sr=Ct(vt,s,d,t.height,0);g.push([Jn,sr].join(","))}),this.lineElem_.setAttributeNS(null,"points",g.join(" "));const k=this.tooltipElem_,B=this.value.rawValue[this.cursor_.rawValue];if(B===void 0){k.classList.remove(kn("t","a"));return}const X=Ct(this.cursor_.rawValue,0,e,0,t.width),Q=Ct(B,s,d,t.height,0);k.style.left=`${X}px`,k.style.top=`${Q}px`,k.textContent=`${this.formatter_(B)}`,k.classList.contains(kn("t","a"))||(k.classList.add(kn("t","a"),kn("t","in")),N(k),k.classList.remove(kn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class ku{constructor(t,e){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=e.props,this.value=e.value,this.viewProps=e.viewProps,this.cursor_=Z(-1),this.view=new Eu(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!I(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const s=new nn(this.view.element);s.emitter.on("down",this.onGraphPointerDown_),s.emitter.on("move",this.onGraphPointerMove_),s.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(t){const e=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Ct(t.offsetX,0,e.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Ct(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function po(n){return"format"in n&&!R(n.format)?n.format:zt(2)}function Vu(n){var t;return n.value.rawValue.length===1?new uo(n.document,{formatter:po(n.params),value:n.value,viewProps:n.viewProps}):new co(n.document,{formatter:po(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:rr.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}function Mu(n){var t,e,s;return new ku(n.document,{formatter:po(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:rr.monitor.defaultLineCount,props:H.fromObject({maxValue:(e="max"in n.params?n.params.max:null)!==null&&e!==void 0?e:100,minValue:(s="min"in n.params?n.params.min:null)!==null&&s!==void 0?s:0}),value:n.value,viewProps:n.viewProps})}function Dl(n){return"view"in n&&n.view==="graph"}const Lu={id:"monitor-number",type:"monitor",accept:(n,t)=>{if(typeof n!="number")return null;const e=wt,s=Vt(t,{format:e.optional.function,lineCount:e.optional.number,max:e.optional.number,min:e.optional.number,view:e.optional.string});return s?{initialValue:n,params:s}:null},binding:{defaultBufferSize:n=>Dl(n)?64:1,reader:n=>Oe},controller:n=>Dl(n.params)?Mu(n):Vu(n)},Su={id:"monitor-string",type:"monitor",accept:(n,t)=>{if(typeof n!="string")return null;const e=wt,s=Vt(t,{lineCount:e.optional.number,multiline:e.optional.boolean});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Gi},controller:n=>{var t;const e=n.value;return e.rawValue.length>1||"multiline"in n.params&&n.params.multiline?new co(n.document,{formatter:qe,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:rr.monitor.defaultLineCount,value:e,viewProps:n.viewProps}):new uo(n.document,{formatter:qe,value:e,viewProps:n.viewProps})}};function Tu(n,t){var e;const s=n.accept(t.target.read(),t.params);if(R(s))return null;const d=wt,g={target:t.target,initialValue:s.initialValue,params:s.params},k=n.binding.reader(g),B=n.binding.constraint?n.binding.constraint(g):void 0,X=Z(k(s.initialValue),{constraint:B,equals:n.binding.equals}),Q=new pi({reader:k,target:t.target,value:X,writer:n.binding.writer(g)}),vt=d.optional.boolean(t.params.disabled).value,mt=d.optional.boolean(t.params.hidden).value,Jn=n.controller({constraint:B,document:t.document,initialValue:s.initialValue,params:s.params,value:Q.value,viewProps:qt.create({disabled:vt,hidden:mt})});return new Gt(t.document,{binding:Q,blade:At(),props:H.fromObject({label:"label"in t.params?(e=d.optional.string(t.params.label).value)!==null&&e!==void 0?e:null:t.target.key}),valueController:Jn})}function Du(n,t){return t===0?new Pr:new ji(n,t!=null?t:rr.monitor.defaultInterval)}function Au(n,t){var e,s,d;const g=wt,k=n.accept(t.target.read(),t.params);if(R(k))return null;const B={target:t.target,initialValue:k.initialValue,params:k.params},X=n.binding.reader(B),Q=(s=(e=g.optional.number(t.params.bufferSize).value)!==null&&e!==void 0?e:n.binding.defaultBufferSize&&n.binding.defaultBufferSize(k.params))!==null&&s!==void 0?s:1,vt=g.optional.number(t.params.interval).value,mt=new ks({reader:X,target:t.target,ticker:Du(t.document,vt),value:Er(Q)}),Jn=g.optional.boolean(t.params.disabled).value,sr=g.optional.boolean(t.params.hidden).value,or=n.controller({document:t.document,params:k.params,value:mt.value,viewProps:qt.create({disabled:Jn,hidden:sr})});return new ce(t.document,{binding:mt,blade:At(),props:H.fromObject({label:"label"in t.params?(d=g.optional.string(t.params.label).value)!==null&&d!==void 0?d:null:t.target.key}),valueController:or})}class Ru{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,e,s){const d=e.read();if(R(d))throw new F({context:{key:e.key},type:"nomatchingcontroller"});const g=this.pluginsMap_.inputs.reduce((k,B)=>k!=null?k:Tu(B,{document:t,target:e,params:s}),null);if(g)return g;throw new F({context:{key:e.key},type:"nomatchingcontroller"})}createMonitor(t,e,s){const d=this.pluginsMap_.monitors.reduce((g,k)=>g!=null?g:Au(k,{document:t,params:s,target:e}),null);if(d)return d;throw new F({context:{key:e.key},type:"nomatchingcontroller"})}createBlade(t,e){const s=this.pluginsMap_.blades.reduce((d,g)=>d!=null?d:Es(g,{document:t,params:e}),null);if(!s)throw new F({type:"nomatchingview",context:{params:e}});return s}createBladeApi(t){if(t instanceof Gt)return new pn(t);if(t instanceof ce)return new dn(t);if(t instanceof Xt)return new _(t,this);const e=this.pluginsMap_.blades.reduce((s,d)=>s!=null?s:d.api({controller:t,pool:this}),null);if(!e)throw F.shouldNeverHappen();return e}}function Ou(){const n=new Ru;return[Fu,vu,gu,xu,ou,eu,tu,Xc,_i,Pu,Su,Lu,Qe,ws,Cs,zi].forEach(t=>{n.register(t)}),n}function Nu(n){return Pn.isObject(n)?new Pn(n.x,n.y):new Pn}function Iu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y)}function ln(n,t){if(!n)return;const e=[],s=Pl(n,t);s&&e.push(s);const d=El(n);return d&&e.push(d),new Bn(e)}function Bu(n,t){return new yn({assembly:kl,components:[ln("x"in n?n.x:void 0,t.x),ln("y"in n?n.y:void 0,t.y)]})}function Al(n,t){const[e,s]=n?ru(n):[];if(!R(e)||!R(s))return Math.max(Math.abs(e!=null?e:0),Math.abs(s!=null?s:0));const d=rn(n);return Math.max(Math.abs(d)*10,Math.abs(t)*10)}function zu(n,t){const e=t instanceof yn?t.components[0]:void 0,s=t instanceof yn?t.components[1]:void 0,d=Al(e,n.x),g=Al(s,n.y);return Math.max(d,g)}function Rl(n,t){return{baseStep:rn(t),constraint:t,textProps:H.fromObject({draggingScale:sn(t,n),formatter:zt(bi(t,n))})}}function ju(n){if(!("y"in n))return!1;const t=n.y;return t&&"inverted"in t?!!t.inverted:!1}const Fu={id:"input-point2d",type:"input",accept:(n,t)=>{if(!Pn.isObject(n))return null;const e=wt,s=Vt(t,{expanded:e.optional.boolean,picker:e.optional.custom(tr),x:e.optional.custom(Ne),y:e.optional.object({inverted:e.optional.boolean,max:e.optional.number,min:e.optional.number,step:e.optional.number})});return s?{initialValue:n,params:s}:null},binding:{reader:n=>Nu,constraint:n=>Bu(n.params,n.initialValue),equals:Pn.equals,writer:n=>Iu},controller:n=>{const t=n.document,e=n.value,s=n.constraint;if(!(s instanceof yn))throw F.shouldNeverHappen();const d="expanded"in n.params?n.params.expanded:void 0,g="picker"in n.params?n.params.picker:void 0;return new uu(t,{axes:[Rl(e.rawValue.x,s.components[0]),Rl(e.rawValue.y,s.components[1])],expanded:d!=null?d:!1,invertsY:ju(n.params),maxValue:zu(e.rawValue,s),parser:Le,pickerLayout:g!=null?g:"popup",value:e,viewProps:n.viewProps})}};class Ol extends h{constructor(t){super(t),this.emitter_=new ot,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new w(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}}class Nl extends h{constructor(t){super(t),this.emitter_=new ot,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new w(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}}class Il extends h{constructor(t){super(t),this.emitter_=new ot,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new w(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const s=e.bind(this);return this.emitter_.on(t,d=>{s(d.event)}),this}}const Ku=function(){return{id:"list",type:"blade",accept(n){const t=wt,e=Vt(n,{options:t.required.custom(qn),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return e?{params:e}:null},controller(n){const t=new zn(Fr(n.params.options)),e=Z(n.params.value,{constraint:t}),s=new jn(n.document,{props:new H({options:t.values.value("options")}),value:e,viewProps:n.viewProps});return new fn(n.document,{blade:n.blade,props:H.fromObject({label:n.params.label}),valueController:s})},api(n){return!(n.controller instanceof fn)||!(n.controller.valueController instanceof jn)?null:new Ol(n.controller)}}}();function $u(n){return n.reduce((t,e)=>Object.assign(t,{[e.presetKey]:e.read()}),{})}function Uu(n,t){n.forEach(e=>{const s=t[e.target.presetKey];s!==void 0&&e.writer(e.target,e.reader(s))})}class Hu extends v{constructor(t,e){super(t,e)}get element(){return this.controller_.view.element}importPreset(t){const e=this.controller_.rackController.rack.find(Gt).map(s=>s.binding);Uu(e,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Gt).map(e=>e.binding.target);return $u(t)}refresh(){this.controller_.rackController.rack.find(Gt).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(ce).forEach(t=>{t.binding.read()})}}class qu extends ci{constructor(t,e){super(t,{expanded:e.expanded,blade:e.blade,props:e.props,root:!0,viewProps:e.viewProps})}}const Gu={id:"slider",type:"blade",accept(n){const t=wt,e=Vt(n,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return e?{params:e}:null},controller(n){var t,e;const s=(t=n.params.value)!==null&&t!==void 0?t:0,d=new gn({max:n.params.max,min:n.params.min}),g=new mi(n.document,{baseStep:1,parser:Le,sliderProps:new H({maxValue:d.values.value("max"),minValue:d.values.value("min")}),textProps:H.fromObject({draggingScale:sn(void 0,s),formatter:(e=n.params.format)!==null&&e!==void 0?e:Us}),value:Z(s,{constraint:d}),viewProps:n.viewProps});return new fn(n.document,{blade:n.blade,props:H.fromObject({label:n.params.label}),valueController:g})},api(n){return!(n.controller instanceof fn)||!(n.controller.valueController instanceof mi)?null:new Nl(n.controller)}},Yu=function(){return{id:"text",type:"blade",accept(n){const t=wt,e=Vt(n,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return e?{params:e}:null},controller(n){var t;const e=new hi(n.document,{parser:n.params.parse,props:H.fromObject({formatter:(t=n.params.format)!==null&&t!==void 0?t:s=>String(s)}),value:Z(n.params.value),viewProps:n.viewProps});return new fn(n.document,{blade:n.blade,props:H.fromObject({label:n.params.label}),valueController:e})},api(n){return!(n.controller instanceof fn)||!(n.controller.valueController instanceof hi)?null:new Il(n.controller)}}}();function Wu(n){const t=n.createElement("div");return t.classList.add(W("dfw")()),n.body&&n.body.appendChild(t),t}function Bl(n,t,e){if(n.querySelector(`style[data-tp-style=${t}]`))return;const s=n.createElement("style");s.dataset.tpStyle=t,s.textContent=e,n.head.appendChild(s)}class Xu extends Hu{constructor(t){var e,s;const d=t!=null?t:{},g=(e=d.document)!==null&&e!==void 0?e:O(),k=Ou(),B=new qu(g,{expanded:d.expanded,blade:At(),props:H.fromObject({title:d.title}),viewProps:qt.create()});super(B,k),this.pool_=k,this.containerElem_=(s=d.container)!==null&&s!==void 0?s:Wu(g),this.containerElem_.appendChild(this.element),this.doc_=g,this.usesDefaultWrapper_=!d.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw F.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw F.alreadyDisposed();if(this.usesDefaultWrapper_){const e=t.parentElement;e&&e.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(s=>{this.pool_.register(s),this.embedPluginStyle_(s)})}embedPluginStyle_(t){t.css&&Bl(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){Bl(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[Gu,Ku,zi,Yu]})}}const Ju=new p("3.1.7");a.BladeApi=h,a.ButtonApi=ft,a.FolderApi=v,a.InputBindingApi=pn,a.ListApi=Ol,a.MonitorBindingApi=dn,a.Pane=Xu,a.SeparatorApi=wr,a.SliderApi=Nl,a.TabApi=Cr,a.TabPageApi=Bi,a.TextApi=Il,a.TpChangeEvent=w,a.VERSION=Ju,Object.defineProperty(a,"__esModule",{value:!0})})})(Do,Do.exports);var ls={exports:{}};(function(i,o){(function(a,p){p(o)})(tl,function(a){class p{constructor(r){this.controller_=r}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(r){this.controller_.viewProps.set("disabled",r)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(r){this.controller_.viewProps.set("hidden",r)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class h{constructor(r){this.target=r}}class f extends h{constructor(r,l,u,b){super(r),this.value=l,this.presetKey=u,this.last=b!=null?b:!0}}function w(c){return c}function C(c){return c==null}const V={alreadydisposed:()=>"View has been already disposed",invalidparams:c=>`Invalid parameters for '${c.name}'`,nomatchingcontroller:c=>`No matching controller for '${c.key}'`,nomatchingview:c=>`No matching view for '${JSON.stringify(c.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:c=>`Property '${c.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class T{constructor(r){var l;this.message=(l=V[r.type](r.context))!==null&&l!==void 0?l:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=r.type}static alreadyDisposed(){return new T({type:"alreadydisposed"})}static notBindable(){return new T({type:"notbindable"})}static propertyNotFound(r){return new T({type:"propertynotfound",context:{name:r}})}static shouldNeverHappen(){return new T({type:"shouldneverhappen"})}}class A{constructor(){this.observers_={}}on(r,l){let u=this.observers_[r];return u||(u=this.observers_[r]=[]),u.push({handler:l}),this}off(r,l){const u=this.observers_[r];return u&&(this.observers_[r]=u.filter(b=>b.handler!==l)),this}emit(r,l){const u=this.observers_[r];!u||u.forEach(b=>{b.handler(l)})}}const R="tp";function $(c){return(l,u)=>[R,"-",c,"v",l?`_${l}`:"",u?`-${u}`:""].join("")}function et(c,r){return l=>r(c(l))}function _t(c){return c.rawValue}function F(c,r){c.emitter.on("change",et(_t,r)),r(c.rawValue)}function gt(c,r,l){F(c.value(r),l)}function ft(c,r,l){l?c.classList.add(r):c.classList.remove(r)}function ot(c,r){return l=>{ft(c,r,l)}}function tt(c,r){F(c,l=>{r.textContent=l!=null?l:""})}const W=$("btn");class te{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(W()),l.viewProps.bindClassModifiers(this.element);const u=r.createElement("button");u.classList.add(W("b")),l.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u;const b=r.createElement("div");b.classList.add(W("t")),tt(l.props.value("title"),b),this.buttonElement.appendChild(b)}}class De{constructor(r,l){this.emitter=new A,this.onClick_=this.onClick_.bind(this),this.props=l.props,this.viewProps=l.viewProps,this.view=new te(r,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class $t{constructor(r,l){var u;this.constraint_=l==null?void 0:l.constraint,this.equals_=(u=l==null?void 0:l.equals)!==null&&u!==void 0?u:(b,E)=>b===E,this.emitter=new A,this.rawValue_=r}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(r){this.setRawValue(r,{forceEmit:!1,last:!0})}setRawValue(r,l){const u=l!=null?l:{forceEmit:!1,last:!0},b=this.constraint_?this.constraint_.constrain(r):r,E=this.rawValue_;!!this.equals_(E,b)&&!u.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=b,this.emitter.emit("change",{options:u,previousRawValue:E,rawValue:b,sender:this}))}}class yt{constructor(r){this.emitter=new A,this.value_=r}get rawValue(){return this.value_}set rawValue(r){this.setRawValue(r,{forceEmit:!1,last:!0})}setRawValue(r,l){const u=l!=null?l:{forceEmit:!1,last:!0},b=this.value_;b===r&&!u.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=r,this.emitter.emit("change",{options:u,previousRawValue:b,rawValue:this.value_,sender:this}))}}function Ut(c,r){const l=r==null?void 0:r.constraint,u=r==null?void 0:r.equals;return!l&&!u?new yt(c):new $t(c,r)}class lt{constructor(r){this.emitter=new A,this.valMap_=r;for(const l in this.valMap_)this.valMap_[l].emitter.on("change",()=>{this.emitter.emit("change",{key:l,sender:this})})}static createCore(r){return Object.keys(r).reduce((u,b)=>Object.assign(u,{[b]:Ut(r[b])}),{})}static fromObject(r){const l=this.createCore(r);return new lt(l)}get(r){return this.valMap_[r].rawValue}set(r,l){this.valMap_[r].rawValue=l}value(r){return this.valMap_[r]}}function be(c,r){const u=Object.keys(r).reduce((b,E)=>{if(b===void 0)return;const L=r[E],j=L(c[E]);return j.succeeded?Object.assign(Object.assign({},b),{[E]:j.value}):void 0},{});return u}function Ee(c,r){return c.reduce((l,u)=>{if(l===void 0)return;const b=r(u);if(!(!b.succeeded||b.value===void 0))return[...l,b.value]},[])}function $e(c){return c===null?!1:typeof c=="object"}function It(c){return r=>l=>{if(!r&&l===void 0)return{succeeded:!1,value:void 0};if(r&&l===void 0)return{succeeded:!0,value:void 0};const u=c(l);return u!==void 0?{succeeded:!0,value:u}:{succeeded:!1,value:void 0}}}function _e(c){return{custom:r=>It(r)(c),boolean:It(r=>typeof r=="boolean"?r:void 0)(c),number:It(r=>typeof r=="number"?r:void 0)(c),string:It(r=>typeof r=="string"?r:void 0)(c),function:It(r=>typeof r=="function"?r:void 0)(c),constant:r=>It(l=>l===r?r:void 0)(c),raw:It(r=>r)(c),object:r=>It(l=>{if(!!$e(l))return be(l,r)})(c),array:r=>It(l=>{if(!!Array.isArray(l))return Ee(l,r)})(c)}}const xt={optional:_e(!0),required:_e(!1)};function Z(c,r){const l=xt.required.object(r)(c);return l.succeeded?l.value:void 0}function H(c){console.warn([`Missing '${c.key}' of ${c.target} in ${c.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function ee(c){return c&&c.parentElement&&c.parentElement.removeChild(c),null}class ge{constructor(r){this.value_=r}static create(r){return[new ge(r),(l,u)=>{r.setRawValue(l,u)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const we=$("");function Pt(c,r){return ot(c,we(void 0,r))}class ne extends lt{constructor(r){var l;super(r),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=ge.create(Ut(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(l=this.get("parent"))===null||l===void 0||l.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(r){var l,u,b;const E=r!=null?r:{};return new ne(lt.createCore({disabled:(l=E.disabled)!==null&&l!==void 0?l:!1,disposed:!1,hidden:(u=E.hidden)!==null&&u!==void 0?u:!1,parent:(b=E.parent)!==null&&b!==void 0?b:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(r){F(this.globalDisabled_,Pt(r,"disabled")),gt(this,"hidden",Pt(r,"hidden"))}bindDisabled(r){F(this.globalDisabled_,l=>{r.disabled=l})}bindTabIndex(r){F(this.globalDisabled_,l=>{r.tabIndex=l?-1:0})}handleDispose(r){this.value("disposed").emitter.on("change",l=>{l&&r()})}getGlobalDisabled_(){const r=this.get("parent");return(r?r.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(r){var l;const u=r.previousRawValue;u==null||u.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(l=this.get("parent"))===null||l===void 0||l.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function wt(){return["veryfirst","first","last","verylast"]}const Vt=$(""),Ht={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Ae{constructor(r){this.parent_=null,this.blade=r.blade,this.view=r.view,this.viewProps=r.viewProps;const l=this.view.element;this.blade.value("positions").emitter.on("change",()=>{wt().forEach(u=>{l.classList.remove(Vt(void 0,Ht[u]))}),this.blade.get("positions").forEach(u=>{l.classList.add(Vt(void 0,Ht[u]))})}),this.viewProps.handleDispose(()=>{ee(l)})}get parent(){return this.parent_}set parent(r){if(this.parent_=r,!("parent"in this.viewProps.valMap_)){H({key:"parent",target:ne.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const Dt="http://www.w3.org/2000/svg";function ie(c){c.offsetHeight}function Ue(c,r){const l=c.style.transition;c.style.transition="none",r(),c.style.transition=l}function qt(c){return c.ontouchstart!==void 0}function x(c){for(;c.childNodes.length>0;)c.removeChild(c.childNodes[0])}function P(c){return c.relatedTarget?c.relatedTarget:"explicitOriginalTarget"in c?c.explicitOriginalTarget:null}const M=$("lbl");function D(c,r){const l=c.createDocumentFragment();return r.split(`
`).map(b=>c.createTextNode(b)).forEach((b,E)=>{E>0&&l.appendChild(c.createElement("br")),l.appendChild(b)}),l}class S{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(M()),l.viewProps.bindClassModifiers(this.element);const u=r.createElement("div");u.classList.add(M("l")),gt(l.props,"label",E=>{C(E)?this.element.classList.add(M(void 0,"nol")):(this.element.classList.remove(M(void 0,"nol")),x(u),u.appendChild(D(r,E)))}),this.element.appendChild(u),this.labelElement=u;const b=r.createElement("div");b.classList.add(M("v")),this.element.appendChild(b),this.valueElement=b}}class N extends Ae{constructor(r,l){const u=l.valueController.viewProps;super(Object.assign(Object.assign({},l),{view:new S(r,{props:l.props,viewProps:u}),viewProps:u})),this.props=l.props,this.valueController=l.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class U extends Ae{constructor(r){super(r),this.value=r.value}}class I extends lt{constructor(r){super(r)}static create(r){const l={completed:!0,expanded:r,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},u=lt.createCore(l);return new I(u)}get styleExpanded(){var r;return(r=this.get("temporaryExpanded"))!==null&&r!==void 0?r:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const r=this.get("expandedHeight");return this.get("shouldFixHeight")&&!C(r)?`${r}px`:"auto"}bindExpandedClass(r,l){const u=()=>{this.styleExpanded?r.classList.add(l):r.classList.remove(l)};gt(this,"expanded",u),gt(this,"temporaryExpanded",u)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function K(c){return I.create(c)}function O(c,r){let l=0;return Ue(r,()=>{c.set("expandedHeight",null),c.set("temporaryExpanded",!0),ie(r),l=r.clientHeight,c.set("temporaryExpanded",null),ie(r)}),l}function Y(c,r){r.style.height=c.styleHeight}function q(c,r){c.value("expanded").emitter.on("beforechange",()=>{c.set("completed",!1),C(c.get("expandedHeight"))&&c.set("expandedHeight",O(c,r)),c.set("shouldFixHeight",!0),ie(r)}),c.emitter.on("change",()=>{Y(c,r)}),Y(c,r),r.addEventListener("transitionend",l=>{l.propertyName==="height"&&c.cleanUpTransition()})}class G{constructor(r,l){const u=$(l.viewName);this.element=r.createElement("div"),this.element.classList.add(u()),l.viewProps.bindClassModifiers(this.element)}}class J extends U{constructor(r,l){const u=l.valueController.viewProps;super(Object.assign(Object.assign({},l),{value:l.valueController.value,view:new S(r,{props:l.props,viewProps:u}),viewProps:u})),this.props=l.props,this.valueController=l.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class nt{constructor(){this.disabled=!1,this.emitter=new A}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ut{constructor(r,l){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=r,this.emitter=new A,this.interval_=l,this.setTimer_()}get disabled(){return this.disabled_}set disabled(r){this.disabled_=r,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const r=this.doc_.defaultView;r&&r.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const r=this.doc_.defaultView;r&&(this.timerId_=r.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class ct{constructor(r){this.constraints=r}constrain(r){return this.constraints.reduce((l,u)=>u.constrain(l),r)}}function ht(c,r){if(c instanceof r)return c;if(c instanceof ct){const l=c.constraints.reduce((u,b)=>u||(b instanceof r?b:null),null);if(l)return l}return null}class St{constructor(r){this.values=lt.fromObject({max:r.max,min:r.min})}constrain(r){const l=this.values.get("max"),u=this.values.get("min");return Math.min(Math.max(r,u),l)}}class Et{constructor(r){this.values=lt.fromObject({max:r.max,min:r.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(r){const l=this.values.get("max"),u=this.values.get("min");let b=r;return C(u)||(b=Math.max(b,u)),C(l)||(b=Math.min(b,l)),b}}class ke{constructor(r,l=0){this.step=r,this.origin=l}constrain(r){const l=this.origin%this.step,u=Math.round((r-l)/this.step);return l+u*this.step}}const re=$("pop");class Qe{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(re()),l.viewProps.bindClassModifiers(this.element),F(l.shows,ot(this.element,re(void 0,"v")))}}class Mt{constructor(r,l){this.shows=Ut(!1),this.viewProps=l.viewProps,this.view=new Qe(r,{shows:this.shows,viewProps:this.viewProps})}}const At=$("txt");class xe{constructor(r,l){this.onChange_=this.onChange_.bind(this),this.element=r.createElement("div"),this.element.classList.add(At()),l.viewProps.bindClassModifiers(this.element),this.props_=l.props,this.props_.emitter.on("change",this.onChange_);const u=r.createElement("input");u.classList.add(At("i")),u.type="text",l.viewProps.bindDisabled(u),this.element.appendChild(u),this.inputElement=u,l.value.emitter.on("change",this.onChange_),this.value_=l.value,this.refresh()}refresh(){const r=this.props_.get("formatter");this.inputElement.value=r(this.value_.rawValue)}onChange_(){this.refresh()}}class oi{constructor(r,l){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=l.parser,this.props=l.props,this.value=l.value,this.viewProps=l.viewProps,this.view=new xe(r,{props:l.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(r){const u=r.currentTarget.value,b=this.parser_(u);C(b)||(this.value.rawValue=b),this.view.refresh()}}function li(c){return c==="false"?!1:!!c}class Dn{constructor(r){this.text=r}evaluate(){return Number(this.text)}toString(){return this.text}}const Wt={"**":(c,r)=>Math.pow(c,r),"*":(c,r)=>c*r,"/":(c,r)=>c/r,"%":(c,r)=>c%r,"+":(c,r)=>c+r,"-":(c,r)=>c-r,"<<":(c,r)=>c<<r,">>":(c,r)=>c>>r,">>>":(c,r)=>c>>>r,"&":(c,r)=>c&r,"^":(c,r)=>c^r,"|":(c,r)=>c|r};class Oi{constructor(r,l,u){this.left=l,this.operator=r,this.right=u}evaluate(){const r=Wt[this.operator];if(!r)throw new Error(`unexpected binary operator: '${this.operator}`);return r(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const An={"+":c=>c,"-":c=>-c,"~":c=>~c};class Rn{constructor(r,l){this.operator=r,this.expression=l}evaluate(){const r=An[this.operator];if(!r)throw new Error(`unexpected unary operator: '${this.operator}`);return r(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function On(c){return(r,l)=>{for(let u=0;u<c.length;u++){const b=c[u](r,l);if(b!=="")return b}return""}}function Ve(c,r){var l;const u=c.substr(r).match(/^\s+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function pn(c,r){const l=c.substr(r,1);return l.match(/^[1-9]$/)?l:""}function Gt(c,r){var l;const u=c.substr(r).match(/^[0-9]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function dn(c,r){const l=Gt(c,r);if(l!=="")return l;const u=c.substr(r,1);if(r+=1,u!=="-"&&u!=="+")return"";const b=Gt(c,r);return b===""?"":u+b}function ce(c,r){const l=c.substr(r,1);if(r+=1,l.toLowerCase()!=="e")return"";const u=dn(c,r);return u===""?"":l+u}function Ni(c,r){const l=c.substr(r,1);if(l==="0")return l;const u=pn(c,r);return r+=u.length,u===""?"":u+Gt(c,r)}function hn(c,r){const l=Ni(c,r);if(r+=l.length,l==="")return"";const u=c.substr(r,1);if(r+=u.length,u!==".")return"";const b=Gt(c,r);return r+=b.length,l+u+b+ce(c,r)}function ai(c,r){const l=c.substr(r,1);if(r+=l.length,l!==".")return"";const u=Gt(c,r);return r+=u.length,u===""?"":l+u+ce(c,r)}function _(c,r){const l=Ni(c,r);return r+=l.length,l===""?"":l+ce(c,r)}const v=On([hn,ai,_]);function m(c,r){var l;const u=c.substr(r).match(/^[01]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function y(c,r){const l=c.substr(r,2);if(r+=l.length,l.toLowerCase()!=="0b")return"";const u=m(c,r);return u===""?"":l+u}function z(c,r){var l;const u=c.substr(r).match(/^[0-7]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function at(c,r){const l=c.substr(r,2);if(r+=l.length,l.toLowerCase()!=="0o")return"";const u=z(c,r);return u===""?"":l+u}function Rt(c,r){var l;const u=c.substr(r).match(/^[0-9a-f]+/i);return(l=u&&u[0])!==null&&l!==void 0?l:""}function Tt(c,r){const l=c.substr(r,2);if(r+=l.length,l.toLowerCase()!=="0x")return"";const u=Rt(c,r);return u===""?"":l+u}const Re=On([y,at,Tt]),Kt=On([Re,v]);function Xt(c,r){const l=Kt(c,r);return r+=l.length,l===""?null:{evaluable:new Dn(l),cursor:r}}function kt(c,r){const l=c.substr(r,1);if(r+=l.length,l!=="(")return null;const u=Ii(c,r);if(!u)return null;r=u.cursor,r+=Ve(c,r).length;const b=c.substr(r,1);return r+=b.length,b!==")"?null:{evaluable:u.evaluable,cursor:r}}function vn(c,r){var l;return(l=Xt(c,r))!==null&&l!==void 0?l:kt(c,r)}function ci(c,r){const l=vn(c,r);if(l)return l;const u=c.substr(r,1);if(r+=u.length,u!=="+"&&u!=="-"&&u!=="~")return null;const b=ci(c,r);return b?(r=b.cursor,{cursor:r,evaluable:new Rn(u,b.evaluable)}):null}function ws(c,r,l){l+=Ve(r,l).length;const u=c.filter(b=>r.startsWith(b,l))[0];return u?(l+=u.length,l+=Ve(r,l).length,{cursor:l,operator:u}):null}function fn(c,r){return(l,u)=>{const b=c(l,u);if(!b)return null;u=b.cursor;let E=b.evaluable;for(;;){const L=ws(r,l,u);if(!L)break;u=L.cursor;const j=c(l,u);if(!j)return null;u=j.cursor,E=new Oi(L.operator,E,j.evaluable)}return E?{cursor:u,evaluable:E}:null}}const wr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((c,r)=>fn(c,r),ci);function Ii(c,r){return r+=Ve(c,r).length,wr(c,r)}function xs(c){const r=Ii(c,0);return!r||r.cursor+Ve(c,r.cursor).length!==c.length?null:r.evaluable}function Nn(c){var r;const l=xs(c);return(r=l==null?void 0:l.evaluate())!==null&&r!==void 0?r:null}function Cs(c){if(typeof c=="number")return c;if(typeof c=="string"){const r=Nn(c);if(!C(r))return r}return 0}function Bt(c){return r=>r.toFixed(Math.max(Math.min(c,20),0))}const ys=Bt(0);function ui(c){return ys(c)+"%"}function xr(c){return String(c)}function Bi(c,r){for(;c.length<r;)c.push(void 0)}function Cr(c){const r=[];return Bi(r,c),Ut(r)}function yr(c){const r=c.indexOf(void 0);return r<0?c:c.slice(0,r)}function Ps(c,r){const l=[...yr(c),r];return l.length>c.length?l.splice(0,l.length-c.length):Bi(l,c.length),l}function mn({primary:c,secondary:r,forward:l,backward:u}){let b=!1;function E(L){b||(b=!0,L(),b=!1)}c.emitter.on("change",L=>{E(()=>{r.setRawValue(l(c,r),L.options)})}),r.emitter.on("change",L=>{E(()=>{c.setRawValue(u(c,r),L.options)}),E(()=>{r.setRawValue(l(c,r),L.options)})}),E(()=>{r.setRawValue(l(c,r),{forceEmit:!1,last:!0})})}function bn(c,r){const l=c*(r.altKey?.1:1)*(r.shiftKey?10:1);return r.upKey?+l:r.downKey?-l:0}function In(c){return{altKey:c.altKey,downKey:c.key==="ArrowDown",shiftKey:c.shiftKey,upKey:c.key==="ArrowUp"}}function zi(c){return{altKey:c.altKey,downKey:c.key==="ArrowLeft",shiftKey:c.shiftKey,upKey:c.key==="ArrowRight"}}function Es(c){return c==="ArrowUp"||c==="ArrowDown"}function Pr(c){return Es(c)||c==="ArrowLeft"||c==="ArrowRight"}function ji(c,r){var l,u;const b=r.ownerDocument.defaultView,E=r.getBoundingClientRect();return{x:c.pageX-(((l=b&&b.scrollX)!==null&&l!==void 0?l:0)+E.left),y:c.pageY-(((u=b&&b.scrollY)!==null&&u!==void 0?u:0)+E.top)}}class pi{constructor(r){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=r,this.emitter=new A,r.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),r.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),r.addEventListener("touchend",this.onTouchEnd_),r.addEventListener("mousedown",this.onMouseDown_)}computePosition_(r){const l=this.elem_.getBoundingClientRect();return{bounds:{width:l.width,height:l.height},point:r?{x:r.x,y:r.y}:null}}onMouseDown_(r){var l;r.preventDefault(),(l=r.currentTarget)===null||l===void 0||l.focus();const u=this.elem_.ownerDocument;u.addEventListener("mousemove",this.onDocumentMouseMove_),u.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:r.altKey,data:this.computePosition_(ji(r,this.elem_)),sender:this,shiftKey:r.shiftKey})}onDocumentMouseMove_(r){this.emitter.emit("move",{altKey:r.altKey,data:this.computePosition_(ji(r,this.elem_)),sender:this,shiftKey:r.shiftKey})}onDocumentMouseUp_(r){const l=this.elem_.ownerDocument;l.removeEventListener("mousemove",this.onDocumentMouseMove_),l.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:r.altKey,data:this.computePosition_(ji(r,this.elem_)),sender:this,shiftKey:r.shiftKey})}onTouchStart_(r){r.preventDefault();const l=r.targetTouches.item(0),u=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:r.altKey,data:this.computePosition_(l?{x:l.clientX-u.left,y:l.clientY-u.top}:void 0),sender:this,shiftKey:r.shiftKey}),this.lastTouch_=l}onTouchMove_(r){const l=r.targetTouches.item(0),u=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:r.altKey,data:this.computePosition_(l?{x:l.clientX-u.left,y:l.clientY-u.top}:void 0),sender:this,shiftKey:r.shiftKey}),this.lastTouch_=l}onTouchEnd_(r){var l;const u=(l=r.targetTouches.item(0))!==null&&l!==void 0?l:this.lastTouch_,b=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:r.altKey,data:this.computePosition_(u?{x:u.clientX-b.left,y:u.clientY-b.top}:void 0),sender:this,shiftKey:r.shiftKey})}}function Ot(c,r,l,u,b){const E=(c-r)/(l-r);return u+E*(b-u)}function Er(c){return String(c.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function _n(c,r,l){return Math.min(Math.max(c,r),l)}const ue=$("txt");class ks{constructor(r,l){this.onChange_=this.onChange_.bind(this),this.props_=l.props,this.props_.emitter.on("change",this.onChange_),this.element=r.createElement("div"),this.element.classList.add(ue(),ue(void 0,"num")),l.arrayPosition&&this.element.classList.add(ue(void 0,l.arrayPosition)),l.viewProps.bindClassModifiers(this.element);const u=r.createElement("input");u.classList.add(ue("i")),u.type="text",l.viewProps.bindDisabled(u),this.element.appendChild(u),this.inputElement=u,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=l.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ue()),this.inputElement.classList.add(ue("i"));const b=r.createElement("div");b.classList.add(ue("k")),this.element.appendChild(b),this.knobElement=b;const E=r.createElementNS(Dt,"svg");E.classList.add(ue("g")),this.knobElement.appendChild(E);const L=r.createElementNS(Dt,"path");L.classList.add(ue("gb")),E.appendChild(L),this.guideBodyElem_=L;const j=r.createElementNS(Dt,"path");j.classList.add(ue("gh")),E.appendChild(j),this.guideHeadElem_=j;const pt=r.createElement("div");pt.classList.add($("tt")()),this.knobElement.appendChild(pt),this.tooltipElem_=pt,l.value.emitter.on("change",this.onChange_),this.value=l.value,this.refresh()}onDraggingChange_(r){if(r.rawValue===null){this.element.classList.remove(ue(void 0,"drg"));return}this.element.classList.add(ue(void 0,"drg"));const l=r.rawValue/this.props_.get("draggingScale"),u=l+(l>0?-1:l<0?1:0),b=_n(-u,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${u+b},0 L${u},4 L${u+b},8`,`M ${l},-1 L${l},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${l},4`);const E=this.props_.get("formatter");this.tooltipElem_.textContent=E(this.value.rawValue),this.tooltipElem_.style.left=`${l}px`}refresh(){const r=this.props_.get("formatter");this.inputElement.value=r(this.value.rawValue)}onChange_(){this.refresh()}}class Bn{constructor(r,l){var u;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=l.baseStep,this.parser_=l.parser,this.props=l.props,this.sliderProps_=(u=l.sliderProps)!==null&&u!==void 0?u:null,this.value=l.value,this.viewProps=l.viewProps,this.dragging_=Ut(null),this.view=new ks(r,{arrayPosition:l.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const b=new pi(this.view.knobElement);b.emitter.on("down",this.onPointerDown_),b.emitter.on("move",this.onPointerMove_),b.emitter.on("up",this.onPointerUp_)}constrainValue_(r){var l,u;const b=(l=this.sliderProps_)===null||l===void 0?void 0:l.get("minValue"),E=(u=this.sliderProps_)===null||u===void 0?void 0:u.get("maxValue");let L=r;return b!==void 0&&(L=Math.max(L,b)),E!==void 0&&(L=Math.min(L,E)),L}onInputChange_(r){const u=r.currentTarget.value,b=this.parser_(u);C(b)||(this.value.rawValue=this.constrainValue_(b)),this.view.refresh()}onInputKeyDown_(r){const l=bn(this.baseStep_,In(r));l!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+l),{forceEmit:!1,last:!1})}onInputKeyUp_(r){bn(this.baseStep_,In(r))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(r){if(!r.point)return null;const l=r.point.x-r.bounds.width/2;return this.constrainValue_(this.originRawValue_+l*this.props.get("draggingScale"))}onPointerMove_(r){const l=this.computeDraggingValue_(r.data);l!==null&&(this.value.setRawValue(l,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(r){const l=this.computeDraggingValue_(r.data);l!==null&&(this.value.setRawValue(l,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function Ce(c,r){c.write(r)}function gn(c){const r=c?ht(c,ke):null;return r?r.step:null}function zn(c,r){const l=c&&ht(c,ke);return l?Er(l.step):Math.max(Er(r),2)}function Fi(c){const r=gn(c);return r!=null?r:1}function di(c,r){var l;const u=c&&ht(c,ke),b=Math.abs((l=u==null?void 0:u.step)!==null&&l!==void 0?l:r);return b===0?.1:Math.pow(10,Math.floor(Math.log10(b))-1)}function wn(c){return[c[0],c[1],c[2]]}function kr(c){const r=_n(Math.floor(c),0,255).toString(16);return r.length===1?`0${r}`:r}function jn(c,r="#"){const l=wn(c.getComponents("rgb")).map(kr).join("");return`${r}${l}`}function Vr(c,r="#"){const l=c.getComponents("rgb"),u=[l[0],l[1],l[2],l[3]*255].map(kr).join("");return`${r}${u}`}function Vs(c,r){const l=Bt(r==="float"?2:0);return`rgb(${wn(c.getComponents("rgb",r)).map(b=>l(b)).join(", ")})`}function Mr(c){return r=>Vs(r,c)}function Lr(c,r){const l=Bt(2),u=Bt(r==="float"?2:0);return`rgba(${c.getComponents("rgb",r).map((E,L)=>(L===3?l:u)(E)).join(", ")})`}function Ms(c){return r=>Lr(r,c)}function hi(c){const r=[Bt(0),ui,ui];return`hsl(${wn(c.getComponents("hsl")).map((u,b)=>r[b](u)).join(", ")})`}function Ls(c){const r=[Bt(0),ui,ui,Bt(2)];return`hsla(${c.getComponents("hsl").map((u,b)=>r[b](u)).join(", ")})`}function Sr(c,r){const l=Bt(r==="float"?2:0),u=["r","g","b"];return`{${wn(c.getComponents("rgb",r)).map((E,L)=>`${u[L]}: ${l(E)}`).join(", ")}}`}function Tr(c){return r=>Sr(r,c)}function Ss(c,r){const l=Bt(2),u=Bt(r==="float"?2:0),b=["r","g","b","a"];return`{${c.getComponents("rgb",r).map((L,j)=>{const pt=j===3?l:u;return`${b[j]}: ${pt(L)}`}).join(", ")}}`}function Ts(c){return r=>Ss(r,c)}[...["int","float"].reduce((c,r)=>[...c,{format:{alpha:!1,mode:"rgb",notation:"func",type:r},stringifier:Mr(r)},{format:{alpha:!0,mode:"rgb",notation:"func",type:r},stringifier:Ms(r)},{format:{alpha:!1,mode:"rgb",notation:"object",type:r},stringifier:Tr(r)},{format:{alpha:!0,mode:"rgb",notation:"object",type:r},stringifier:Ts(r)}],[])];class Ds{constructor(r){this.components=r.components,this.asm_=r.assembly}constrain(r){const l=this.asm_.toComponents(r).map((u,b)=>{var E,L;return(L=(E=this.components[b])===null||E===void 0?void 0:E.constrain(u))!==null&&L!==void 0?L:u});return this.asm_.fromComponents(l)}}const Dr=$("pndtxt");class As{constructor(r,l){this.textViews=l.textViews,this.element=r.createElement("div"),this.element.classList.add(Dr()),this.textViews.forEach(u=>{const b=r.createElement("div");b.classList.add(Dr("a")),b.appendChild(u.element),this.element.appendChild(b)})}}function Ki(c,r,l){return new Bn(c,{arrayPosition:l===0?"fst":l===r.axes.length-1?"lst":"mid",baseStep:r.axes[l].baseStep,parser:r.parser,props:r.axes[l].textProps,value:Ut(0,{constraint:r.axes[l].constraint}),viewProps:r.viewProps})}class tn{constructor(r,l){this.value=l.value,this.viewProps=l.viewProps,this.acs_=l.axes.map((u,b)=>Ki(r,l,b)),this.acs_.forEach((u,b)=>{mn({primary:this.value,secondary:u.value,forward:E=>l.assembly.toComponents(E.rawValue)[b],backward:(E,L)=>{const j=l.assembly.toComponents(E.rawValue);return j[b]=L.rawValue,l.assembly.fromComponents(j)}})}),this.view=new As(r,{textViews:this.acs_.map(u=>u.view)})}}function Rs(c,r){return"step"in c&&!C(c.step)?new ke(c.step,r):null}function Fn(c){return!C(c.max)&&!C(c.min)?new St({max:c.max,min:c.min}):!C(c.max)||!C(c.min)?new Et({max:c.max,min:c.min}):null}const Os={monitor:{defaultInterval:200,defaultLineCount:3}},Me=$("grl");class Ar{constructor(r,l){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=r.createElement("div"),this.element.classList.add(Me()),l.viewProps.bindClassModifiers(this.element),this.formatter_=l.formatter,this.props_=l.props,this.cursor_=l.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const u=r.createElementNS(Dt,"svg");u.classList.add(Me("g")),u.style.height=`calc(var(--bld-us) * ${l.lineCount})`,this.element.appendChild(u),this.svgElem_=u;const b=r.createElementNS(Dt,"polyline");this.svgElem_.appendChild(b),this.lineElem_=b;const E=r.createElement("div");E.classList.add(Me("t"),$("tt")()),this.element.appendChild(E),this.tooltipElem_=E,l.value.emitter.on("change",this.onValueUpdate_),this.value=l.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const r=this.svgElem_.getBoundingClientRect(),l=this.value.rawValue.length-1,u=this.props_.get("minValue"),b=this.props_.get("maxValue"),E=[];this.value.rawValue.forEach((he,it)=>{if(he===void 0)return;const Ge=Ot(it,0,l,0,r.width),Ws=Ot(he,u,b,r.height,0);E.push([Ge,Ws].join(","))}),this.lineElem_.setAttributeNS(null,"points",E.join(" "));const L=this.tooltipElem_,j=this.value.rawValue[this.cursor_.rawValue];if(j===void 0){L.classList.remove(Me("t","a"));return}const pt=Ot(this.cursor_.rawValue,0,l,0,r.width),de=Ot(j,u,b,r.height,0);L.style.left=`${pt}px`,L.style.top=`${de}px`,L.textContent=`${this.formatter_(j)}`,L.classList.contains(Me("t","a"))||(L.classList.add(Me("t","a"),Me("t","in")),ie(L),L.classList.remove(Me("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Ns{constructor(r,l){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=l.props,this.value=l.value,this.viewProps=l.viewProps,this.cursor_=Ut(-1),this.view=new Ar(r,{cursor:this.cursor_,formatter:l.formatter,lineCount:l.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!qt(r))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const u=new pi(this.view.element);u.emitter.on("down",this.onGraphPointerDown_),u.emitter.on("move",this.onGraphPointerMove_),u.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(r){const l=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Ot(r.offsetX,0,l.width,0,this.value.rawValue.length))}onGraphPointerDown_(r){this.onGraphPointerMove_(r)}onGraphPointerMove_(r){if(!r.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Ot(r.data.point.x,0,r.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}class Rr{constructor(r){this.controller_=r}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(r){this.controller_.viewProps.set("disabled",r)}get title(){var r;return(r=this.controller_.props.get("title"))!==null&&r!==void 0?r:""}set title(r){this.controller_.props.set("title",r)}on(r,l){const u=l.bind(this);return this.controller_.emitter.on(r,()=>{u(new h(this))}),this}}class Is extends h{constructor(r,l,u){super(r),this.cell=l,this.index=u}}class Or extends p{constructor(r){super(r),this.cellToApiMap_=new Map,this.emitter_=new A;const l=this.controller_.valueController;l.cellControllers.forEach((u,b)=>{const E=new Rr(u);this.cellToApiMap_.set(u,E),u.emitter.on("click",()=>{const L=b%l.size[0],j=Math.floor(b/l.size[0]);this.emitter_.emit("click",{event:new Is(this,E,[L,j])})})})}cell(r,l){const u=this.controller_.valueController,b=u.cellControllers[l*u.size[0]+r];return this.cellToApiMap_.get(b)}on(r,l){const u=l.bind(this);return this.emitter_.on(r,b=>{u(b.event)}),this}}class $i{constructor(r,l){this.size=l.size;const[u,b]=this.size,E=[];for(let L=0;L<b;L++)for(let j=0;j<u;j++){const pt=new De(r,{props:lt.fromObject(Object.assign({},l.cellConfig(j,L))),viewProps:ne.create()});E.push(pt)}this.cellCs_=E,this.viewProps=ne.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(L=>{L.viewProps.set("disposed",!0)})}),this.view=new G(r,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${u}, 1fr)`,this.cellCs_.forEach(L=>{this.view.element.appendChild(L.view.element)})}get cellControllers(){return this.cellCs_}}const Bs={id:"buttongrid",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(c){const r=xt,l=Z(c,{cells:r.required.function,size:r.required.array(r.required.number),view:r.required.constant("buttongrid"),label:r.optional.string});return l?{params:l}:null},controller(c){return new N(c.document,{blade:c.blade,props:lt.fromObject({label:c.params.label}),valueController:new $i(c.document,{cellConfig:c.params.cells,size:c.params.size})})},api(c){return!(c.controller instanceof N)||!(c.controller.valueController instanceof $i)?null:new Or(c.controller)}};class Nr extends p{get label(){return this.controller_.props.get("label")}set label(r){this.controller_.props.set("label",r)}get value(){return this.controller_.valueController.value.rawValue}set value(r){this.controller_.valueController.value.rawValue=r}on(r,l){const u=l.bind(this);return this.controller_.valueController.value.emitter.on(r,b=>{u(new f(this,b.rawValue,void 0,b.options.last))}),this}}function pe(c,r,l){return c*(1-l)+r*l}const zs=20,js=.001,Ui=100;function Fs(c,r){let l=.25,u=.5,b=-1;for(let E=0;E<zs;E++){const[L,j]=c.curve(u);if(u+=l*(L<r?1:-1),b=j,l*=.5,Math.abs(r-L)<js)break}return b}class He{constructor(r=0,l=0,u=1,b=1){this.cache_=[],this.comps_=[r,l,u,b]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(r){return C(r)||!Array.isArray(r)?!1:typeof r[0]=="number"&&typeof r[1]=="number"&&typeof r[2]=="number"&&typeof r[3]=="number"}static equals(r,l){return r.x1===l.x1&&r.y1===l.y1&&r.x2===l.x2&&r.y2===l.y2}curve(r){const l=pe(0,this.x1,r),u=pe(0,this.y1,r),b=pe(this.x1,this.x2,r),E=pe(this.y1,this.y2,r),L=pe(this.x2,1,r),j=pe(this.y2,1,r),pt=pe(l,b,r),de=pe(u,E,r),he=pe(b,L,r),it=pe(E,j,r);return[pe(pt,he,r),pe(de,it,r)]}y(r){if(this.cache_.length===0){const l=[];for(let u=0;u<Ui;u++)l.push(Fs(this,Ot(u,0,Ui-1,0,1)));this.cache_=l}return this.cache_[Math.round(Ot(_n(r,0,1),0,1,0,Ui-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Hi={toComponents:c=>c.toObject(),fromComponents:c=>new He(...c)};function Ks(c){const r=Bt(2);return`cubic-bezier(${c.toObject().map(u=>r(u)).join(", ")})`}const qi=[0,.5,.5,1];function $s(c){const r=c.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!r)return new He(...qi);const l=[r[1],r[2],r[3],r[4]].reduce((u,b)=>{if(!u)return null;const E=Number(b);return isNaN(E)?null:[...u,E]},[]);return new He(...l!=null?l:qi)}const en=$("cbz");class Ir{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(en()),l.viewProps.bindClassModifiers(this.element),l.foldable.bindExpandedClass(this.element,en(void 0,"expanded")),gt(l.foldable,"completed",ot(this.element,en(void 0,"cpl")));const u=r.createElement("div");u.classList.add(en("h")),this.element.appendChild(u);const b=r.createElement("button");b.classList.add(en("b")),l.viewProps.bindDisabled(b);const E=r.createElementNS(Dt,"svg");E.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',b.appendChild(E),u.appendChild(b),this.buttonElement=b;const L=r.createElement("div");if(L.classList.add(en("t")),u.appendChild(L),this.textElement=L,l.pickerLayout==="inline"){const j=r.createElement("div");j.classList.add(en("p")),this.element.appendChild(j),this.pickerElement=j}else this.pickerElement=null}}const vi=$("cbzp");class Br{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(vi()),l.viewProps.bindClassModifiers(this.element);const u=r.createElement("div");u.classList.add(vi("g")),this.element.appendChild(u),this.graphElement=u;const b=r.createElement("div");b.classList.add(vi("t")),this.element.appendChild(b),this.textElement=b}}function Le(c,r){const l=new MutationObserver(b=>{for(const E of b)E.type==="childList"&&E.addedNodes.forEach(L=>{!L.contains(L)||(r(),l.disconnect())})}),u=c.ownerDocument;l.observe(u.body,{attributes:!0,childList:!0,subtree:!0})}const Oe=$("cbzg");function Us(c,r){return l=>r(c(l))}class zt{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(Oe()),l.viewProps.bindClassModifiers(this.element),l.viewProps.bindTabIndex(this.element);const u=r.createElement("div");u.classList.add(Oe("p")),this.element.appendChild(u),this.previewElement=u;const b=r.createElementNS(Dt,"svg");b.classList.add(Oe("g")),this.element.appendChild(b),this.svgElem_=b;const E=r.createElementNS(Dt,"path");E.classList.add(Oe("u")),this.svgElem_.appendChild(E),this.guideElem_=E;const L=r.createElementNS(Dt,"polyline");L.classList.add(Oe("l")),this.svgElem_.appendChild(L),this.lineElem_=L,this.handleElems_=[r.createElement("div"),r.createElement("div")],this.handleElems_.forEach(j=>{j.classList.add(Oe("h")),this.element.appendChild(j)}),this.vectorElems_=[r.createElementNS(Dt,"line"),r.createElementNS(Dt,"line")],this.vectorElems_.forEach(j=>{j.classList.add(Oe("v")),this.svgElem_.appendChild(j)}),this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=l.selection,this.handleElems_.forEach((j,pt)=>{F(this.sel_,Us(de=>de===pt,ot(j,Oe("h","sel"))))}),Le(this.element,()=>{this.refresh()})}getVertMargin_(r){return r*.25}valueToPosition(r,l){const u=this.element.getBoundingClientRect(),b=u.width,E=u.height,L=this.getVertMargin_(E);return{x:Ot(r,0,1,0,b),y:Ot(l,0,1,E-L,L)}}positionToValue(r,l){const u=this.element.getBoundingClientRect(),b=u.width,E=u.height,L=this.getVertMargin_(E);return{x:_n(Ot(r,0,b,0,1),0,1),y:Ot(l,E-L,L,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(E=>{const L=this.valueToPosition(0,E),j=this.valueToPosition(1,E);return[`M ${L.x},${L.y}`,`L ${j.x},${j.y}`].join(" ")}).join(" "));const r=this.value_.rawValue,l=[];let u=0;for(;;){const E=this.valueToPosition(...r.curve(u));if(l.push([E.x,E.y].join(",")),u>=1)break;u=Math.min(u+.05,1)}this.lineElem_.setAttributeNS(null,"points",l.join(" "));const b=r.toObject();[0,1].forEach(E=>{const L=this.valueToPosition(E,E),j=this.valueToPosition(b[E*2],b[E*2+1]),pt=this.vectorElems_[E];pt.setAttributeNS(null,"x1",String(L.x)),pt.setAttributeNS(null,"y1",String(L.y)),pt.setAttributeNS(null,"x2",String(j.x)),pt.setAttributeNS(null,"y2",String(j.y));const de=this.handleElems_[E];de.style.left=`${j.x}px`,de.style.top=`${j.y}px`})}onValueChange_(){this.refresh()}}const zr=24,Kn=400,Gi=1e3,qe=$("cbzprv");class xn{constructor(r,l){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=r.createElement("div"),this.element.classList.add(qe()),l.viewProps.bindClassModifiers(this.element);const u=r.createElementNS(Dt,"svg");u.classList.add(qe("g")),this.element.appendChild(u),this.svgElem_=u;const b=r.createElementNS(Dt,"path");b.classList.add(qe("t")),this.svgElem_.appendChild(b),this.ticksElem_=b;const E=r.createElement("div");E.classList.add(qe("m")),this.element.appendChild(E),this.markerElem_=E,this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_),l.viewProps.handleDispose(this.onDispose_),Le(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(qe("m","a")),this.startTime_=new Date().getTime()+Kn,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(qe("m","a"))}onDispose_(){this.stop()}updateMarker_(r){const l=this.value_.rawValue.y(_n(r,0,1));this.markerElem_.style.left=`${l*100}%`}refresh(){const r=this.svgElem_.getBoundingClientRect(),l=r.width,u=r.height,b=[],E=this.value_.rawValue;for(let L=0;L<zr;L++){const j=Ot(L,0,zr-1,0,1),pt=Ot(E.y(j),0,1,0,l);b.push(`M ${pt},0 v${u}`)}this.ticksElem_.setAttributeNS(null,"d",b.join(" "))}onTimer_(){if(this.startTime_===null)return;const r=new Date().getTime()-this.startTime_,l=r/Gi;this.updateMarker_(l),r>Gi+Kn&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function Yt(c,r,l,u){const b=l-c,E=u-r;return Math.sqrt(b*b+E*E)}function $n(c,r,l,u){const b=Yt(c,r,l,u),E=Math.atan2(u-r,l-c),L=Math.round(E/(Math.PI/4))*Math.PI/4;return{x:c+Math.cos(L)*b,y:r+Math.sin(L)*b}}class Se{constructor(r,l){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=l.baseStep,this.value=l.value,this.sel_=Ut(0),this.viewProps=l.viewProps,this.view=new zt(r,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new xn(r,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",b=>{b.stopImmediatePropagation(),b.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const u=new pi(this.view.element);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(r,l,u){const b=this.sel_.rawValue,E=this.value.rawValue.toObject(),L=this.view.positionToValue(r.x,r.y),j=l?$n(b,b,L.x,L.y):L;E[b*2]=j.x,E[b*2+1]=j.y,this.value.setRawValue(new He(...E),u)}onPointerDown_(r){const l=r.data;if(!l.point)return;const u=this.value.rawValue,b=this.view.valueToPosition(u.x1,u.y1),E=Yt(l.point.x,l.point.y,b.x,b.y),L=this.view.valueToPosition(u.x2,u.y2),j=Yt(l.point.x,l.point.y,L.x,L.y);this.sel_.rawValue=E<=j?0:1,this.updateValue_(l.point,r.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(r){const l=r.data;!l.point||this.updateValue_(l.point,r.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(r){const l=r.data;!l.point||this.updateValue_(l.point,r.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(r){Pr(r.key)&&r.preventDefault();const l=this.sel_.rawValue,u=this.value.rawValue.toObject();u[l*2]+=bn(this.baseStep_,zi(r)),u[l*2+1]+=bn(this.baseStep_,In(r)),this.value.setRawValue(new He(...u),{forceEmit:!1,last:!1})}onKeyUp_(r){Pr(r.key)&&r.preventDefault();const l=bn(this.baseStep_,zi(r)),u=bn(this.baseStep_,In(r));l===0&&u===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class jr{constructor(r,l){this.value=l.value,this.viewProps=l.viewProps,this.view=new Br(r,{viewProps:this.viewProps}),this.gc_=new Se(r,{baseStep:l.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const u=Object.assign(Object.assign({},l.axis),{constraint:new Et({max:1,min:0})}),b=Object.assign(Object.assign({},l.axis),{constraint:void 0});this.tc_=new tn(r,{assembly:Hi,axes:[u,b,u,b],parser:Nn,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(r=>r.inputElement)]}refresh(){this.gc_.refresh()}}class fi{constructor(r,l){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=l.value,this.viewProps=l.viewProps,this.foldable_=K(l.expanded),this.view=new Ir(r,{foldable:this.foldable_,pickerLayout:l.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new oi(r,{parser:$s,props:lt.fromObject({formatter:Ks}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=l.pickerLayout==="popup"?new Mt(r,{viewProps:this.viewProps}):null;const u=new jr(r,{axis:l.axis,value:this.value,viewProps:this.viewProps});u.allFocusableElements.forEach(b=>{b.addEventListener("blur",this.onPopupChildBlur_),b.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=u,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),F(this.popC_.shows,b=>{b&&u.refresh()}),mn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:b=>b.rawValue,backward:(b,E)=>E.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),q(this.foldable_,this.view.pickerElement))}onButtonBlur_(r){if(!this.popC_)return;const l=r.relatedTarget;(!l||!this.popC_.view.element.contains(l))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(r){if(!this.popC_)return;const l=this.popC_.view.element,u=P(r);u&&l.contains(u)||u&&u===this.view.buttonElement&&!qt(l.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(r){!this.popC_||r.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function Yi(){return new Ds({assembly:Hi,components:[0,1,2,3].map(c=>c%2===0?new Et({min:0,max:1}):void 0)})}const nn={id:"cubic-bezier",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(c){const r=xt,l=Z(c,{value:r.required.array(r.required.number),view:r.required.constant("cubicbezier"),expanded:r.optional.boolean,label:r.optional.string,picker:r.optional.custom(u=>u==="inline"||u==="popup"?u:void 0)});return l?{params:l}:null},controller(c){var r,l;const u=new He(...c.params.value),b=Ut(u,{constraint:Yi(),equals:He.equals}),E=new fi(c.document,{axis:{baseStep:.1,textProps:lt.fromObject({draggingScale:.01,formatter:Bt(2)})},expanded:(r=c.params.expanded)!==null&&r!==void 0?r:!1,pickerLayout:(l=c.params.picker)!==null&&l!==void 0?l:"popup",value:b,viewProps:c.viewProps});return new J(c.document,{blade:c.blade,props:lt.fromObject({label:c.params.label}),valueController:E})},api(c){return!(c.controller instanceof J)||!(c.controller.valueController instanceof fi)?null:new Nr(c.controller)}};class Ct extends p{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Wi=20;class Nt{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(r){this.start_=r.getTime()}calculateFps_(r){if(this.timestamps_.length===0)return null;const l=this.timestamps_[0];return 1e3*(this.frameCount_-l.frameCount)/(r-l.time)}compactTimestamps_(){if(this.timestamps_.length<=Wi)return;const r=this.timestamps_.length-Wi;this.timestamps_.splice(0,r);const l=this.timestamps_[0].frameCount;this.timestamps_.forEach(u=>{u.frameCount-=l}),this.frameCount_-=l}end(r){if(this.start_===null)return;const l=r.getTime();this.duration_=l-this.start_,this.start_=null,this.fps_=this.calculateFps_(l),this.timestamps_.push({frameCount:this.frameCount_,time:l}),++this.frameCount_,this.compactTimestamps_()}}const Cn=$("fps");class se{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(Cn()),l.viewProps.bindClassModifiers(this.element),this.graphElement=r.createElement("div"),this.graphElement.classList.add(Cn("g")),this.element.appendChild(this.graphElement);const u=r.createElement("div");u.classList.add(Cn("l")),this.element.appendChild(u);const b=r.createElement("span");b.classList.add(Cn("v")),b.textContent="--",u.appendChild(b),this.valueElement=b;const E=r.createElement("span");E.classList.add(Cn("u")),E.textContent="FPS",u.appendChild(E)}}class Xi{constructor(r,l){this.stopwatch_=new Nt,this.onTick_=this.onTick_.bind(this),this.ticker_=l.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=l.value,this.viewProps=l.viewProps,this.view=new se(r,{viewProps:this.viewProps}),this.graphC_=new Ns(r,{formatter:Bt(0),lineCount:l.lineCount,props:lt.fromObject({maxValue:l.maxValue,minValue:l.minValue}),value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const r=this.stopwatch_.fps;if(r!==null){const l=this.value_.rawValue;this.value_.rawValue=Ps(l,r),this.view.valueElement.textContent=r.toFixed(0)}}}function Un(c,r){return r===0?new nt:new ut(c,r!=null?r:Os.monitor.defaultInterval)}const Ji={id:"fpsgraph",type:"blade",accept(c){const r=xt,l=Z(c,{view:r.required.constant("fpsgraph"),interval:r.optional.number,label:r.optional.string,lineCount:r.optional.number,max:r.optional.number,min:r.optional.number});return l?{params:l}:null},controller(c){var r,l,u,b;const E=(r=c.params.interval)!==null&&r!==void 0?r:500;return new N(c.document,{blade:c.blade,props:lt.fromObject({label:c.params.label}),valueController:new Xi(c.document,{lineCount:(l=c.params.lineCount)!==null&&l!==void 0?l:2,maxValue:(u=c.params.max)!==null&&u!==void 0?u:90,minValue:(b=c.params.min)!==null&&b!==void 0?b:0,ticker:Un(c.document,E),value:Cr(80),viewProps:c.viewProps})})},api(c){return!(c.controller instanceof N)||!(c.controller.valueController instanceof Xi)?null:new Ct(c.controller)}};class oe{constructor(r,l){this.min=r,this.max=l}static isObject(r){if(typeof r!="object"||r===null)return!1;const l=r.min,u=r.max;return!(typeof l!="number"||typeof u!="number")}static equals(r,l){return r.min===l.min&&r.max===l.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const Zi={fromComponents:c=>new oe(c[0],c[1]),toComponents:c=>[c.min,c.max]};class Hn{constructor(r){this.edge=r}constrain(r){var l,u,b,E,L,j,pt,de;if(r.min<=r.max)return new oe((u=(l=this.edge)===null||l===void 0?void 0:l.constrain(r.min))!==null&&u!==void 0?u:r.min,(E=(b=this.edge)===null||b===void 0?void 0:b.constrain(r.max))!==null&&E!==void 0?E:r.max);const he=(r.min+r.max)/2;return new oe((j=(L=this.edge)===null||L===void 0?void 0:L.constrain(he))!==null&&j!==void 0?j:he,(de=(pt=this.edge)===null||pt===void 0?void 0:pt.constrain(he))!==null&&de!==void 0?de:he)}}const Qi=$("rsltxt");class mi{constructor(r,l){this.sliderView_=l.sliderView,this.textView_=l.textView,this.element=r.createElement("div"),this.element.classList.add(Qi());const u=r.createElement("div");u.classList.add(Qi("s")),u.appendChild(this.sliderView_.element),this.element.appendChild(u);const b=r.createElement("div");b.classList.add(Qi("t")),b.appendChild(this.textView_.element),this.element.appendChild(b)}}const ye=$("rsl");class qn{constructor(r,l){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=l.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=r.createElement("div"),this.element.classList.add(ye()),l.viewProps.bindClassModifiers(this.element),this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_);const u=r.createElement("div");u.classList.add(ye("t")),this.element.appendChild(u),this.trackElement=u;const b=r.createElement("div");b.classList.add(ye("b")),u.appendChild(b),this.barElement=b;const E=["min","max"].map(L=>{const j=r.createElement("div");return j.classList.add(ye("k"),ye("k",L)),u.appendChild(j),j});this.knobElements=[E[0],E[1]],this.update_()}valueToX_(r){const l=this.sliderProps_.get("minValue"),u=this.sliderProps_.get("maxValue");return _n(Ot(r,l,u,0,1),0,1)*100}update_(){const r=this.value_.rawValue;r.length===0?this.element.classList.add(ye(void 0,"zero")):this.element.classList.remove(ye(void 0,"zero"));const l=[this.valueToX_(r.min),this.valueToX_(r.max)];this.barElement.style.left=`${l[0]}%`,this.barElement.style.right=`${100-l[1]}%`,this.knobElements.forEach((u,b)=>{u.style.left=`${l[b]}%`})}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class tr{constructor(r,l){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=l.sliderProps,this.viewProps=l.viewProps,this.value=l.value,this.view=new qn(r,{sliderProps:this.sliderProps,value:this.value,viewProps:l.viewProps});const u=new pi(this.view.trackElement);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(r){if(!r.point)return null;const l=(r.point.x+this.ofs_())/r.bounds.width,u=this.sliderProps.get("minValue"),b=this.sliderProps.get("maxValue");return Ot(l,0,1,u,b)}onPointerDown_(r){if(!r.data.point)return;const l=r.data.point.x/r.data.bounds.width,u=this.value.rawValue,b=this.sliderProps.get("minValue"),E=this.sliderProps.get("maxValue"),L=Ot(u.min,b,E,0,1),j=Ot(u.max,b,E,0,1);Math.abs(j-l)<=.025?this.grabbing_="max":Math.abs(L-l)<=.025?this.grabbing_="min":l>=L&&l<=j?(this.grabbing_="length",this.grabOffset_=Ot(l-L,0,1,0,E-b)):l<L?(this.grabbing_="min",this.onPointerMove_(r)):l>j&&(this.grabbing_="max",this.onPointerMove_(r))}applyPointToValue_(r,l){const u=this.valueFromData_(r);if(u===null)return;const b=this.sliderProps.get("minValue"),E=this.sliderProps.get("maxValue");if(this.grabbing_==="min")this.value.setRawValue(new oe(u,this.value.rawValue.max),l);else if(this.grabbing_==="max")this.value.setRawValue(new oe(this.value.rawValue.min,u),l);else if(this.grabbing_==="length"){const L=this.value.rawValue.length;let j=u-this.grabOffset_,pt=j+L;j<b?(j=b,pt=b+L):pt>E&&(j=E-L,pt=E),this.value.setRawValue(new oe(j,pt),l)}}onPointerMove_(r){this.applyPointToValue_(r.data,{forceEmit:!1,last:!1})}onPointerUp_(r){this.applyPointToValue_(r.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Ne{constructor(r,l){this.value=l.value,this.viewProps=l.viewProps,this.sc_=new tr(r,l);const u={baseStep:l.baseStep,constraint:l.constraint,textProps:lt.fromObject({draggingScale:l.draggingScale,formatter:l.formatter})};this.tc_=new tn(r,{assembly:Zi,axes:[u,u],parser:l.parser,value:this.value,viewProps:l.viewProps}),this.view=new mi(r,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Fr(c){return oe.isObject(c)?new oe(c.min,c.max):new oe(0,0)}function er(c,r){c.writeProperty("max",r.max),c.writeProperty("min",r.min)}function Hs(c){const r=[],l=Fn(c);l&&r.push(l);const u=Rs(c);return u&&r.push(u),new Hn(new ct(r))}const bi={id:"input-interval",type:"input",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept:(c,r)=>{if(!oe.isObject(c))return null;const l=xt,u=Z(r,{format:l.optional.function,max:l.optional.number,min:l.optional.number,step:l.optional.number});return u?{initialValue:new oe(c.min,c.max),params:u}:null},binding:{reader:c=>Fr,constraint:c=>Hs(c.params),equals:oe.equals,writer:c=>er},controller(c){var r;const l=c.value,u=c.constraint;if(!(u instanceof Hn))throw T.shouldNeverHappen();const b=(l.rawValue.min+l.rawValue.max)/2,E=(r=c.params.format)!==null&&r!==void 0?r:Bt(zn(u.edge,b)),L=u.edge&&ht(u.edge,St);if(L)return new Ne(c.document,{baseStep:Fi(u.edge),constraint:u.edge,draggingScale:di(u.edge,b),formatter:E,parser:Nn,sliderProps:new lt({maxValue:L.values.value("max"),minValue:L.values.value("min")}),value:l,viewProps:c.viewProps});const j={baseStep:Fi(u.edge),constraint:u.edge,textProps:lt.fromObject({draggingScale:b,formatter:E})};return new tn(c.document,{assembly:Zi,axes:[j,j],parser:Nn,value:l,viewProps:c.viewProps})}};class rn{constructor(r){this.controller_=r}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(r){this.controller_.viewProps.set("disabled",r)}get title(){var r;return(r=this.controller_.props.get("title"))!==null&&r!==void 0?r:""}set title(r){this.controller_.props.set("title",r)}}class sn extends f{constructor(r,l,u,b,E){super(r,b,E),this.cell=l,this.index=u}}class Gn extends p{constructor(r){super(r),this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(u=>{const b=new rn(u);this.cellToApiMap_.set(u,b)})}get value(){return this.controller_.value}cell(r,l){const u=this.controller_.valueController,b=u.cellControllers[l*u.size[0]+r];return this.cellToApiMap_.get(b)}on(r,l){const u=l.bind(this);this.controller_.value.emitter.on(r,b=>{const E=this.controller_.valueController,L=E.findCellByValue(b.rawValue);if(!L)return;const j=this.cellToApiMap_.get(L);if(!j)return;const pt=E.cellControllers.indexOf(L);u(new sn(this,j,[pt%E.size[0],Math.floor(pt/E.size[0])],b.rawValue,void 0))})}}const Yn=$("rad");class Kr{constructor(r,l){this.element=r.createElement("div"),this.element.classList.add(Yn()),l.viewProps.bindClassModifiers(this.element);const u=r.createElement("label");u.classList.add(Yn("l")),this.element.appendChild(u);const b=r.createElement("input");b.classList.add(Yn("i")),b.name=l.name,b.type="radio",l.viewProps.bindDisabled(b),u.appendChild(b),this.inputElement=b;const E=r.createElement("div");E.classList.add(Yn("b")),u.appendChild(E);const L=r.createElement("div");L.classList.add(Yn("t")),E.appendChild(L),gt(l.props,"title",j=>{L.textContent=j})}}class $r{constructor(r,l){this.props=l.props,this.viewProps=l.viewProps,this.view=new Kr(r,{name:l.name,props:this.props,viewProps:this.viewProps})}}class _i{constructor(r,l){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=l.size;const[u,b]=this.size;for(let E=0;E<b;E++)for(let L=0;L<u;L++){const j=new $r(r,{name:l.groupName,props:lt.fromObject(Object.assign({},l.cellConfig(L,E))),viewProps:ne.create()});this.cellCs_.push(j),this.cellValues_.push(l.cellConfig(L,E).value)}this.value=l.value,F(this.value,E=>{const L=this.findCellByValue(E);!L||(L.view.inputElement.checked=!0)}),this.viewProps=ne.create(),this.view=new G(r,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${u}, 1fr)`,this.cellCs_.forEach(E=>{E.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(E.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(r){const l=this.cellValues_.findIndex(u=>u===r);return l<0?null:this.cellCs_[l]}onCellInputChange_(r){const l=r.currentTarget,u=this.cellCs_.findIndex(b=>b.view.inputElement===l);u<0||(this.value.rawValue=this.cellValues_[u])}}const on=function(){return{id:"radiogrid",type:"blade",accept(c){const r=xt,l=Z(c,{cells:r.required.function,groupName:r.required.string,size:r.required.array(r.required.number),value:r.required.raw,view:r.required.constant("radiogrid"),label:r.optional.string});return l?{params:l}:null},controller(c){return new J(c.document,{blade:c.blade,props:lt.fromObject({label:c.params.label}),valueController:new _i(c.document,{groupName:c.params.groupName,cellConfig:c.params.cells,size:c.params.size,value:Ut(c.params.value)})})},api(c){return!(c.controller instanceof J)||!(c.controller.valueController instanceof _i)?null:new Gn(c.controller)}}}();function nr(c){return{id:"input-radiogrid",type:"input",accept(r,l){if(!c.isType(r))return null;const u=xt,b=Z(l,{cells:u.required.function,groupName:u.required.string,size:u.required.array(u.required.number),view:u.required.constant("radiogrid")});return b?{initialValue:r,params:b}:null},binding:c.binding,controller:r=>new _i(r.document,{cellConfig:r.params.cells,groupName:r.params.groupName,size:r.params.size,value:r.value})}}const qs=nr({isType:c=>typeof c=="number",binding:{reader:c=>Cs,writer:c=>Ce}}),Gs=nr({isType:c=>typeof c=="string",binding:{reader:c=>xr,writer:c=>Ce}}),Ys=nr({isType:c=>typeof c=="boolean",binding:{reader:c=>li,writer:c=>Ce}}),Ur=[Bs,nn,Ji,bi,on,Ys,qs,Gs];a.ButtonCellApi=Rr,a.ButtonGridApi=Or,a.ButtonGridController=$i,a.CubicBezier=He,a.CubicBezierApi=Nr,a.CubicBezierAssembly=Hi,a.CubicBezierController=fi,a.CubicBezierGraphController=Se,a.CubicBezierGraphView=zt,a.CubicBezierPickerController=jr,a.CubicBezierPickerView=Br,a.CubicBezierPreviewView=xn,a.CubicBezierView=Ir,a.FpsGraphBladeApi=Ct,a.FpsGraphController=Xi,a.FpsView=se,a.Fpswatch=Nt,a.Interval=oe,a.IntervalAssembly=Zi,a.IntervalConstraint=Hn,a.RadioCellApi=rn,a.RadioController=$r,a.RadioGridApi=Gn,a.RadioGridController=_i,a.RadioView=Kr,a.RangeSliderController=tr,a.RangeSliderTextController=Ne,a.RangeSliderTextView=mi,a.RangeSliderView=qn,a.TpRadioGridChangeEvent=sn,a.plugins=Ur,Object.defineProperty(a,"__esModule",{value:!0})})})(ls,ls.exports);const Uh=oc(ls.exports),Hh=fa({__proto__:null,default:Uh},[ls.exports]);/*!
 * v-tweakpane v0.2.0
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const qh=Wo({name:"VTweakpane",props:{pane:{type:Object,default:()=>{},required:!0}},emits:["on-pane-created"],setup(i,{emit:o}){const a=Gl(null),p=Gl(null);return Ha(()=>{Na(()=>{a.value instanceof Element&&(p.value=new Do.exports.Pane({container:a.value,title:i.pane.title,expanded:i.pane.expanded}),p.value.registerPlugin(Hh),o("on-pane-created",p.value))})}),{el:a}}}),Gh=(i,o)=>{const a=i.__vccOpts||i;for(const[p,h]of o)a[p]=h;return a},Yh={class:"w-full h-full"},Wh={ref:"el"};function Xh(i,o,a,p,h,f){return Vi(),dr("main",Yh,[Pe("div",Wh,null,512)])}const Jh=Gh(qh,[["render",Xh]]);var as={exports:{}};(function(i,o){(function(a,p){p(o)})(tl,function(a){function p(_){return _}function h(_){return _==null}class f{constructor(){this.observers_={}}on(v,m){let y=this.observers_[v];return y||(y=this.observers_[v]=[]),y.push({handler:m}),this}off(v,m){const y=this.observers_[v];return y&&(this.observers_[v]=y.filter(z=>z.handler!==m)),this}emit(v,m){const y=this.observers_[v];!y||y.forEach(z=>{z.handler(m)})}}const w="tp";function C(_){return(m,y)=>[w,"-",_,"v",m?`_${m}`:"",y?`-${y}`:""].join("")}class V{constructor(v,m){var y;this.constraint_=m==null?void 0:m.constraint,this.equals_=(y=m==null?void 0:m.equals)!==null&&y!==void 0?y:(z,at)=>z===at,this.emitter=new f,this.rawValue_=v}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(v){this.setRawValue(v,{forceEmit:!1,last:!0})}setRawValue(v,m){const y=m!=null?m:{forceEmit:!1,last:!0},z=this.constraint_?this.constraint_.constrain(v):v;!!this.equals_(this.rawValue_,z)&&!y.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=z,this.emitter.emit("change",{options:y,rawValue:z,sender:this}))}}class T{constructor(v){this.emitter=new f,this.value_=v}get rawValue(){return this.value_}set rawValue(v){this.setRawValue(v,{forceEmit:!1,last:!0})}setRawValue(v,m){const y=m!=null?m:{forceEmit:!1,last:!0};this.value_===v&&!y.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=v,this.emitter.emit("change",{options:y,rawValue:this.value_,sender:this}))}}function A(_,v){const m=v==null?void 0:v.constraint,y=v==null?void 0:v.equals;return!m&&!y?new T(_):new V(_,v)}class R{constructor(v){this.emitter=new f,this.valMap_=v;for(const m in this.valMap_)this.valMap_[m].emitter.on("change",()=>{this.emitter.emit("change",{key:m,sender:this})})}static createCore(v){return Object.keys(v).reduce((y,z)=>Object.assign(y,{[z]:A(v[z])}),{})}static fromObject(v){const m=this.createCore(v);return new R(m)}get(v){return this.valMap_[v].rawValue}set(v,m){this.valMap_[v].rawValue=m}value(v){return this.valMap_[v]}}function $(_,v){const y=Object.keys(v).reduce((z,at)=>{if(z===void 0)return;const Rt=v[at],Tt=Rt(_[at]);return Tt.succeeded?Object.assign(Object.assign({},z),{[at]:Tt.value}):void 0},{});return y}function et(_,v){return _.reduce((m,y)=>{if(m===void 0)return;const z=v(y);if(!(!z.succeeded||z.value===void 0))return[...m,z.value]},[])}function _t(_){return _===null?!1:typeof _=="object"}function F(_){return v=>m=>{if(!v&&m===void 0)return{succeeded:!1,value:void 0};if(v&&m===void 0)return{succeeded:!0,value:void 0};const y=_(m);return y!==void 0?{succeeded:!0,value:y}:{succeeded:!1,value:void 0}}}function gt(_){return{custom:v=>F(v)(_),boolean:F(v=>typeof v=="boolean"?v:void 0)(_),number:F(v=>typeof v=="number"?v:void 0)(_),string:F(v=>typeof v=="string"?v:void 0)(_),function:F(v=>typeof v=="function"?v:void 0)(_),constant:v=>F(m=>m===v?v:void 0)(_),raw:F(v=>v)(_),object:v=>F(m=>{if(!!_t(m))return $(m,v)})(_),array:v=>F(m=>{if(!!Array.isArray(m))return et(m,v)})(_)}}const ft={optional:gt(!0),required:gt(!1)};function ot(_,v){const m=ft.required.object(v)(_);return m.succeeded?m.value:void 0}const tt="http://www.w3.org/2000/svg";function W(_){_.parentElement&&_.parentElement.removeChild(_)}class te{constructor(v){this.constraints=v}constrain(v){return this.constraints.reduce((m,y)=>y.constrain(m),v)}}function De(_,v){if(_ instanceof v)return _;if(_ instanceof te){const m=_.constraints.reduce((y,z)=>y||(z instanceof v?z:null),null);if(m)return m}return null}class $t{constructor(v){this.maxValue=v.max,this.minValue=v.min}constrain(v){let m=v;return h(this.minValue)||(m=Math.max(m,this.minValue)),h(this.maxValue)||(m=Math.min(m,this.maxValue)),m}}class yt{constructor(v){this.step=v}constrain(v){return(v<0?-Math.round(-v/this.step):Math.round(v/this.step))*this.step}}class Ut{constructor(v){this.text=v}evaluate(){return Number(this.text)}toString(){return this.text}}const lt={"**":(_,v)=>Math.pow(_,v),"*":(_,v)=>_*v,"/":(_,v)=>_/v,"%":(_,v)=>_%v,"+":(_,v)=>_+v,"-":(_,v)=>_-v,"<<":(_,v)=>_<<v,">>":(_,v)=>_>>v,">>>":(_,v)=>_>>>v,"&":(_,v)=>_&v,"^":(_,v)=>_^v,"|":(_,v)=>_|v};class be{constructor(v,m,y){this.left=m,this.operator=v,this.right=y}evaluate(){const v=lt[this.operator];if(!v)throw new Error(`unexpected binary operator: '${this.operator}`);return v(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Ee={"+":_=>_,"-":_=>-_,"~":_=>~_};class $e{constructor(v,m){this.operator=v,this.expression=m}evaluate(){const v=Ee[this.operator];if(!v)throw new Error(`unexpected unary operator: '${this.operator}`);return v(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function It(_){return(v,m)=>{for(let y=0;y<_.length;y++){const z=_[y](v,m);if(z!=="")return z}return""}}function _e(_,v){var m;const y=_.substr(v).match(/^\s+/);return(m=y&&y[0])!==null&&m!==void 0?m:""}function xt(_,v){const m=_.substr(v,1);return m.match(/^[1-9]$/)?m:""}function Z(_,v){var m;const y=_.substr(v).match(/^[0-9]+/);return(m=y&&y[0])!==null&&m!==void 0?m:""}function H(_,v){const m=Z(_,v);if(m!=="")return m;const y=_.substr(v,1);if(v+=1,y!=="-"&&y!=="+")return"";const z=Z(_,v);return z===""?"":y+z}function ee(_,v){const m=_.substr(v,1);if(v+=1,m.toLowerCase()!=="e")return"";const y=H(_,v);return y===""?"":m+y}function ge(_,v){const m=_.substr(v,1);if(m==="0")return m;const y=xt(_,v);return v+=y.length,y===""?"":y+Z(_,v)}function we(_,v){const m=ge(_,v);if(v+=m.length,m==="")return"";const y=_.substr(v,1);if(v+=y.length,y!==".")return"";const z=Z(_,v);return v+=z.length,m+y+z+ee(_,v)}function Pt(_,v){const m=_.substr(v,1);if(v+=m.length,m!==".")return"";const y=Z(_,v);return v+=y.length,y===""?"":m+y+ee(_,v)}function ne(_,v){const m=ge(_,v);return v+=m.length,m===""?"":m+ee(_,v)}const wt=It([we,Pt,ne]);function Vt(_,v){var m;const y=_.substr(v).match(/^[01]+/);return(m=y&&y[0])!==null&&m!==void 0?m:""}function Ht(_,v){const m=_.substr(v,2);if(v+=m.length,m.toLowerCase()!=="0b")return"";const y=Vt(_,v);return y===""?"":m+y}function Ae(_,v){var m;const y=_.substr(v).match(/^[0-7]+/);return(m=y&&y[0])!==null&&m!==void 0?m:""}function Dt(_,v){const m=_.substr(v,2);if(v+=m.length,m.toLowerCase()!=="0o")return"";const y=Ae(_,v);return y===""?"":m+y}function ie(_,v){var m;const y=_.substr(v).match(/^[0-9a-f]+/i);return(m=y&&y[0])!==null&&m!==void 0?m:""}function Ue(_,v){const m=_.substr(v,2);if(v+=m.length,m.toLowerCase()!=="0x")return"";const y=ie(_,v);return y===""?"":m+y}const qt=It([Ht,Dt,Ue]),x=It([qt,wt]);function P(_,v){const m=x(_,v);return v+=m.length,m===""?null:{evaluable:new Ut(m),cursor:v}}function M(_,v){const m=_.substr(v,1);if(v+=m.length,m!=="(")return null;const y=K(_,v);if(!y)return null;v=y.cursor,v+=_e(_,v).length;const z=_.substr(v,1);return v+=z.length,z!==")"?null:{evaluable:y.evaluable,cursor:v}}function D(_,v){return P(_,v)||M(_,v)}function S(_,v){const m=D(_,v);if(m)return m;const y=_.substr(v,1);if(v+=y.length,y!=="+"&&y!=="-"&&y!=="~")return null;const z=S(_,v);return z?(v=z.cursor,{cursor:v,evaluable:new $e(y,z.evaluable)}):null}function N(_,v,m){m+=_e(v,m).length;const y=_.filter(z=>v.startsWith(z,m))[0];return y?(m+=y.length,m+=_e(v,m).length,{cursor:m,operator:y}):null}function U(_,v){return(m,y)=>{const z=_(m,y);if(!z)return null;y=z.cursor;let at=z.evaluable;for(;;){const Rt=N(v,m,y);if(!Rt)break;y=Rt.cursor;const Tt=_(m,y);if(!Tt)return null;y=Tt.cursor,at=new be(Rt.operator,at,Tt.evaluable)}return at?{cursor:y,evaluable:at}:null}}const I=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((_,v)=>U(_,v),S);function K(_,v){return v+=_e(_,v).length,I(_,v)}function O(_){const v=K(_,0);return!v||v.cursor+_e(_,v.cursor).length!==_.length?null:v.evaluable}function Y(_){var v;const m=O(_);return(v=m==null?void 0:m.evaluate())!==null&&v!==void 0?v:null}function q(_){if(typeof _=="number")return _;if(typeof _=="string"){const v=Y(_);if(!h(v))return v}return 0}function G(_){return v=>v.toFixed(Math.max(Math.min(_,20),0))}function J(_,v){const m=_*(v.altKey?.1:1)*(v.shiftKey?10:1);return v.upKey?+m:v.downKey?-m:0}function nt(_){return{altKey:_.altKey,downKey:_.key==="ArrowDown",shiftKey:_.shiftKey,upKey:_.key==="ArrowUp"}}function ut(_,v){const m=v.ownerDocument.defaultView,y=v.getBoundingClientRect();return{x:_.pageX-((m&&m.scrollX||0)+y.left),y:_.pageY-((m&&m.scrollY||0)+y.top)}}class ct{constructor(v){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=v,this.emitter=new f,v.addEventListener("touchstart",this.onTouchStart_),v.addEventListener("touchmove",this.onTouchMove_),v.addEventListener("touchend",this.onTouchEnd_),v.addEventListener("mousedown",this.onMouseDown_)}computePosition_(v){const m=this.elem_.getBoundingClientRect();return{bounds:{width:m.width,height:m.height},point:v?{x:v.x,y:v.y}:null}}onMouseDown_(v){var m;v.preventDefault(),(m=v.currentTarget)===null||m===void 0||m.focus();const y=this.elem_.ownerDocument;y.addEventListener("mousemove",this.onDocumentMouseMove_),y.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:v.altKey,data:this.computePosition_(ut(v,this.elem_)),sender:this,shiftKey:v.shiftKey})}onDocumentMouseMove_(v){this.emitter.emit("move",{altKey:v.altKey,data:this.computePosition_(ut(v,this.elem_)),sender:this,shiftKey:v.shiftKey})}onDocumentMouseUp_(v){const m=this.elem_.ownerDocument;m.removeEventListener("mousemove",this.onDocumentMouseMove_),m.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:v.altKey,data:this.computePosition_(ut(v,this.elem_)),sender:this,shiftKey:v.shiftKey})}onTouchStart_(v){v.preventDefault();const m=v.targetTouches.item(0),y=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:v.altKey,data:this.computePosition_(m?{x:m.clientX-y.left,y:m.clientY-y.top}:void 0),sender:this,shiftKey:v.shiftKey}),this.lastTouch_=m}onTouchMove_(v){const m=v.targetTouches.item(0),y=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:v.altKey,data:this.computePosition_(m?{x:m.clientX-y.left,y:m.clientY-y.top}:void 0),sender:this,shiftKey:v.shiftKey}),this.lastTouch_=m}onTouchEnd_(v){var m;const y=(m=v.targetTouches.item(0))!==null&&m!==void 0?m:this.lastTouch_,z=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:v.altKey,data:this.computePosition_(y?{x:y.clientX-z.left,y:y.clientY-z.top}:void 0),sender:this,shiftKey:v.shiftKey})}}function ht(_){return String(_.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function St(_,v,m){return Math.min(Math.max(_,v),m)}const Et=C("txt");class ke{constructor(v,m){this.onChange_=this.onChange_.bind(this),this.props_=m.props,this.props_.emitter.on("change",this.onChange_),this.element=v.createElement("div"),this.element.classList.add(Et(),Et(void 0,"num")),m.arrayPosition&&this.element.classList.add(Et(void 0,m.arrayPosition)),m.viewProps.bindClassModifiers(this.element);const y=v.createElement("input");y.classList.add(Et("i")),y.type="text",m.viewProps.bindDisabled(y),this.element.appendChild(y),this.inputElement=y,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=m.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Et()),this.inputElement.classList.add(Et("i"));const z=v.createElement("div");z.classList.add(Et("k")),this.element.appendChild(z),this.knobElement=z;const at=v.createElementNS(tt,"svg");at.classList.add(Et("g")),this.knobElement.appendChild(at);const Rt=v.createElementNS(tt,"path");Rt.classList.add(Et("gb")),at.appendChild(Rt),this.guideBodyElem_=Rt;const Tt=v.createElementNS(tt,"path");Tt.classList.add(Et("gh")),at.appendChild(Tt),this.guideHeadElem_=Tt;const Re=v.createElement("div");Re.classList.add(C("tt")()),this.knobElement.appendChild(Re),this.tooltipElem_=Re,m.value.emitter.on("change",this.onChange_),this.value=m.value,this.refresh()}onDraggingChange_(v){if(v.rawValue===null){this.element.classList.remove(Et(void 0,"drg"));return}this.element.classList.add(Et(void 0,"drg"));const m=v.rawValue/this.props_.get("draggingScale"),y=m+(m>0?-1:m<0?1:0),z=St(-y,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${y+z},0 L${y},4 L${y+z},8`,`M ${m},-1 L${m},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${m},4`);const at=this.props_.get("formatter");this.tooltipElem_.textContent=at(this.value.rawValue),this.tooltipElem_.style.left=`${m}px`}refresh(){const v=this.props_.get("formatter");this.inputElement.value=v(this.value.rawValue)}onChange_(){this.refresh()}}class re{constructor(v,m){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=m.baseStep,this.parser_=m.parser,this.props=m.props,this.value=m.value,this.viewProps=m.viewProps,this.dragging_=A(null),this.view=new ke(v,{arrayPosition:m.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const y=new ct(this.view.knobElement);y.emitter.on("down",this.onPointerDown_),y.emitter.on("move",this.onPointerMove_),y.emitter.on("up",this.onPointerUp_)}onInputChange_(v){const y=v.currentTarget.value,z=this.parser_(y);h(z)||(this.value.rawValue=z),this.view.refresh()}onInputKeyDown_(v){const m=J(this.baseStep_,nt(v));m!==0&&this.value.setRawValue(this.value.rawValue+m,{forceEmit:!1,last:!1})}onInputKeyUp_(v){J(this.baseStep_,nt(v))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(v){if(!v.point)return null;const m=v.point.x-v.bounds.width/2;return this.originRawValue_+m*this.props.get("draggingScale")}onPointerMove_(v){const m=this.computeDraggingValue_(v.data);m!==null&&(this.value.setRawValue(m,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(v){const m=this.computeDraggingValue_(v.data);m!==null&&(this.value.setRawValue(m,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function Qe(_,v){_.write(v)}function Mt(_){const v=_?De(_,yt):null;return v?v.step:null}function At(_,v){const m=_&&De(_,yt);return m?ht(m.step):Math.max(ht(v),2)}function xe(_){const v=Mt(_);return v!=null?v:1}function oi(_,v){var m;const y=_&&De(_,yt),z=Math.abs((m=y==null?void 0:y.step)!==null&&m!==void 0?m:v);return z===0?.1:Math.pow(10,Math.floor(Math.log10(z))-1)}function li(_){return"step"in _&&!h(_.step)?new yt(_.step):null}function Dn(_){return"max"in _&&!h(_.max)||"min"in _&&!h(_.min)?new $t({max:_.max,min:_.min}):null}const Wt=C("ckr");class Oi{constructor(v,m){this.tickElems_=[],this.labelElems_=[],this.boundsWidth_=-1,this.onShowsTooltipChange_=this.onShowsTooltipChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.formatters_=m.formatters,this.unit_=m.unit,this.element=v.createElement("div"),this.element.classList.add(Wt(),Wt(void 0,`m${m.seriesId}`)),m.viewProps.bindClassModifiers(this.element),this.value_=m.value,this.value_.emitter.on("change",this.onValueChange_),m.showsTooltip.emitter.on("change",this.onShowsTooltipChange_);const y=v.createElement("div");y.classList.add(Wt("w")),this.element.appendChild(y),this.offsetElem_=v.createElement("div"),this.offsetElem_.classList.add(Wt("o")),y.appendChild(this.offsetElem_),this.svgElem_=v.createElementNS(tt,"svg"),this.svgElem_.classList.add(Wt("g")),this.offsetElem_.appendChild(this.svgElem_),this.tooltipElem_=v.createElement("div"),this.tooltipElem_.classList.add(C("tt")(),Wt("tt")),this.element.appendChild(this.tooltipElem_),this.waitToBeAdded_()}waitToBeAdded_(){const v=new IntersectionObserver(m=>{m.forEach(y=>{y.target!==this.element||y.intersectionRatio===0||(this.update(),v.disconnect())})},{root:null});v.observe(this.element)}rebuildScaleIfNeeded_(v){if(this.boundsWidth_===v)return;this.boundsWidth_=v,this.tickElems_.forEach(Kt=>{W(Kt)}),this.tickElems_=[],this.labelElems_.forEach(Kt=>{W(Kt)}),this.labelElems_=[];const m=this.element.ownerDocument,y=this.unit_.ticks,z=this.unit_.pixels,Tt=((Math.ceil(v/2/z)+1)*2+1)*y,Re=z/y;for(let Kt=0;Kt<Tt;Kt++){const Xt=Kt*Re;if(Kt%y===0){const kt=m.createElementNS(tt,"line");kt.classList.add(Wt("mjt")),kt.setAttributeNS(null,"x1",String(Xt)),kt.setAttributeNS(null,"y1","0"),kt.setAttributeNS(null,"x2",String(Xt)),kt.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(kt),this.tickElems_.push(kt);const vn=m.createElement("div");vn.classList.add(Wt("l")),vn.style.left=`${Xt}px`,this.offsetElem_.appendChild(vn),this.labelElems_.push(vn)}else{const kt=m.createElementNS(tt,"line");kt.classList.add(Wt("mnt")),kt.setAttributeNS(null,"x1",String(Xt)),kt.setAttributeNS(null,"y1","0"),kt.setAttributeNS(null,"x2",String(Xt)),kt.setAttributeNS(null,"y2","2"),this.svgElem_.appendChild(kt),this.tickElems_.push(kt)}}}updateScale_(v){const m=this.unit_.value,y=this.unit_.pixels,z=this.value_.rawValue,at=Math.ceil(v/2/y)+1,Rt=z-z%m-m*at,Tt=Kt=>1-Math.pow(St(Math.abs(z-Kt)/(v/2*(m/y)),0,1),10);this.labelElems_.forEach((Kt,Xt)=>{const kt=Rt+Xt*m;Kt.textContent=this.formatters_.ring(kt),Kt.style.opacity=String(Tt(kt))});const Re=this.unit_.ticks;this.tickElems_.forEach((Kt,Xt)=>{const kt=Rt+Xt/Re*m;Kt.style.opacity=String(Tt(kt))})}update(){const v=this.element.getBoundingClientRect().width,m=this.unit_.value,y=this.unit_.pixels,z=this.value_.rawValue,at=Math.ceil(v/2/y)+1,Rt=(z%m+m*at)*(y/m),Tt=v/2-Rt;this.offsetElem_.style.transform=`translateX(${Tt}px)`,this.tooltipElem_.textContent=this.formatters_.text(z),this.rebuildScaleIfNeeded_(v),this.updateScale_(v)}onValueChange_(){this.update()}onShowsTooltipChange_(v){v.rawValue?this.element.classList.add(Wt(void 0,"tt")):this.element.classList.remove(Wt(void 0,"tt"))}}class An{constructor(v,m){this.ox_=0,this.ov_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=m.value,this.viewProps=m.viewProps,this.tooltipEnabled_=m.tooltipEnabled,this.unit_=m.unit,this.showsTooltip_=A(!1),this.view=new Oi(v,{formatters:m.formatters,seriesId:m.seriesId,showsTooltip:this.showsTooltip_,unit:m.unit,value:this.value,viewProps:this.viewProps});const y=new ct(this.view.element);y.emitter.on("down",this.onPointerDown_),y.emitter.on("move",this.onPointerMove_),y.emitter.on("up",this.onPointerUp_)}onPointerDown_(v){const m=v.data;!m.point||(this.ox_=m.point.x,this.ov_=this.value.rawValue,this.tooltipEnabled_&&(this.showsTooltip_.rawValue=!0))}onPointerMove_(v){const m=v.data;if(!m.point)return;const y=m.point.x-this.ox_,z=this.unit_.pixels,at=this.unit_.value;this.value.setRawValue(this.ov_-y/z*at,{forceEmit:!1,last:!1})}onPointerUp_(){this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0}),this.showsTooltip_.rawValue=!1}}const Rn=C("ckrtxt");class On{constructor(v,m){this.element=v.createElement("div"),this.element.classList.add(Rn());const y=v.createElement("div");y.classList.add(Rn("r")),y.appendChild(m.ringView.element),this.element.appendChild(y);const z=v.createElement("div");z.classList.add(Rn("t")),z.appendChild(m.textView.element),this.element.appendChild(z)}}class Ve{constructor(v,m){this.value=m.value,this.viewProps=m.viewProps,this.rc_=new An(v,{formatters:m.formatters,seriesId:m.seriesId,tooltipEnabled:!1,unit:m.ringUnit,value:this.value,viewProps:this.viewProps}),this.tc_=new re(v,{baseStep:m.baseStep,parser:m.parser,props:R.fromObject({draggingScale:m.draggingScale,formatter:m.formatters.text}),value:this.value,viewProps:this.viewProps}),this.view=new On(v,{ringView:this.rc_.view,textView:this.tc_.view})}}function pn(_){const v=[],m=Dn(_);m&&v.push(m);const y=li(_);return y&&v.push(y),new te(v)}function Gt(_){return _===0||_===1||_===2?_:void 0}function dn(_){return _!==void 0?String(_):"0"}function ce(_){const v=G(ht(_.value));return m=>{const y=v(m),z=y.substr(0,1);return y+(z==="-"||z==="+"?" ":"")}}const ai=[{id:"input-camerakit-ring",type:"input",css:'.tp-ckrv_w{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-ckrv_w{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-ckrv_w:hover{background-color:var(--in-bg-h)}.tp-ckrv_w:focus{background-color:var(--in-bg-f)}.tp-ckrv_w:active{background-color:var(--in-bg-a)}.tp-ckrv_w:disabled{opacity:.5}.tp-ckrv{position:relative}.tp-ckrv.tp-v-disabled{opacity:.5}.tp-ckrv::before{background-color:var(--grv-fg);bottom:0;content:"";height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-ckrv::after{background-color:var(--in-fg);content:"";left:0;margin:auto;position:absolute;right:0}.tp-ckrv_w{cursor:pointer;height:calc(var(--bld-us));overflow:hidden}.tp-ckrv_o{height:100%;left:0;position:relative}.tp-ckrv_g{display:block;height:2px;overflow:visible;position:absolute;width:100%}.tp-ckrv_mjt{stroke:var(--in-fg);stroke-width:2;transform-origin:bottom}.tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:1;transform-origin:bottom}.tp-ckrv_l{color:var(--in-fg);font-size:.9em;pointer-events:none;position:absolute;top:0;transform:translateX(-50%);white-space:pre}.tp-ckrv_tt{left:50%;top:-4px;visibility:hidden}.tp-ckrv.tp-ckrv-tt .tp-ckrv_tt{visibility:visible}.tp-ckrv.tp-ckrv-m0::before{display:none}.tp-ckrv.tp-ckrv-m0::after{bottom:0;height:6px;width:2px}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_g{bottom:0;margin:auto;transform:translateY(3px);top:0}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mjt{transform:scaleY(3)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_l{line-height:8px;transform:translateX(-50%) scale(0.8)}.tp-ckrv.tp-ckrv-m1::before{display:none}.tp-ckrv.tp-ckrv-m1::after{bottom:0;height:8px;width:2px}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_g{bottom:0}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mjt{stroke-width:1;transform:scaleY(4)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_l{line-height:12px}.tp-ckrv.tp-ckrv-m2::before{transform:translateY(3px)}.tp-ckrv.tp-ckrv-m2::after{border-radius:2px;bottom:1px;height:4px;width:4px}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_g{display:none}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_l{line-height:12px;transform:translateX(-50%)}.tp-ckrv.tp-ckrv-mw::before,.tp-ckrv.tp-ckrv-mw::after{display:none}.tp-ckrv.tp-ckrv-mw .tp-ckrv_g{bottom:0;opacity:.2}.tp-ckrv.tp-ckrv-mw .tp-ckrv_mjt,.tp-ckrv.tp-ckrv-mw .tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:2;transform:scaleY(10)}.tp-ckrv.tp-ckrv-mw .tp-ckrv_l{display:none}.tp-ckrtxtv{display:flex}.tp-ckrtxtv_r{flex:2}.tp-ckrtxtv_t{flex:1;margin-left:4px}',accept(_,v){if(typeof _!="number")return null;const m=ft,y=ot(v,{view:m.required.constant("cameraring"),max:m.optional.number,min:m.optional.number,series:m.optional.custom(Gt),step:m.optional.number,unit:m.optional.object({pixels:m.required.number,ticks:m.required.number,value:m.required.number}),wide:m.optional.boolean});return y?{initialValue:_,params:y}:null},binding:{reader:_=>q,constraint:_=>pn(_.params),writer:_=>Qe},controller(_){var v,m,y;const z=(v=_.params.unit)!==null&&v!==void 0?v:{ticks:5,pixels:40,value:10},at=_.constraint,Rt={ring:ce(z),text:G(At(at,_.initialValue))};return _.params.wide?new An(_.document,{formatters:Rt,seriesId:(m=dn(_.params.series))!==null&&m!==void 0?m:"0",tooltipEnabled:!0,unit:z,value:_.value,viewProps:_.viewProps}):new Ve(_.document,{baseStep:xe(at),draggingScale:oi(at,_.initialValue),formatters:Rt,parser:Y,seriesId:(y=dn(_.params.series))!==null&&y!==void 0?y:"0",ringUnit:z,value:_.value,viewProps:_.viewProps})}},{id:"input-camerakit-wheel",type:"input",css:'.tp-ckrv_w{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-ckrv_w{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-ckrv_w:hover{background-color:var(--in-bg-h)}.tp-ckrv_w:focus{background-color:var(--in-bg-f)}.tp-ckrv_w:active{background-color:var(--in-bg-a)}.tp-ckrv_w:disabled{opacity:.5}.tp-ckrv{position:relative}.tp-ckrv.tp-v-disabled{opacity:.5}.tp-ckrv::before{background-color:var(--grv-fg);bottom:0;content:"";height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-ckrv::after{background-color:var(--in-fg);content:"";left:0;margin:auto;position:absolute;right:0}.tp-ckrv_w{cursor:pointer;height:calc(var(--bld-us));overflow:hidden}.tp-ckrv_o{height:100%;left:0;position:relative}.tp-ckrv_g{display:block;height:2px;overflow:visible;position:absolute;width:100%}.tp-ckrv_mjt{stroke:var(--in-fg);stroke-width:2;transform-origin:bottom}.tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:1;transform-origin:bottom}.tp-ckrv_l{color:var(--in-fg);font-size:.9em;pointer-events:none;position:absolute;top:0;transform:translateX(-50%);white-space:pre}.tp-ckrv_tt{left:50%;top:-4px;visibility:hidden}.tp-ckrv.tp-ckrv-tt .tp-ckrv_tt{visibility:visible}.tp-ckrv.tp-ckrv-m0::before{display:none}.tp-ckrv.tp-ckrv-m0::after{bottom:0;height:6px;width:2px}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_g{bottom:0;margin:auto;transform:translateY(3px);top:0}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mjt{transform:scaleY(3)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m0 .tp-ckrv_l{line-height:8px;transform:translateX(-50%) scale(0.8)}.tp-ckrv.tp-ckrv-m1::before{display:none}.tp-ckrv.tp-ckrv-m1::after{bottom:0;height:8px;width:2px}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_g{bottom:0}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mjt{stroke-width:1;transform:scaleY(4)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_mnt{transform:scaleY(2)}.tp-ckrv.tp-ckrv-m1 .tp-ckrv_l{line-height:12px}.tp-ckrv.tp-ckrv-m2::before{transform:translateY(3px)}.tp-ckrv.tp-ckrv-m2::after{border-radius:2px;bottom:1px;height:4px;width:4px}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_g{display:none}.tp-ckrv.tp-ckrv-m2 .tp-ckrv_l{line-height:12px;transform:translateX(-50%)}.tp-ckrv.tp-ckrv-mw::before,.tp-ckrv.tp-ckrv-mw::after{display:none}.tp-ckrv.tp-ckrv-mw .tp-ckrv_g{bottom:0;opacity:.2}.tp-ckrv.tp-ckrv-mw .tp-ckrv_mjt,.tp-ckrv.tp-ckrv-mw .tp-ckrv_mnt{stroke:var(--in-fg);stroke-width:2;transform:scaleY(10)}.tp-ckrv.tp-ckrv-mw .tp-ckrv_l{display:none}.tp-ckrtxtv{display:flex}.tp-ckrtxtv_r{flex:2}.tp-ckrtxtv_t{flex:1;margin-left:4px}',accept(_,v){if(typeof _!="number")return null;const m=ft,y=ot(v,{view:m.required.constant("camerawheel"),amount:m.optional.number,max:m.optional.number,min:m.optional.number,step:m.optional.number,wide:m.optional.boolean});return y?{initialValue:_,params:y}:null},binding:{reader:_=>q,constraint:_=>pn(_.params),writer:_=>Qe},controller(_){var v,m;const y=_.constraint,z=oi(y,_.initialValue),at={ring:G(0),text:G(At(y,_.initialValue))};return _.params.wide?new An(_.document,{formatters:at,seriesId:"w",tooltipEnabled:!0,unit:{ticks:10,pixels:40,value:((v=_.params.amount)!==null&&v!==void 0?v:z)*40},value:_.value,viewProps:_.viewProps}):new Ve(_.document,{baseStep:xe(y),draggingScale:z,formatters:at,parser:Y,seriesId:"w",ringUnit:{ticks:10,pixels:40,value:((m=_.params.amount)!==null&&m!==void 0?m:z)*40},value:_.value,viewProps:_.viewProps})}}];a.plugins=ai,Object.defineProperty(a,"__esModule",{value:!0})})})(as,as.exports);const Zh=oc(as.exports),Qh=fa({__proto__:null,default:Zh},[as.exports]),tv=Wo({components:{VTweakpane:Jh,VGithubIcon:$h},setup(){return{onPaneOneCreated:h=>{const f={interval:{min:16,max:48}};h.addInput(f,"interval",{min:0,max:100,step:1})},onPaneTwoCreated:h=>{h.registerPlugin(Qh);const f={flen:55,fnum:1.8,iso:100};h.addInput(f,"flen",{view:"cameraring",series:0,unit:{pixels:50,ticks:10,value:.2},min:1,step:.02}),h.addInput(f,"fnum",{view:"cameraring",series:1,unit:{ticks:10,pixels:40,value:.2},wide:!0,min:1.4,step:.02}),h.addInput(f,"iso",{view:"camerawheel",amount:100})},onPaneThreeCreated:h=>{h.addBlade({view:"text",label:"name",parse:f=>String(f),value:"sketch-01"})},onPaneFourCreated:h=>{const f={background:{r:255,g:0,b:55},tint:{r:0,g:255,b:214,a:.5}};h.addInput(f,"background"),h.addInput(f,"tint")}}}});const ev=(i,o)=>{const a=i.__vccOpts||i;for(const[p,h]of o)a[p]=h;return a},nv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},iv=Pe("div",{class:"absolute bottom-4 right-4"},[Pe("a",{href:"https://app.netlify.com/sites/v-tweakpane/deploys","aria-label":"View deploys on Netlify",target:"_blank",rel:"noopener noreferrer",class:"gray-400"},[Pe("img",{src:"https://www.netlify.com/img/global/badges/netlify-color-accent.svg",alt:"Deploys by Netlify"})])],-1);function rv(i,o,a,p,h,f){const w=Xl("v-github-icon"),C=Xl("v-tweakpane");return Vi(),dr(We,null,[fe(w,{url:"https://github.com/vinayakkulkarni/v-tweakpane"}),Pe("section",nv,[fe(C,{class:"p-4",pane:{title:"Simple Interval / Range Slider Example"},onOnPaneCreated:i.onPaneOneCreated},null,8,["onOnPaneCreated"]),fe(C,{class:"p-4",pane:{title:"Camera Kit Plugin Example"},onOnPaneCreated:i.onPaneTwoCreated},null,8,["onOnPaneCreated"]),fe(C,{class:"p-4",pane:{title:"Blade Example"},onOnPaneCreated:i.onPaneThreeCreated},null,8,["onOnPaneCreated"]),fe(C,{class:"p-4",pane:{title:"Colorpicker Example"},onOnPaneCreated:i.onPaneFourCreated},null,8,["onOnPaneCreated"])]),iv],64)}const sv=ev(tv,[["render",rv]]);Lh(sv).mount("#app");
